(function(l){var h=window.AmazonUIPageJS||window.P,n=h._namespace||h.attributeErrors,c=n?n("BootstrapTour_AUIBuild"):h;c.guardFatal?c.guardFatal(l)(c,window):c.execute(function(){l(c,window)})})(function(l,h,n){l.when("jQuery").register("3p-bs-tooltip",function(c){c.fn.on=c.fn.live;c.fn.off=c.fn.die;var f=function(b,a){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",b,a)};f.VERSION="3.2.0";f.DEFAULTS={animation:!0,placement:"top",selector:!1,
template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};f.prototype.init=function(b,a,e){this.enabled=!0;this.type=b;this.$element=c(a);this.options=this.getOptions(e);this.$viewport=this.options.viewport&&c(this.options.viewport.selector||this.options.viewport);b=this.options.trigger.split(" ");for(a=b.length;a--;)if(e=b[a],"click"==e)this.$element.on("click."+
this.type,this.options.selector,c.proxy(this.toggle,this));else if("manual"!=e){var k="hover"==e?"mouseleave":"focusout";this.$element.on(("hover"==e?"mouseenter":"focusin")+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(k+"."+this.type,this.options.selector,c.proxy(this.leave,this))}this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};f.prototype.getDefaults=function(){return f.DEFAULTS};f.prototype.getOptions=
function(b){b=c.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};f.prototype.getDelegateOptions=function(){var b={},a=this.getDefaults();this._options&&c.each(this._options,function(e,k){a[e]!=k&&(b[e]=k)});return b};f.prototype.enter=function(b){var a=b instanceof this.constructor?b:c(b.currentTarget).data("bs."+this.type);a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+
this.type,a));clearTimeout(a.timeout);a.hoverState="in";if(!a.options.delay||!a.options.delay.show)return a.show();a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)};f.prototype.leave=function(b){var a=b instanceof this.constructor?b:c(b.currentTarget).data("bs."+this.type);a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,a));clearTimeout(a.timeout);a.hoverState="out";if(!a.options.delay||!a.options.delay.hide)return a.hide();
a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)};f.prototype.show=function(){var b=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var a=c.contains(document.documentElement,this.$element[0]);if(!b.isDefaultPrevented()&&a){var e=this,b=this.tip(),a=this.getUID(this.type);this.setContent();b.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&b.addClass("fade");var a="function"==typeof this.options.placement?
this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,k=/\s?auto?\s?/i,g=k.test(a);g&&(a=a.replace(k,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this);this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);var k=this.getPosition(),d=b[0].offsetWidth,m=b[0].offsetHeight;if(g){var g=a,f=this.$element.parent(),f=this.getPosition(f),a="bottom"==a&&k.top+k.height+m-f.scroll>f.height?"top":"top"==a&&
0>k.top-f.scroll-m?"bottom":"right"==a&&k.right+d>f.width?"left":"left"==a&&k.left-d<f.left?"right":a;b.removeClass(g).addClass(a)}k=this.getCalculatedOffset(a,k,d,m);this.applyPlacement(k,a);a=function(){e.$element.trigger("shown.bs."+e.type);e.hoverState=null};c.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}}};f.prototype.applyPlacement=function(b,a){var e=this.tip(),k=e[0].offsetWidth,g=e[0].offsetHeight,d=parseInt(e.css("margin-top"),10),
m=parseInt(e.css("margin-left"),10);isNaN(d)&&(d=0);isNaN(m)&&(m=0);b.top+=d;b.left+=m;c.offset.setOffset(e[0],c.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0);e.addClass("in");var m=e[0].offsetWidth,f=e[0].offsetHeight;"top"==a&&f!=g&&(b.top=b.top+g-f);d=this.getViewportAdjustedDelta(a,b,m,f);d.left?b.left+=d.left:b.top+=d.top;k=d.left?2*d.left-k+m:2*d.top-g+f;g=d.left?"left":"top";d=d.left?"offsetWidth":"offsetHeight";e.offset(b);this.replaceArrow(k,e[0][d],
g)};f.prototype.replaceArrow=function(b,a,e){this.arrow().css(e,b?50*(1-b/a)+"%":"")};f.prototype.setContent=function(){var b=this.tip(),a=this.getTitle();b.find(".tooltip-inner")[this.options.html?"html":"text"](a);b.removeClass("fade in top bottom left right")};f.prototype.hide=function(){function b(){"in"!=a.hoverState&&e.detach();a.$element.trigger("hidden.bs."+a.type)}var a=this,e=this.tip(),k=c.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby");this.$element.trigger(k);
if(!k.isDefaultPrevented())return e.removeClass("in"),c.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this};f.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")};f.prototype.hasContent=function(){return this.getTitle()};f.prototype.getPosition=function(b){b=b||this.$element;var a=b[0],e="BODY"==
a.tagName;return c.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():null,{scroll:e?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:e?c(h).width():b.outerWidth(),height:e?c(h).height():b.outerHeight()},e?{top:0,left:0}:b.offset())};f.prototype.getCalculatedOffset=function(b,a,e,k){return"bottom"==b?{top:a.top+a.height,left:a.left+a.width/2-e/2}:"top"==b?{top:a.top-k,left:a.left+a.width/2-e/2}:"left"==b?{top:a.top+a.height/2-k/2,left:a.left-
e}:{top:a.top+a.height/2-k/2,left:a.left+a.width}};f.prototype.getViewportAdjustedDelta=function(b,a,e,k){var c={top:0,left:0};if(!this.$viewport)return c;var d=this.options.viewport&&this.options.viewport.padding||0,m=this.getPosition(this.$viewport);/right|left/.test(b)?(e=a.top-d-m.scroll,a=a.top+d-m.scroll+k,e<m.top?c.top=m.top-e:a>m.top+m.height&&(c.top=m.top+m.height-a)):(k=a.left-d,a=a.left+d+e,k<m.left?c.left=m.left-k:a>m.width&&(c.left=m.left+m.width-a));return c};f.prototype.getTitle=function(){var b=
this.$element,a=this.options;return b.attr("data-original-title")||("function"==typeof a.title?a.title.call(b[0]):a.title)};f.prototype.getUID=function(b){do b+=~~(1E6*Math.random());while(document.getElementById(b));return b};f.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)};f.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};f.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=
null)};f.prototype.enable=function(){this.enabled=!0};f.prototype.disable=function(){this.enabled=!1};f.prototype.toggleEnabled=function(){this.enabled=!this.enabled};f.prototype.toggle=function(b){var a=this;b&&(a=c(b.currentTarget).data("bs."+this.type),a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,a)));a.tip().hasClass("in")?a.leave(a):a.enter(a)};f.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+
this.type).removeData("bs."+this.type)};var d=c.fn.tooltip;c.fn.tooltip=function(b){return this.each(function(){var a=c(this),e=a.data("bs.tooltip"),k="object"==typeof b&&b;if(e||"destroy"!=b)if(e||a.data("bs.tooltip",e=new f(this,k)),"string"==typeof b)e[b]()})};c.fn.tooltip.Constructor=f;c.fn.tooltip.noConflict=function(){c.fn.tooltip=d;return this}});l.when("jQuery","3p-bs-tooltip").register("3p-bs-popover",function(c,f){var d=function(a,e){this.init("popover",a,e)};if(!c.fn.tooltip)throw Error("Popover requires tooltip.js");
d.VERSION="3.2.0";d.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});d.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);d.prototype.constructor=d;d.prototype.getDefaults=function(){return d.DEFAULTS};d.prototype.setContent=function(){var a=this.tip(),e=this.getTitle(),b=this.getContent();a.find(".popover-title")[this.options.html?
"html":"text"](e);a.find(".popover-content").empty()[this.options.html?"string"==typeof b?"html":"append":"text"](b);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};d.prototype.hasContent=function(){return this.getTitle()||this.getContent()};d.prototype.getContent=function(){var a=this.$element,e=this.options;return a.attr("data-content")||("function"==typeof e.content?e.content.call(a[0]):e.content)};d.prototype.arrow=function(){return this.$arrow=
this.$arrow||this.tip().find(".arrow")};d.prototype.tip=function(){this.$tip||(this.$tip=c(this.options.template));return this.$tip};var b=c.fn.popover;c.fn.popover=function(a){return this.each(function(){var e=c(this),b=e.data("bs.popover"),g="object"==typeof a&&a;if(b||"destroy"!=a)if(b||e.data("bs.popover",b=new d(this,g)),"string"==typeof a)b[a]()})};c.fn.popover.Constructor=d;c.fn.popover.noConflict=function(){c.fn.popover=b;return this}});l.when("jQuery","3p-bs-popover").register("3p-bs-tour",
function(c,f){var d;d=h.document;c.Tour=function(){function b(a){var e;try{e=h.localStorage}catch(b){e=!1}this._options=c.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:e,debug:!1,backdrop:!1,backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default btn-prev" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default btn-next" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default btn-end" data-role="end">End tour</button> </div> </div>',
afterSetState:function(a,e){},afterGetState:function(a,e){},afterRemoveState:function(a){},onStart:function(a){},onEnd:function(a){},onShow:function(a){},onShown:function(a){},onHide:function(a){},onHidden:function(a){},onNext:function(a){},onPrev:function(a){},onPause:function(a,e){},onResume:function(a,e){}},a);this._inited=this._force=!1;this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1};this}b.prototype.addSteps=function(a){var e,b,c;b=0;for(c=
a.length;b<c;b++)e=a[b],this.addStep(e);return this};b.prototype.addStep=function(a){this._options.steps.push(a);return this};b.prototype.getStep=function(a){if(null!=this._options.steps[a])return c.extend({id:"step-"+a,path:"",placement:"right",title:"",content:"<p></p>",next:a===this._options.steps.length-1?-1:a+1,prev:a-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,
orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume},this._options.steps[a])};b.prototype.init=function(a){this._force=a;if(this.ended())return this._debug("Tour ended, init prevented."),this;this.setCurrentStep();
this._initMouseNavigation();this._initKeyboardNavigation();this._onResize(function(a){return function(){return a.showStep(a._current)}}(this));null!==this._current&&this.showStep(this._current);this._inited=!0;return this};b.prototype.start=function(a){null==a&&(a=!1);this._inited||this.init(a);null===this._current&&(a=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(a,this.showStep,0));return this};b.prototype.next=function(){var a;a=this.hideStep(this._current);
return this._callOnPromiseDone(a,this._showNextStep)};b.prototype.prev=function(){var a;a=this.hideStep(this._current);return this._callOnPromiseDone(a,this._showPrevStep)};b.prototype.goTo=function(a){var e;e=this.hideStep(this._current);return this._callOnPromiseDone(e,this.showStep,a)};b.prototype.end=function(){var a,e;a=function(a){return function(e){c(d).off("click.tour-"+a._options.name);c(d).off("keyup.tour-"+a._options.name);c(h).off("resize.tour-"+a._options.name);a._setState("end","yes");
a._inited=!1;a._force=!1;a._clearTimer();if(null!=a._options.onEnd)return a._options.onEnd(a)}}(this);e=this.hideStep(this._current);return this._callOnPromiseDone(e,a)};b.prototype.ended=function(){return!this._force&&!!this._getState("end")};b.prototype.restart=function(){this._removeState("current_step");this._removeState("end");return this.start()};b.prototype.pause=function(){var a;a=this.getStep(this._current);if(!a||!a.duration)return this;this._paused=!0;this._duration-=(new Date).getTime()-
this._start;h.clearTimeout(this._timer);this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining).");if(null!=a.onPause)return a.onPause(this,this._duration)};b.prototype.resume=function(){var a;a=this.getStep(this._current);if(!a||!a.duration)return this;this._paused=!1;this._start=(new Date).getTime();this._duration=this._duration||a.duration;this._timer=h.setTimeout(function(a){return function(){return a._isLast()?a.next():a.end()}}(this),this._duration);this._debug("Started step "+
(this._current+1)+" timer with duration "+this._duration);if(null!=a.onResume&&this._duration!==a.duration)return a.onResume(this,this._duration)};b.prototype.hideStep=function(a){var e,b,g;if(g=this.getStep(a))return this._clearTimer(),b=this._makePromise(null!=g.onHide?g.onHide(this,a):void 0),e=function(e){return function(b){var k;k=c(g.element);k.data("bs.popover")||k.data("popover")||(k=c("body"));null!=g.elements?c.each(g.elements,function(b,g){c.isArray(g)?c.each(g,function(b,g){k=c(g);k.popover("destroy").removeClass("tour-"+
e._options.name+"-element tour-"+e._options.name+"-"+a+"-element")}):c(g).popover("destroy").removeClass("tour-"+e._options.name+"-element tour-"+e._options.name+"-"+a+"-element")}):k.popover("destroy").removeClass("tour-"+e._options.name+"-element tour-"+e._options.name+"-"+a+"-element");g.reflex&&k.removeClass("tour-step-element-reflex").off(""+e._reflexEvent(g.reflex)+".tour-"+e._options.name);g.backdrop&&e._hideBackdrop(a);if(null!=g.onHidden)return g.onHidden(e)}}(this),this._callOnPromiseDone(b,
e),b};b.prototype.showStep=function(a){var e,b,g,f;if(this.ended())return this._debug("Tour ended, showStep prevented."),this;if(f=this.getStep(a))return g=a<this._current,e=this._makePromise(null!=f.onShow?f.onShow(this,a):void 0),b=function(e){return function(b){var k;e.setCurrentStep(a);k=function(){switch({}.toString.call(f.path)){case "[object Function]":return f.path();case "[object String]":return this._options.basePath+f.path;default:return f.path}}.call(e);b=[d.location.pathname,d.location.hash].join("");
if(e._isRedirect(k,b))e._redirect(f,k);else{if(e._isOrphan(f)){if(!f.orphan){e._debug("Skip the orphan step "+(e._current+1)+".\nOrphan option is false and the element does not exist or is hidden.");g?e._showPrevStep():e._showNextStep();return}e._debug("Show the orphan step "+(e._current+1)+". Orphans option is true.")}f.backdrop&&e._showBackdrop(e._isOrphan(f)?void 0:f.element);b=function(){if(e.getCurrentStep()===a){null==f.element&&null==f.elements||!f.backdrop||e._showOverlay(f);e._showPopover(f,
a);if(null!=f.onShown)f.onShown(e);c("#step-"+e._current+" .popover-pages").html(e._options.stepStringPre+(e._current+1)+e._options.stepStringMid+e._options.steps.length);return e._debug("Step "+(e._current+1)+" of "+e._options.steps.length)}};f.autoscroll?null!=f.scrollTarget?e._scrollIntoView(f.scrollTarget,b):null!=f.elements?e._containsSubArray(f.elements)?e._scrollIntoView(f.elements[0][0],b):e._scrollIntoView(f.elements[0],b):e._scrollIntoView(f.element,b):b();if(f.duration)return e.resume()}}}(this),
f.delay?(this._debug("Wait "+f.delay+" milliseconds to show the step "+(this._current+1)),h.setTimeout(function(a){return function(){return a._callOnPromiseDone(e,b)}}(this),f.delay)):this._callOnPromiseDone(e,b),e;this._debug("Tour ended, no step")};b.prototype.getCurrentStep=function(){return this._current};b.prototype.setCurrentStep=function(a){null!=a?(this._current=a,this._setState("current_step",a)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,
10));return this};b.prototype._setState=function(a,e){var b;if(this._options.storage){b=""+this._options.name+"_"+a;try{this._options.storage.setItem(b,e)}catch(c){c.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(b,e)}null==this._state&&(this._state={});return this._state[a]=e};b.prototype._removeState=function(a){if(this._options.storage)return a=""+this._options.name+"_"+a,this._options.storage.removeItem(a),
this._options.afterRemoveState(a);if(null!=this._state)return delete this._state[a]};b.prototype._getState=function(a){var e;this._options.storage?(e=""+this._options.name+"_"+a,e=this._options.storage.getItem(e)):null!=this._state&&(e=this._state[a]);if(void 0===e||"null"===e)e=null;this._options.afterGetState(a,e);return e};b.prototype._showNextStep=function(){var a,e,b;b=this.getStep(this._current);e=function(a){return function(e){return a.showStep(b.next)}}(this);a=this._makePromise(null!=b.onNext?
b.onNext(this):void 0);return this._callOnPromiseDone(a,e)};b.prototype._showPrevStep=function(){var a,e,b;b=this.getStep(this._current);e=function(a){return function(e){return a.showStep(b.prev)}}(this);a=this._makePromise(null!=b.onPrev?b.onPrev(this):void 0);return this._callOnPromiseDone(a,e)};b.prototype._debug=function(a){if(this._options.debug)return h.console.log("Bootstrap Tour '"+this._options.name+"' | "+a)};b.prototype._isRedirect=function(a,e){return null!=a&&""!==a&&("[object RegExp]"===
{}.toString.call(a)&&!a.test(e)||"[object String]"==={}.toString.call(a)&&a.replace(/\?.*$/,"").replace(/\/?$/,"")!==e.replace(/\/?$/,""))};b.prototype._redirect=function(a,e){if(c.isFunction(a.redirect))return a.redirect.call(this,e);if(!0===a.redirect)return this._debug("Redirect to "+e),d.location.href=e};b.prototype._isOrphan=function(a){var e=null==a.element||!c(a.element).length||c(a.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==c(a.element)[0].namespaceURI;a=!c(a.elements).length;
return e&&a};b.prototype._isLast=function(){return this._current<this._options.steps.length-1};b.prototype._showPopover=function(a,e){var b,g,d,f;c(".tour-"+this._options.name).remove();f=c.extend({},this._options);d=this._isOrphan(a);a.template=this._template(a,e);d&&(a.element="body",a.placement="top");if(null!=a.elements){var l=this;c.each(a.elements,function(g,d){c.isArray(d)?c.each(d,function(a,g){b=c(g);b.addClass("tour-"+l._options.name+"-element tour-"+l._options.name+"-"+e+"-element")}):
(b=c(d),b.addClass("tour-"+l._options.name+"-element tour-"+l._options.name+"-"+e+"-element"));a.options&&c.extend(f,a.options)})}else b=c(a.element),b.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+e+"-element"),a.options&&c.extend(f,a.options);a.reflex&&!d&&(b.addClass("tour-step-element-reflex"),b.off(""+this._reflexEvent(a.reflex)+".tour-"+this._options.name),b.on(""+this._reflexEvent(a.reflex)+".tour-"+this._options.name,function(a){return function(){return a._isLast()?
a.next():a.end()}}(this)));null!=a.elements?(null!=a.popoverAnchor&&(b=c(a.popoverAnchor)),b.popover({placement:a.placement,trigger:"manual",title:a.title,content:a.content,html:!0,animation:a.animation,container:a.container,template:a.template,selector:b}).popover("show")):b.popover({placement:a.placement,trigger:"manual",title:a.title,content:a.content,html:!0,animation:a.animation,container:a.container,template:a.template,selector:a.element}).popover("show");g=b.data("bs.popover")?b.data("bs.popover").tip():
b.data("popover").tip();g.attr("id",a.id);if(null!=a.elements&&"left"==a.placement){var h=c(a.elements[0]).offset().left-g[0].offsetWidth-10;g.offset({left:h})}this._reposition(g,a);if(d)return this._center(g)};b.prototype._template=function(a,e){var b,g,d,f;f=c.isFunction(a.template)?c(a.template(e,a)):c(a.template);b=f.find(".popover-navigation");d=b.find('[data-role="prev"]');g=b.find('[data-role="next"]');b=b.find('[data-role="pause-resume"]');this._isOrphan(a)&&f.addClass("orphan");f.addClass("tour-"+
this._options.name+" tour-"+this._options.name+"-"+e);0>a.prev&&d.addClass("disabled");0>a.next&&g.addClass("disabled");a.duration||b.remove();return f.clone().wrap("<div>").parent().html()};b.prototype._reflexEvent=function(a){return"[object Boolean]"==={}.toString.call(a)?"click":a};b.prototype._reposition=function(a,e){var b,g,f,m,l,h;f=a[0].offsetWidth;g=a[0].offsetHeight;h=a.offset();m=h.left;l=h.top;b=c(d).outerHeight();null==b&&(b=c(d).height());b=b-h.top-a.outerHeight();0>b&&(h.top+=b);b=
c("html").outerWidth()-h.left-a.outerWidth();0>b&&(h.left+=b);0>h.top&&(h.top=0);0>h.left&&(h.left=0);a.offset(h);if("bottom"===e.placement||"top"===e.placement){if(m!==h.left)return this._replaceArrow(a,2*(h.left-m),f,"left")}else if(l!==h.top)return this._replaceArrow(a,2*(h.top-l),g,"top")};b.prototype._center=function(a){return a.css("top",c(h).outerHeight()/2-a.outerHeight()/2)};b.prototype._replaceArrow=function(a,b,c,g){return a.find(".arrow").css(g,b?50*(1-b/c)+"%":"")};b.prototype._scrollIntoView=
function(a,b){var k,g,d,f,l,n;k=c(a);if(!k.length)return b();g=c(h);f=k.offset().top;n=g.height();l=Math.max(0,f-n/2);this._debug("Scroll into view. ScrollTop: "+l+". Element offset: "+f+". Window height: "+n+".");d=0;return c("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(l)},function(a){return function(){if(2===++d)return b(),a._debug("Scroll into view.\nAnimation end element offset: "+k.offset().top+".\nWindow height: "+g.height()+".")}}(this))};b.prototype._onResize=function(a,b){return c(h).on("resize.tour-"+
this._options.name,function(){clearTimeout(b);return b=setTimeout(a,100)})};b.prototype._initMouseNavigation=function(){var a;a=this;return c(d).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+
" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(a){return function(b){b.preventDefault();return a.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(a){return function(b){b.preventDefault();return a.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(a){return function(b){b.preventDefault();
return a.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(b){b.preventDefault();b=c(this);b.text(a._paused?b.data("pause-text"):b.data("resume-text"));return a._paused?a.resume():a.pause()})};b.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return c(d).on("keyup.tour-"+this._options.name,function(a){return function(b){if(b.which)switch(b.which){case 39:return b.preventDefault(),a._isLast()?a.next():
a.end();case 37:b.preventDefault();if(0<a._current)return a.prev();break;case 27:return b.preventDefault(),a.end()}}}(this))};b.prototype._makePromise=function(a){return a&&c.isFunction(a.then)?a:null};b.prototype._callOnPromiseDone=function(a,b,c){return a?a.then(function(a){return function(d){return b.call(a,c)}}(this)):b.call(this,c)};b.prototype._showBackdrop=function(a){if(!this.backdrop.backgroundShown)return this.backdrop=c("<div>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,
c("body").append(this.backdrop)};b.prototype._hideBackdrop=function(a){this._hideOverlayElement(a);return this._hideBackground()};b.prototype._hideBackground=function(){if(this.backdrop)return this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1};b.prototype._showOverlay=function(a){var b=this;null!=a.elements?this._containsSubArray(a.elements)?c.each(a.elements,function(k,d){var f,m;c.isArray(a.elementsStack)?(a.elementsStack.length!=a.elements.length&&c.error("elementsStack can either be a string or a string array with the same size as the elements array."),
f=a.elementsStack[k]):f=a.elementsStack;c.isArray(a.backdropPadding)?(a.backdropPadding.length!=a.elements.length&&c.error("backdropPadding can either be an integer or an integer array with the same size as the elements array."),m=a.backdropPadding[k]):m=a.backdropPadding;c.isArray(d)?b._showElementGroupOverlay(d,f,m):b._showSingleElementOverlay(d,m)}):b._showElementGroupOverlay(a.elements,a.elementsStack,a.backdropPadding):b._showSingleElementOverlay(a.element,a.backdropPadding);b.backdrop.overlayElementShown=
!0};b.prototype._showSingleElementOverlay=function(a,b){if(($element=c(a))&&0!==$element.length&&!this.backdrop.overlayElementShown){this.backdrop.$element=$element.addClass("tour-step-backdrop");this.backdrop.$background=c("<div>",{"class":"tour-step-background"});var d={width:$element.innerWidth(),height:$element.innerHeight(),offset:$element.offset()};this.backdrop.$background.appendTo("body");b&&(d=this._applyBackdropPadding(b,d));return this.backdrop.$background.width(d.width).height(d.height).offset(d.offset)}};
b.prototype._showElementGroupOverlay=function(a,b,d){var g=this;c.each(a,function(a,b){$element=c(b);g.backdrop.$element=$element.addClass("tour-step-backdrop");g.backdrop.$background=c("<div>",{"class":"tour-step-background"})});a=this._getOverlaySize(a,b);this.backdrop.$background.appendTo("body");d&&(a=this._applyBackdropPadding(d,a));return this.backdrop.$background.width(a.width).height(a.height).offset(a.offset)};b.prototype._hideOverlayElement=function(a){if(this.backdrop.overlayElementShown)return a=
this.getStep(a),null!=a.elements?c.each(a.elements,function(a,b){if(c.isArray(b))c.each(b,function(a,b){$subElement=c(b);$subElement.removeClass("tour-step-backdrop");$subElement=null});else{var d=c(b);d.removeClass("tour-step-backdrop");d=null}}):(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$element=null),c("div").remove(".tour-step-background"),this.backdrop.$background.remove(),this.backdrop.$background=null,this.backdrop.overlayElementShown=!1};b.prototype._applyBackdropPadding=
function(a,b){"object"===typeof a?(null==a.top&&(a.top=0),null==a.right&&(a.right=0),null==a.bottom&&(a.bottom=0),null==a.left&&(a.left=0),b.offset.top-=a.top,b.offset.left-=a.left,b.width=b.width+a.left+a.right,b.height=b.height+a.top+a.bottom):(b.offset.top-=a,b.offset.left-=a,b.width+=2*a,b.height+=2*a);return b};b.prototype._clearTimer=function(){h.clearTimeout(this._timer);return this._duration=this._timer=null};b.prototype._containsSubArray=function(a){var b=!1;c.each(a,function(a,d){if(c.isArray(d))return b=
!0,!1});return b};b.prototype._getOverlaySize=function(a,b){return"vertical"===b?this._getVerticalOverlaySize(a):"horizontal"===b?this._getHorizontalOverlaySize(a):"multidirectional"===b?this._getMultidirectionalOverlaySize(a):this._getDefaultOverlaySize(a)};b.prototype._getVerticalOverlaySize=function(a){var b={width:0,height:0,offset:null};if(null==a||1>a.length)return b;b.offset=c(a[0]).offset();c.each(a,function(a,d){$element=c(d);b.width=$element.innerWidth();b.height+=$element.innerHeight()});
return b};b.prototype._getHorizontalOverlaySize=function(a){var b={width:0,height:0,offset:null};if(null==a||1>a.length)return b;b.offset=c(a[0]).offset();c.each(a,function(a,d){$element=c(d);b.width+=$element.innerWidth();b.height=$element.innerHeight()});return b};b.prototype._getMultidirectionalOverlaySize=function(a){var b={width:0,height:0,offset:null};if(null==a||1>a.length)return b;var d=c(a[0]),g=c(a[a.length-1]),f,m;a=d.offset().left;f=d.offset().top;m=g.offset().left+g.innerWidth();g=g.offset().top+
g.innerHeight();b.width=m-a;b.height=g-f;b.offset=d.offset();return b};b.prototype._getDefaultOverlaySize=function(a){var b={width:0,height:0,offset:null};if(null==a||1>a.length)return b;var d,g,f,m;d=c(a[0]).offset().left;g=c(a[0]).offset().top;f=c(a[0]).offset().left;m=c(a[0]).offset().top;c.each(a,function(a,b){$element=c(b);d=Math.min(d,$element.offset().left);g=Math.min(g,$element.offset().top);f=Math.max(f,$element.offset().left+$element.innerWidth());m=Math.max(m,$element.offset().top+$element.innerHeight())});
b.width=f-d;b.height=m-g;b.offset={left:d,top:g};return b};return b}()})});