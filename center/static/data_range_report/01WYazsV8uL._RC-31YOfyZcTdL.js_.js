(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("AmazonUIFormExtras"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(r){var y=window.AmazonUIPageJS||window.P,z=y._namespace||y.attributeErrors,m=z?z("AmazonUICalendar"):y;m.guardFatal?m.guardFatal(r)(m,window):m.execute(function(){r(m,window)})})(function(r,y,z){r.when("A").register("a-calendar-utils",function(m){function g(a,c){c=a.getFullYear?a.getMonth()+1:c;a=a.getFullYear?a.getFullYear():a;return n(a,c+1,0).getDate()}function n(a,c,b){var h=null;a&&(h=a.getFullYear?new Date(a.getTime()):void 0!==a.year&&void 0!==a.month&&void 0!==a.day?new Date(a.year,
a.month-1,a.day):new Date(a,c-1,b));return h}function e(a){var c=a.match(/[.\/\-\s].*?/);a=a.split(/\W+/);if(!c||!a||0===a.length)throw Error("Invalid date format.");return{separator:c,parts:a}}return{numDaysInMonth:g,newDate:n,add:function(a,c,b){if("d"===b||"w"===b)a.setDate(a.getDate()+c*("w"===b?7:1));else{var h=a.getFullYear()+("y"===b?c:0);c=a.getMonth()+("m"===b?c:0);a.setTime(n(h,c+1,Math.min(a.getDate(),g(h,c+1))).getTime())}return a},parseDate:function(a,c){var b=e(c),h=a?a.split(b.separator):
[],t=null,d;if(h.length===b.parts.length){d=new Date;for(var f=d.getFullYear(),p=d.getDate(),l=d.getMonth(),k=0;k<b.parts.length;k++)switch(d=parseInt(h[k],10),b.parts[k]){case "dd":case "d":p=d;break;case "mm":case "m":l=d-1;break;case "yy":case "yyyy":f=100>d?40>d?2E3+d:1900+d:d}!isNaN(f)&&0<=l&&11>=l&&1<=p&&p<=g(f,l+1)&&(t=new Date(f,l,p,0,0,0))}return t},formatDate:function(a,c){var b=e(c),h={d:a.getDate(),m:a.getMonth()+1,yyyy:a.getFullYear()};h.dd=(10>h.d?"0":"")+h.d;h.mm=(10>h.m?"0":"")+h.m;
for(var t=[],d=0,f=b.parts.length;d<f;d++)t.push(h[b.parts[d]]);return t.join(b.separator)}}});"use strict";r.when("A").register("a-calendar-template-default",function(m){return{monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),
firstDay:0,currentFormat:"{{month}} {{year}}",genericStatus:"Show {{month}} {{year}}",prevText:"\x26lt;Prev",prevStatus:"Show the previous month",prevJumpText:"\x26lt;\x26lt;",prevJumpStatus:"Show the previous year",nextText:"Next\x26gt;",nextStatus:"Show the next month",nextJumpText:"\x26gt;\x26gt;",nextJumpStatus:"Show the next year",currentText:"Current",currentStatus:"Show the current month",todayText:"Today",todayStatus:"Show today's month",clearText:"Clear",clearStatus:"Clear all the dates",
closeText:"Close",closeStatus:"Close the calendar",yearStatus:"Change the year",monthStatus:"Change the month",weekText:"Wk",weekStatus:"Week of the year",dayStatus:"Select DD, M d, yyyy",dateFormat:"mm/dd/yyyy",dateFormatDescription:"Date with format m m/d d/y y y y",defaultStatus:"Select a date",isRTL:!1}});"use strict";r.when("A","a-calendar-utils","a-calendar-template-default").register("a-calendar-renderer",function(m,g,n){function e(b){if(0!==arguments.length)return this.templateData=b||n,this}
var a=m.$,c=e.prototype;c.notifyChange=function(b,h){for(var a=this,d=b.attributes,c=b.$container,p=[],l=g.newDate(d.viewedYear,d.viewedMonth,1),k=0;k<d.numViewMonths;k++){var u=l.getMonth()+1,v=l.getFullYear();p.push(a.renderMonth(d,v,u,0===k,k===d.numViewMonths-1));l=g.add(l,1,"m")}m.delay(function(){c.html(p.join(""));a.notifyBlacklistChange(b);h&&h();m.trigger("a:calendar:change:"+b.attributes.id)},0)};c.renderMonth=function(b,h,a,d,c){var p=this.templateData,l=g.numDaysInMonth(h,a),k=p.firstDay,
u=g.newDate(h,a,1).getDay(),v=g.newDate(h,a,1).getTime(),x=g.newDate(h,a+1,0).getTime(),e=b.minDate?b.minDate.getTime():null,m=b.maxDate?b.maxDate.getTime():null,q=g.newDate(h,a,1),n=(u-k+7)%7,u=42-n-l,r=b.selectedDate?b.selectedDate.getTime():null;g.add(q,-n,"d");for(var k=[],w=0;w<n;w++)k.push(this.renderDayOutsideMonth(q)),g.add(q,1,"d");for(n=0;n<l;n++)w=q.getTime(),k.push(this.renderDay(q,b.selectedDate&&w===r,m&&w>m||e&&w<e,b.onRenderDayClass)),g.add(q,1,"d");for(b=0;b<u;b++)k.push(this.renderDayOutsideMonth(q)),
g.add(q,1,"d");for(b=1;b<=k.length;b++)q=b-1,1===b?k[q]="\x3ctr\x3e"+k[q]:b===k.length?k[q]+="\x3c/tr\x3e":0===b%7&&(k[q]+="\x3c/tr\x3e\x3ctr\x3e");c=this.renderMonthHeader(h,a,d&&(!e||v>e),c&&(!m||x<m));v=this.renderDayHeader();x=p.currentFormat;x=x.replace("{{month}}",p.monthNames[(a-1+12)%12]).replace("{{year}}",h);h=["\x3cdiv class\x3d'a-cal-month-container",d?" a-cal-month-container-first":"","'\x3e",c,"\x3ctable class\x3d'a-cal-month-table' summary\x3d'",x,"'\x3e",v,"\x3ctbody class\x3d'a-cal-days'\x3e"].concat(k);
h.push("\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e");return h.join("")};c.renderDay=function(b,h,a,d){var c=b.getTime();d=["a-cal-d"," ",h?"a-cal-select ":"",a?"a-cal-outbound ":"",d?d.call(this,b)+" ":"","a-cal-d-",c];return["\x3ctd class\x3d'"].concat(d).concat(["' data-timestamp\x3d'",c,"'\x3e\x3ca href\x3d'javascript:void(0)' class\x3d'a-declarative a-cal-date-anchor' data-action\x3d'a-cal-select-date' aria-disabled\x3d'",a?"true":"false","' aria-selected\x3d'",h?"true":"false","'\x3e",b.getDate(),
"\x3c/a\x3e\x3c/td\x3e"]).join("")};c.renderDayOutsideMonth=function(b){return["\x3ctd class\x3d'a-cal-na a-cal-d-",b.getTime(),"'\x3e",this.templateData.dayOutsideMonth,"\x3c/td\x3e"].join("")};c.renderDayHeader=function(){for(var b=this.templateData,a=[],c=0;7>c;c++){var d=(c+b.firstDay)%7;a.push("\x3cth class\x3d'a-cal-day-label'\x3e");a.push(b.dayNamesShort[d]);a.push("\x3c/th\x3e")}b=["\x3cthead class\x3d'a-cal-labels'\x3e\x3ctr\x3e"].concat(a);b.push("\x3c/tr\x3e\x3c/thead\x3e");return b.join("")};
c.renderMonthHeader=function(b,a,c,d){var f=this.templateData,p=f.monthNames[(a-1+12)%12],l=f.monthNames[(a+12)%12],k=1===a?b-1:b,u=12===a?b+1:b,v=f.genericStatus,g=f.genericStatus,e=f.currentFormat,v=v.replace("{{month}}",f.monthNames[(a-2+12)%12]).replace("{{year}}",k),g=g.replace("{{month}}",l).replace("{{year}}",u),e=e.replace("{{month}}",p).replace("{{year}}",b);b=c?["\x3ca class\x3d'a-declarative a-cal-paginate-prev' data-action\x3d'a-cal-prev-month' tabindex\x3d'0'\x3e\x3cspan class\x3d'a-offscreen'\x3e",
v,"\x3c/span\x3e\x3ci class\x3d'a-icon a-icon-previous'\x3e\x3c/i\x3e\x3c/a\x3e"].join(""):"";d=d?["\x3ca class\x3d'a-declarative a-cal-paginate-next' data-action\x3d'a-cal-next-month' tabindex\x3d'0'\x3e\x3cspan class\x3d'a-offscreen'\x3e",g,"\x3c/span\x3e\x3ci class\x3d'a-icon a-icon-next'\x3e\x3c/i\x3e\x3c/a\x3e"].join(""):"";return["\x3cdiv class\x3d'a-row a-cal-month-row'\x3e\x3cdiv class\x3d'a-column a-span2'\x3e",b,"\x3c/div\x3e\x3cdiv class\x3d'a-column a-span8 a-text-center'\x3e\x3ch4 class\x3d'a-cal-month-header' tabindex\x3d'0'\x3e",
e,"\x3c/h4\x3e\x3c/div\x3e\x3cdiv class\x3d'a-column a-span2 a-span-last'\x3e",d,"\x3c/div\x3e\x3c/div\x3e"].join("")};c.notifyInputChange=function(a){var h=a.attributes.$inputContainer,c=a.attributes.calInput;if(h){a=a.attributes.selectedDate;h.find(".a-cal-input");var d,f,g;a&&(d=a.getMonth()+1,f=a.getDate(),g=a.getFullYear());h.find(".a-cal-select-month").val(d);h.find(".a-cal-select-day").val(f);h.find(".a-cal-select-year").val(g);c&&c.setDate(a)}};c.notifyDaySelection=function(a,c,t){a=a.$container.find(".a-cal-d.a-cal-d-"+
c.getTime());c=a.find("a");a.toggleClass("a-cal-select",t);c.attr("aria-selected",t)};c.notifyBlacklistChange=function(b){var c=b.$container,t=b.attributes.dateBlacklisted;t?c.find(".a-cal-d").each(function(b,c){var h=a(c),g=t(new Date(h.data("timestamp")));h.attr("aria-disabled",function(){return g?"true":"false"}).toggleClass("a-cal-inactive",g)}):c.find(".a-cal-d").removeClass("a-cal-inactive")};return e});"use strict";r.when("A","a-calendar-utils","a-calendar-renderer-instance","a-calendar-input").register("a-calendar",
function(m,g,n,e){function a(a,b){if(0!==arguments.length){b=b||{};this.$container=a;this.observer=b.observer||n;var d=this.attributes={numViewMonths:1};m.extend(d,b);d.selectedDate=g.newDate(d.selectedDate);d.minDate=g.newDate(d.minDate);d.maxDate=g.newDate(d.maxDate);var f=this.attributes.selectedDate||new Date;d.hasOwnProperty("viewedMonth")||(d.viewedMonth=f.getMonth()+1);d.hasOwnProperty("viewedYear")||(d.viewedYear=f.getFullYear());f=this.getTemplateData();if(d.$inputContainer&&f){var p=d.$inputContainer.find(".a-cal-input");
p.attr("aria-label",f.dateFormatDescription);d.calInput=new e(p,this,f.dateFormat)}d.id||(d.id=++c);this.observer.notifyChange(this);this.observer.notifyInputChange(this);return this}}var c=0,b=a.prototype;b.getTemplateData=function(){return this.observer?this.observer.templateData:null};b.selectDate=function(a,b,c){var f=this.attributes;if(!f.disabled){var e=g.newDate(a,b,c);if(!e||!isNaN(e.getFullYear())){var l=f.dateBlacklisted,k=f.minDate,u=f.maxDate;e&&(l&&l(a,b,c)||k&&e.getTime()<k.getTime()||
u&&e.getTime()>u.getTime())?f.onSelectInactiveDate&&f.onSelectInactiveDate.call(this,a,b,c):(l=this.observer,k=g.newDate(f.selectedDate),f.selectedDate=e,k&&l.notifyDaySelection(this,k,!1),f.selectedDate&&l.notifyDaySelection(this,f.selectedDate,!0),f.onSelectDate&&f.onSelectDate.call(this,a,b,c),f.selectedDate&&(a=f.viewedYear,b=f.viewedMonth,e=f.numViewMonths,c=(new Date(a,b-1,1)).getTime(),a=(new Date(a,b-1+e,0)).getTime(),b=f.selectedDate.getTime(),b<c||b>a)&&(this.changeViewedYear(f.selectedDate.getFullYear()),
this.changeViewedMonth(f.selectedDate.getMonth()+1)),this.observer.notifyInputChange(this))}}};b.changeViewedMonth=function(a){var b=this,c=b.attributes;if(!c.disabled){var f=c.minDate,e=c.maxDate,l=c.viewedYear,k=g.newDate(l,a,1),l=g.newDate(l,a+1,0);f&&l.getTime()<f.getTime()||e&&k.getTime()>e.getTime()?c.onChangeViewedMonthFail&&c.onChangeViewedMonthFail.call(b,a):(c.viewedMonth=k.getMonth()+1,c.viewedYear=k.getFullYear(),b.observer.notifyChange(b,function(){c.onChangeViewedMonth&&c.onChangeViewedMonth.call(b,
a)}))}};b.changeViewedYear=function(a){var b=this,c=b.attributes;if(!c.disabled){var e=c.minDate,m=c.maxDate,l=c.viewedMonth,k=g.newDate(a,l,1),l=g.newDate(a,l+1,0);e&&l.getTime()<e.getTime()||m&&k.getTime()>m.getTime()?c.onChangeViewedYearFail&&c.onChangeViewedYearFail.call(b,a):(c.viewedMonth=k.getMonth()+1,c.viewedYear=k.getFullYear(),b.observer.notifyChange(b,function(){c.onChangeViewedYear&&c.onChangeViewedYear.call(b,a)}))}};b.changeDateBlacklisted=function(a){this.attributes.disabled||(this.attributes.dateBlacklisted=
a,this.observer.notifyBlacklistChange(this),this.attributes.onChangeDateBlacklisted&&this.attributes.onChangeDateBlacklisted.call(this,a))};b.setDisabled=function(a){this.attributes.disabled=a};return a});"use strict";r.when("A","a-calendar","a-calendar-renderer-instance","a-popover").register("a-calendar-framework",function(m,g,n,e){function a(a,c){var b;a.jquery||(a=l(a));b=new g(a,c);k[b.attributes.id]=b;a.data("a-cal-id",b.attributes.id).addClass("a-cal-calendar-container").removeClass("a-cal-static");
return b}function c(b,c){var d;c=m.extend({activate:"onclick"},c||{});d=a(l("\x3cdiv /\x3e"),c);b.data("a-cal-id",d.attributes.id).data("a-cal-popover",!0).removeClass("a-cal-static");return d}function b(a,b){var d;b=b||{};b.$inputContainer=a;d=c(a.find(".a-cal-input"),b);a.find(".a-cal-input-container").removeClass("a-hidden");a.find(".a-cal-dropdown-container").addClass("a-hidden").attr("aria-hidden","true");a.data("a-cal-id",d.attributes.id).data("a-cal-input",!0).addClass("a-cal-calendar-container").removeClass("a-cal-static");
return d}function h(b,c){var d;c=c||{};c.$inputContainer=b;d=a(l("\x3cdiv class\x3d'a-row a-cal-calendar-container' /\x3e"),c);b.append(d.$container);b.find(".a-cal-dropdown-container").addClass("a-hidden").attr("aria-hidden","true");b.data("a-cal-id",d.attributes.id).data("a-cal-input",!0).addClass("a-cal-calendar-container").removeClass("a-cal-static");return d}function t(d){d.jquery||(d=l(d));var e=d.data("a-cal-attributes")||{},f=d.data("a-cal-popover"),g=d.data("a-cal-input"),k=d.data("a-cal-inline"),
n=d.data("a-cal-renderer-instance")||"a-calendar-renderer-instance";r.when(n).execute(function(l){l=m.extend({observer:l},e);g?k?h(d,l):b(d,l):f?c(d,l):a(d,l)})}function d(){l(".a-cal-static").each(function(){t(l(this))})}function f(a){return k[a]}function p(a){var b;a.jquery||(a=l(a));a.length&&(b=a.closest(".a-cal-calendar-container"),b=b.length?f(b.data("a-cal-id")):f(a.data("a-cal-id")));return b}var l=m.$,k={};m.on("a:pageUpdate ready",d);m.declarative("a-cal-input",["click","keyup"],function(a){if(("keyup"===
a.type&&a.$event.keyCode===m.constants.keycodes.ENTER||"click"===a.type)&&!e.get(a.$target)){var b=a.$target.data("a-cal-id"),b=k[b];e.create(a.$target,{activate:"onclick",focusWhenShown:!1,width:"auto",padding:"none",position:b.attributes.position?b.attributes.position:"triggerBottom",closeButton:!1,popoverArrow:!1}).update({content:b.$container.addClass("a-cal-in-popover")}).show()}});return{create:a,createWithPopover:c,createWithInput:b,createWithInputInline:h,createAll:d,get:p,getById:f,remove:function(a){var b=
p(a);if(b){var c=b.attributes.$inputContainer;b.$container.remove();delete k[b.attributes.id];a.data("a-cal-popover")&&e.remove(a);c&&(a=c.find(".a-popover-trigger"),a.data("a-cal-popover")&&e.remove(a))}}}});"use strict";r.when("A","a-calendar-framework","a-popover").register("a-calendar-handler",function(m,g,n){var e=m.$;m.declarative("a-cal-select-date",["click"],function(a){var c=a.$target;if(a=g.get(c))c=new Date(c.parent().data("timestamp")||c.data("timestamp")),a.selectDate(c),a.attributes.$inputContainer&&
(a=n.get(a.attributes.$inputContainer.find(".a-cal-input")))&&a.hide()});m.declarative("a-cal-dropdown-select",["change"],function(a){if(a=g.get(a.$target)){var c=a.attributes.$inputContainer;if(c){var b=c.find(".a-cal-select-year").val(),e=c.find(".a-cal-select-month").val(),c=c.find(".a-cal-select-day").val();b&&e&&c&&a.selectDate(b,e,c)}}});m.declarative("a-cal-prev-month",["click"],function(a){var c=g.get(a.$target);c&&c.changeViewedMonth(c.attributes.viewedMonth-1);e(a.target).focus()});m.declarative("a-cal-next-month",
["click"],function(a){var c=g.get(a.$target);c&&c.changeViewedMonth(c.attributes.viewedMonth+1);e(a.target).focus()});e(document).delegate(".a-icon-calendar","click",function(a){a.stopImmediatePropagation();e(a.target).parent().siblings(".a-cal-input").focus().click();e("html").hasClass("a-ie8")&&e(a.target).addClass("a-hey-ie8").removeClass("a-hey-ie8")});e(document).delegate(".a-cal-input","focusin",function(a){e(a.target).siblings(".a-icon-calendar").addClass("a-icon-calendar-focus")}).delegate(".a-cal-input",
"focusout",function(a){e(a.target).siblings(".a-icon-calendar").removeClass("a-icon-calendar-focus")})});"use strict";r.when("A","a-calendar-renderer","a-calendar-template-default").register("a-calendar-renderer-instance",function(m,g,n){return new g(n)});"use strict";r.when("A","a-calendar-utils").register("a-calendar-input",function(m,g){function n(e,a,c){var b=this;b.$input=e;b.format=c;b.curDate=g.parseDate(e.val(),c);b.$input.bind("keyup change",function(){b.curDate=g.parseDate(e.val(),c);a.selectDate(b.curDate)}).bind("focusout",
function(){b.setDate(a.attributes.selectedDate,!0)})}n.prototype.setDate=function(e,a){var c=this.curDate,b=c instanceof Date,h=e instanceof Date,m=b&&h;if(!e||h)if(b=!m&&(b||h),(c=m&&c.getTime()!==e.getTime())||m&&!0===a||b)m=(this.curDate=e)?g.formatDate(e,this.format):null,this.$input.val(m)};return n})});
/* ******** */
