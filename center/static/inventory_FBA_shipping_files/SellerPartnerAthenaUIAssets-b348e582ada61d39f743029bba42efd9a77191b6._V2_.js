(function(I){var C=window.AmazonUIPageJS||window.P,z=C._namespace||C.attributeErrors,e=z?z("SellerPartnerAthenaUIAssets"):C;e.guardFatal?e.guardFatal(I)(e,window):e.execute(function(){I(e,window)})})(function(I,C,z){ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history").register("spaui-ajax",function(e,g,k,d){var a={get:function(b,d,f,h){a.core("GET",b,d,f,h)},post:function(b,d,f,h){a.core("POST",b,d,f,h)},core:function(a,b,f,h,c){f=e.$.extend({url:b,data:"",dataType:z,payload:{},method:a,
type:a},f);e.$.ajax(f).done(function(a,b,c){e.$.isFunction(h)&&(f.payload.data=a,h(f.payload))}).fail(function(a,h){g.handleSigninRedirect(a.status)?k.send({from:d.getFrom(),where:"someAjaxRequest",to:"responseWasLoginPage",additionalObj:{url:b,statusCode:a.status}}):e.$.isFunction(c)&&(f.payload.data=a,f.payload.errorStatus=h,c(f.payload))})},mockGet:function(d,e,f,h,c,q){b.get=a.mockCore(d,e,f,h,c)},mockPost:function(d,e,f,h,c,q){b.post=a.mockCore(d,e,f,h,c)},mockCore:function(a,b,f,h,c,d){return function(r,
l,n,y){var t=function(){var c=e.$.extend({},l.payload,{data:b});r.match(a)&&(d!==z&&d(l),e.$.isFunction(h)&&h(r,l,n,y),f?e.$.isFunction(y)&&y(c):e.$.isFunction(n)&&n(c))};c?setTimeout(t,c):t()}},mockFailedGet:function(d,e,f){b.get=a.mockFailedCore(d,e,f)},mockFailedPost:function(d,e,f){b.post=a.mockFailedCore(d,e,f)},mockFailedCore:function(a,b,d){return function(h,c,q,r){c=e.$.extend({},c.payload,{data:b,errorStatus:d});h.match(a)&&e.$.isFunction(r)&&r(c)}}},b={get:a.get,post:a.post,mockGet:a.mockGet,
mockPost:a.mockPost,mockFailedGet:a.mockFailedGet,mockFailedPost:a.mockFailedPost};return b});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-theming","spaui-history","spaui-content","spaui-ui","spaui-push-notification","spaui-events","spaui-discovery","spaui-state","spaui-async","spaui-grouped-alerts","spaui-eci-widget","spaui-alert-metrics","spaui-alert-util").register("spaui-alerts",function(e,g,k,d,a,b,p,m,f,h,c,q,r,l,n,y){var t={},B={parentRequestId:null,athenaInitializedWithoutSummon:!1,
onInfoCard:!1,isInfoCardLoaded:!1,alertLoaded:!1,alertFlushed:!1,marketplaceId:null,overrideContext:null,overrideAlertId:null,alertContent:null,shinyCount:0,alertHandles:[]},v={init:function(a){B.marketplaceId=e.state("spaui-state").marketplaceID||e.state("spaui-state").marketplaceId;v.hydrate(a);v.bind()},hydrate:function(a){t.spaui=a;t.gatewayHelpLink=e.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");t.templateHolder=e.$("#spaui-template-shiny-object");f.subscribeAsyncModuleEvent("alerts",
q.LOADED_EVENT,v.onLoad);f.subscribeAsyncModuleEvent("alerts",q.COMPLETED_EVENT,v.onCompleteLoad);f.subscribe(f.getName("newPage"),v.onNewPage);f.subscribe(f.getName("initializedWithoutSummon"),v.onInitialize);f.subscribe(f.getName("dismissed"),v.onAthenaDismissed);h.register("alerts","info",!1,v.firstDiscovery);a={simpleRegister:v.registerSimpleAlert,customRegister:v.registerAlert};l.registerHandles(a);r.registerHandles(a);v.registerSimpleAlert(function(){return!0},k.getContext("alert"),k.getContext("pushNotification"))},
registerSimpleAlert:function(a,b,c,l){v.registerAlert(a,v.createInstrumentClosure(n.discover,b,c),v.createInstrumentClosure(n.read,b,c),v.createInstrumentClosure(n.dismiss,b,c),v.createInstrumentClosure(n.minimize,b,c),l)},createInstrumentClosure:function(a,b,n){return function(c){a(b,n,y.getAlertDetails(c))}},registerAlert:function(a,b,n,c,l,h){B.alertHandles.push({checkFunc:a,onDiscover:b,onOpen:n,onDismiss:c,onMinimize:l,pushConfig:h})},onLoad:function(a){B.alertLoaded=!0;B.alertContent=a?a:t.spaui.find(".spaui-alerts");
0>=e.$(B.alertContent).find(".spaui-alert").length&&v.instrumentNoAlertsToShow(k.getContext("alert"),{});v.attemptMastheadDisplay()},onInitialize:function(){B.athenaInitializedWithoutSummon=!0;v.attemptMastheadDisplay()},onAthenaDismissed:function(){B.onInfoCard=!1;B.athenaInitializedWithoutSummon=!0;v.attemptMastheadDisplay()},attemptMastheadDisplay:function(){if(!(B.onInfoCard||y.isAlertsHidden()||y.alertsAreSuppressed())&&B.alertLoaded&&B.athenaInitializedWithoutSummon&&null!==B.alertContent){var a=
e.$(B.alertContent);B.shinyCount=a.data("shiny-count");a=a.find(".spaui-alert");if(0<a.length){B.alertContent=null;var b=v.getPushNotificationConfig(a);a.data("is-push")&&!1!==b?v.displayPushNotification(a):v.displayShinyObjectAlert(a)}}},onNewPage:function(a){a.type===b.getPageType("info")&&v.dynamicHydrate()},onCompleteLoad:function(){B.alertFlushed=!0;f.publish(f.getName("alertsLoaded"));v.dynamicHydrate();if(y.isAlertsHidden()||y.alertsAreSuppressed())if(t.alerts.hide(),t.viewNotificationCardLink.hide(),
y.isAlertsHidden())return;if(v.isTimeToDiscover())v.onDiscover()},dynamicHydrate:function(){t.alerts=t.spaui.find("#spaui-content .spaui-alerts");t.viewNotificationCardLink=t.spaui.find(".spaui-view-notification-card");t.alerts.find(".spaui-alert").each(function(){var a=e.$(this),b=v.getIconTemplate(a),a=a.find(".spaui-alert-badge"),b=b.find(".spaui-alert-icon");a.empty();a.append(b.clone())})},bind:function(){t.spaui.delegate(".spaui-alert-toggle","click",v.toggle);t.spaui.delegate(".spaui-alert-dismiss",
"click",v.dismiss);t.spaui.delegate(".spaui-alert-load-all","click",v.loadAllHandle);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-load-all","click",v.pushNotificationLoadAll)},toggle:function(a){a.preventDefault();a=e.$(a.currentTarget);var b=y.getAlertFromChild(a);a.hasClass("spaui-alert-toggle-closed")?(a.removeClass("spaui-alert-toggle-closed").addClass("spaui-alert-toggle-open"),a.parent().find(".spaui-alert-content").css("display","block"),g.updateScrollTop(a,70),v.callAlertHandle("onOpen",
b)):(a.removeClass("spaui-alert-toggle-open").addClass("spaui-alert-toggle-closed"),a.parent().find(".spaui-alert-content").css("display","none"),v.callAlertHandle("onMinimize",b))},dismiss:function(a){a.preventDefault();e.$("#spaui-alerts-icon").remove();t.gatewayHelpLink.css("padding-right","");a=y.getAlertFromChild(e.$(a.currentTarget));v.callAlertHandle("onDismiss",a);y.hideSingleAlert(y.getAlertDetails(a).id)},loadAllHandle:function(a,b){a.preventDefault();v.displayAllAlerts({where:b?k.getContext("pushNotification"):
k.getContext("alert")})},displayAllAlerts:function(n){p.getVisible()||p.summoner({});var l=a.getAthenaUrlPrefix()+"athena-all-alerts?requestId="+k.incrementChildRequestId();b.placeEndpoint("alerts",c.enhanceUrl(l),function(b){k.send(e.$.extend({from:a.getFrom(),where:k.getContext("alert"),to:k.getPlace("alerts")},n));v.onLoadAllAlerts({})})},pushNotificationLoadAll:function(a){v.loadAllHandle(a,!0)},onLoadAllAlerts:function(a){v.loadAllDiscover(a);v.loadAllRead(a)},loadAllDiscover:function(a){var b=
[];e.$(".spaui-alerts-all .spaui-alert-info:visible").each(function(){b.push(g.gda(this,"id"))});0>=b.length?v.instrumentNoAlertsToShow(k.getContext("allAlerts"),a):n.massDiscover(k.getContext("allAlerts"),b,a);v.dynamicHydrate()},loadAllRead:function(a){var b=[];e.$(".spaui-alerts-all .spaui-alert-info.spaui-alert-fixed").each(function(){b.push(g.gda(this,"id"))});0<b.length&&n.massRead(k.getContext("allAlerts"),b,a)},onDiscover:function(){var b=t.alerts.find(".spaui-alert");if(0<b.length&&!y.isAlertsHidden()){var n=
t.shinyIcon===z?z:parseInt(t.shinyIcon.data("priority"),10);d.shouldHideAlerts(n)||y.alertsAreSuppressed()?(b=y.getAlertDetails(b),k.send({from:a.getFrom(),where:k.getContext("alert"),to:k.getPlace("alertSuppressed"),payloadObj:{notificationId:b.id,notificationType:b.type,notificationName:b.name}})):(v.callAlertHandle("onDiscover",b),v.isNonToggleAlert(b)&&v.callAlertHandle("onOpen",b))}},isTimeToDiscover:function(){return B.isInfoCardLoaded&&B.alertFlushed},isNonToggleAlert:function(a){return!y.getAlertDetails(a).expandable},
firstDiscovery:function(){B.onInfoCard=!0;B.isInfoCardLoaded=!0;if(v.isTimeToDiscover())v.onDiscover()},instrumentNoAlertsToShow:function(b,n){k.send({from:a.getFrom(),where:b,to:k.getPlace("noAlertToShow"),additionalObj:n})},displayShinyObjectAlert:function(b,n){var c=v.getIconTemplate(b,n).find(".spaui-alert-shiny").clone(),l=g.gda(c,"priority");if(!(b!==z&&d.shouldHideAlerts(l)||l>=(t.shinyIcon===z?999:g.gda(t.shinyIcon,"priority")))){0===t.gatewayHelpLink.length&&(t.gatewayHelpLink=e.$("#helpMenuID .sc_quicklink"));
t.shinyIcon!==z&&t.shinyIcon.remove();t.shinyIcon=c;t.gatewayHelpLink.append(c);t.gatewayHelpLink.css("padding-right","25px");var h=null,l=n||g.gda(b,"severity"),f=v.getSeverity(l);if(null===h||f.priority<h.priority)h=f;h&&(t.gatewayHelpLink.attr("aria-label","Help - "+h.ariaLabel),f=t.alerts!==z?t.alerts.data("shiny-count"):B.shinyCount,h.showCount&&0<f?(c.removeClass("spaui-sprite"),c.addClass("spaui-alert-shiny-count"),c.text(f),c=c.clone(),b.find(".spaui-alert-load-all-node .spaui-alert-load-all").append(c)):
f=0,k.send({from:a.getFrom(),where:k.getContext("alertShinyObject"),to:"discovered",additionalObj:{severityShow:l,count:f}}))}},getShinyIconOverrideCode:function(){return{A1F83G8C2ARO7P:"GB",A1PA6795UKMFR9:"EU",A13V1IB3VIYZZH:"EU",A1RKKUPIHCS9HS:"EU",AJZF8LZ1EJVJN:"EU",APJ6JRA9NG5V4:"EU",A3HOBANJMCMD83:"EU",A21TJRUUN4KGV:"IN",A2XZLSVIQ0F4JT:"IN",AAHKV2X7AFYLW:"SEA",A1VC38T7YXB528:"SEA"}[B.marketplaceId]||"default"},getSeverity:function(a){return{ALERT_HIGH:{priority:0,ariaLabel:"Urgent notification",
showCount:!0},ALERT_MEDIUM:{priority:1,ariaLabel:"Important notification",showCount:!0},INFORMATION:{priority:2,ariaLabel:"Information alert",showCount:!1},OPPORTUNITY:{priority:3,ariaLabel:"Opportunity alert",showCount:!1}}[a]},displayPushNotification:function(a){var b=a.find(".spaui-alert-header").data("expandable"),n=a.find(".spaui-alert-content").clone(),c;c=b?a.find(".spaui-alert-toggle").text():a.find(".spaui-alert-header-inline-push").text();var l=v.getPushNotificationConfig(a);a=y.getAlertDetails(a);
var h=m.create(c,n,l.pushNotificationSev,l.hasMinimizeButton,b);h.data("id",a.id);h.data("type",a.type);h.data("name",a.name);h.data("is-push",!0);v.callAlertHandle("onDiscover",h);b||v.callAlertHandle("onOpen",h);f.subscribe(f.getName("pushNotificationOpened"),function(a){v.callAlertHandle("onOpen",h)});f.subscribe(f.getName("pushNotificationClosed"),function(a){v.callAlertHandle("onDismiss",h)});f.subscribe(f.getName("pushNotificationMinimize"),function(a){v.callAlertHandle("onMinimize",h)})},getPushNotificationConfig:function(a){var b=
{ALERT_HIGH:{type:"urgent",pushNotificationSev:m.HIGH},OPPORTUNITY:{type:"opportunity",pushNotificationSev:m.OPPORTUNITY},ALERT_MEDIUM:{type:"alert",pushNotificationSev:m.MEDIUM},INFORMATION:{type:"info",pushNotificationSev:m.INFORMATION}}[a.data("severity")];return b?(b={type:b.type,pushNotificationSev:b.pushNotificationSev,hasMinimizeButton:!1},a=v.getAlertHandles(a),a.pushConfig&&e.$.isPlainObject(a.pushConfig)&&(b=e.$.extend({},b,a.pushConfig)),b):!1},getState:function(){return B},getIconTemplate:function(a,
b){var n=v.getShinyIconOverrideCode(),c=b||g.gda(a,"severity"),c=t.templateHolder.find("#"+c),n=c.find("."+n);0===n.length&&(n=c.find(".default"));return n},getAlertHandles:function(a){for(var b=0;b<B.alertHandles.length;++b){var n=B.alertHandles[b];if(n.checkFunc(a))return n}},callAlertHandle:function(a,b){var n=v.getAlertHandles(b);if(n[a]&&e.$.isFunction(n[a]))n[a](b)}};return{init:v.init,bindIrisCallsToPushNotification:v.bindIrisCallsToPushNotification,getSeverity:v.getSeverity,getState:v.getState,
getShinyIconOverrideCode:v.getShinyIconOverrideCode,getIconTemplate:v.getIconTemplate,displayShinyObjectAlert:v.displayShinyObjectAlert,displayAllAlerts:v.displayAllAlerts,dynamicHydrate:v.dynamicHydrate,onLoadAllAlerts:v.onLoadAllAlerts}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-ajax").register("spaui-alert-metrics",function(e,g,k,d){var a=null,b=[],p=[],m={iris:"DISCOVERED",alertAction:g.getPlace("alertDiscovered"),pushAction:"load",idList:b},f={iris:"READ",alertAction:g.getPlace("setAlertRead"),
pushAction:"open",idList:p},h={iris:"ABORT",alertAction:g.getPlace("setAlertAbort"),pushAction:"dismiss",idList:[]},c={iris:null,alertAction:g.getPlace("minimized"),pushAction:g.getPlace("minimized"),idList:null},q={init:function(){a=g.getParentRequestId()},instrumentMassDiscover:function(a,c,n){c=q.filterIdsAlreadySeen(c,b);if(0<c.length){b=b.concat(c);var h=c.join(",");q.sendIrisDiscover(h,function(){var b=e.$.extend({ids:h},n);g.send({from:k.getFrom(),where:a,to:g.getPlace("alertMassDiscovered"),
additionalObj:b})})}},instrumentMassRead:function(a,b,n){b=q.filterIdsAlreadySeen(b,p);if(0<b.length){p=p.concat(b);var c=b.join(",");q.sendIrisResponse(f.iris,c,function(){var b=e.$.extend({ids:c},n);g.send({from:k.getFrom(),where:a,to:g.getPlace("alertMassRead"),additionalObj:b})})}},instrumentDiscover:function(a,b,n){q.instrumentAlert(m,a,b,n)},instrumentRead:function(a,b,n){q.instrumentAlert(f,a,b,n)},instrumentDismiss:function(a,b,n){q.instrumentAlert(h,a,b,n)},instrumentMinimize:function(a,
b,n){q.sendMetrics(c,a,b,n)},instrumentAlert:function(a,b,n,c){var h=a.idList;-1===h.indexOf(c.id)&&(h.push(c.id),q.sendIrisResponse(a.iris,c.id,function(){q.sendMetrics(a,b,n,c)}))},sendMetrics:function(a,b,n,c){b=q.chooseContext(b,n,c);a=q.getAction(a,c);g.send({from:k.getFrom(),where:b,to:a,additionalObj:{isPush:c.isPush},payloadObj:{notificationId:c.id,notificationType:c.type,notificationName:c.name}})},sendIrisDiscover:function(a,b){q.sendIrisResponse(m.iris,a,b)},sendIrisResponse:function(b,
c,n){d.get(k.getAthenaUrlPrefix()+"alert/"+b+"?ids="+c+"&prid="+a,{},function(){e.$.isFunction(n)&&n()})},chooseContext:function(a,b,n){return n.isPush?b:a},getAction:function(a,b){return b.isPush?a.pushAction:a.alertAction},filterIdsAlreadySeen:function(a,b){return a.filter(function(a){return-1===b.indexOf(a)})}};return{init:q.init,sendIrisDiscover:q.sendIrisDiscover,massDiscover:q.instrumentMassDiscover,massRead:q.instrumentMassRead,discover:q.instrumentDiscover,read:q.instrumentRead,dismiss:q.instrumentDismiss,
minimize:q.instrumentMinimize}});ASPP.when("ASPA").register("spaui-alert-util",function(e){var g=!1,k=null,d;return{init:function(a){k=a;d=e.$("#sc-quicklinks-top")},getAlertFromInnerEvent:function(a){a=e.$(a.target);var b=a.closest(".spaui-alert");0===b.length&&(b=a.closest("#spaui-push-notification"));return b},getAlertDetails:function(a){var b={isPush:!1},d=a.find(".spaui-alert-info");0===d.length&&a.is("#spaui-push-notification")&&(b.isPush=!0,d=a);b.id=d.data("id");b.name=d.data("name");b.type=
d.data("type");b.expandable=d.data("expandable");return b},getAlertFromChild:function(a){var b=a.closest(".spaui-alert");0===b.length&&(b=a.closest("#spaui-push-notification"));return b},hideSingleAlert:function(a,b){var p=k.find(".spaui-alerts");if(0<p.length&&(1===p.find(".spaui-alert").length&&p.data("is-hidden",!0),a)){var p=p.find('.spaui-alert-info[data-id="'+a+'"]').closest("li.spaui-alert"),g=k.find(".spaui-alert-load-all-node");0<p.length&&(p.fadeOut({duration:300}),g.fadeOut({duration:300}),
p.addClass("spaui-alert-dismissed"),g.addClass("spaui-alert-dismissed"))}p=d.find("#spaui-push-notification");0<p.length&&(g=p.data("id")+"",g===a+""&&p.fadeOut({duration:300}));e.$.isFunction(b)&&b()},isAlertsHidden:function(){var a=k.find(".spaui-alerts");return 0<a.length&&!0===a.data("is-hidden")},hideAllAlerts:function(){k.find(".spaui-alerts").each(function(){e.$(this).hide()});k.find(".spaui-async-alerts").hide();g=!0},alertsAreSuppressed:function(){return g}}});ASPP.when("ASPA","spaui-ui",
"spaui-metrics","spaui-history","spaui-events","spaui-content","spaui-search","spaui-util","spaui-help").register("spaui-api",function(e,g,k,d,a,b,p,m,f){var h=!1,c={init:function(){c.bind()},bind:function(){C._sellerPartnerAthena=r;a.subscribe(a.getName("initialized"),function(){c.triggerLoadedEvent(g.getVisible())})},triggerLoadedEvent:function(a){if(C._sellerPartnerAthenaLoaded&&!h){h=!0;var b=C._sellerPartnerAthenaLoaded,c;for(c in b)if(b.hasOwnProperty(c)&&e.$.isFunction(b[c]))b[c](a)}},summon:function(){g.summoner({external:!0,
where:k.getContext("externalApi"),additionalObj:e.$.extend({},q)})},maybeSummon:function(){g.getVisible()||c.summon()},getTracking:function(){return{where:k.getContext("externalApi"),additionalObj:e.$.extend({},q)}},assertRegistered:function(){if(null===q.clientId||null===q.context)throw"Access to Athena's external API is restricted until you register with it by calling _sellerPartnerAthena.register([clientId], [context])";}},q={client:null,context:null},r={register:function(a,b){q.client=a;q.context=
b},summon:function(){c.assertRegistered();c.maybeSummon()},banish:function(){c.assertRegistered();g.banisher(c.getTracking())},displayHelpArticle:function(a){c.assertRegistered();f.displayHelpTopic(a,null,c.getTracking());c.maybeSummon()},displaySearchResults:function(a){c.assertRegistered();p.externalSubmitSearch(decodeURIComponent(a),c.getTracking());c.maybeSummon()},isContentInsideAthena:function(a){if(!(a instanceof e.$))if(m.isHtmlElement(a))a=e.$(a);else throw"content must be either a jQuery object (from ASPA) or an HtmlElement";
return 0<a.closest("#spaui, #spaui-push-notification").length}};return{init:c.init}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-history","spaui-events","spaui-ajax").register("spaui-async",function(e,g,k,d,a,b){var p={},m={},f={},h={transitionTime:400,flushable:[],onSummonAsyncElements:[],nonAsyncModules:{"featured-content":"featured-content",predictive:"predictive",alerts:"alerts"},onLoadState:null,onSummonState:null,preventFlushFlag:!1,LOADED:"loaded",QUEUED:"queued",SLIDING_UP:"slidingUp",
FLUSHED:"flushed",SLIDING_DOWN:"slidingDown",COMPLETED:"completed",LOADED_EVENT:"Loaded",COMPLETED_EVENT:"Completed"},c={init:function(a,b){c.hydrate(a);c.bind();var d=p.spaui.find(".spaui-async-load"),n=c.splitLoadAndSummonAsync(d),d=n.immediately,n=n.onSummon;h.onLoadState=c.initialState(d);h.onSummonState=c.initialState(n);h.onSummonAsyncElements=n;h.callback=b;c.triggerLoad(d);c.loadComplete();c.loadNonAsync()},initialState:function(a){return{initialElementCount:a.length,remainingElementCount:a.length}},
hydrate:function(a){p.spaui=a;p.templates=e.$("#spaui-template-async")},bind:function(){a.subscribe(a.getName("newPage"),c.onNewPage);a.subscribe(a.getName("summon"),c.asyncOnSummon);a.subscribe(a.getName("leavingPage"),c.onLeavePage)},onNewPage:function(){for(var a in m)if(m.hasOwnProperty(a)&&m[a]===h.FLUSHED){var b=f[a],d=p.spaui.find("#"+b);b&&0!==d.length&&(g.resetJqueryAnimation(d),c.moduleComplete(a))}c.flushNoTransition()},onLeavePage:function(){for(var a in m)m.hasOwnProperty(a)&&(m[a]===
h.SLIDING_UP?m[a]=h.QUEUED:m[a]===h.SLIDING_DOWN&&(m[a]=h.FLUSHED));c.preventFlush()},triggerLoad:function(a){for(var b=0;b<a.length;b++)c.asyncLoad(a[b])},splitLoadAndSummonAsync:function(a){var b=[],c=[];a.each(function(){var a=e.$(this),d=a.data("load-event"),f=a.data("module");delete h.nonAsyncModules[f];if("load"===d)b.push(a);else if("summon"===d)c.push(a);else throw"Unrecognized load event type in async module: "+d;});return{onSummon:c,immediately:b}},asyncOnSummon:function(){0<h.onSummonAsyncElements.length&&
(c.triggerLoad(h.onSummonAsyncElements),h.onSummonAsyncElements=[])},asyncLoad:function(a){var h=g.gda(a,"async-url"),d=k.enhanceUrl(h);a.attr("id")===z&&a.attr("id",g.getUid());var n=g.gda(a,"load-event");b.get(d,{dataType:"html"},function(b){c.asyncSuccess(a,b.data,h,n)},function(b){c.asyncError(a,b,h,n)})},transitionAsyncElement:function(a,b,d,n){var p=e.$(b);n?(c.replaceAndFlush(a,p,d),c.moduleComplete(d)):(m[d]=h.SLIDING_UP,a.slideUp(h.transitionTime,function(){m[d]===h.SLIDING_UP&&(p.hide(),
c.replaceAndFlush(a,p,d),g.ensureId(p),f[d]=p.attr("id"),m[d]=h.SLIDING_DOWN,p.slideDown(h.transitionTime,function(){m[d]===h.SLIDING_DOWN&&c.moduleComplete(d)}))}))},replaceAndFlush:function(a,b,h){a.replaceWith(b);c.removeModuleFromFlushQueue(h)},moduleComplete:function(b){m[b]=h.COMPLETED;a.publishAsyncModuleEvent(b,h.COMPLETED_EVENT)},attemptFlush:function(b,d){var f=b.data("module"),n="#"+b.attr("id");h.flushable.push({selector:n,replacement:d,module:f});m[f]=h.QUEUED;a.publishAsyncModuleEvent(f,
h.LOADED_EVENT,d);n=p.spaui.find(n);!h.preventFlushFlag&&0<n.size()&&c.transitionAsyncElement(n,d,f,"none"===n.css("display"))},asyncSuccess:function(a,b,h,n){c.attemptFlush(a,b);c.attemptLoadComplete(n)},asyncError:function(a,b,h,n){"abort"!==g.getErrorDetailsFromAjaxResponse(b.data,b.errorStatus).type&&(b=a.data("template"),b=c.getTemplateHtmlString(b),c.attemptFlush(a,b),c.attemptLoadComplete(n))},getTemplateHtmlString:function(a){a=p.templates.find("#"+a);return 0<a.length?a[0].outerHTML:""},
attemptLoadComplete:function(a){"summon"===a?h.onSummonState.remainingElementCount--:h.onLoadState.remainingElementCount--;c.loadComplete()},loadComplete:function(){c.isTimeToCallback()&&h.callback!==z&&h.callback()},isTimeToCallback:function(){return 0>=h.onLoadState.remainingElementCount&&0>=h.onSummonState.remainingElementCount},loadNonAsync:function(){g.forEachObjectValue(h.nonAsyncModules,function(b){a.publishAsyncModuleEvent(b,h.LOADED_EVENT,null);a.publishAsyncModuleEvent(b,h.COMPLETED_EVENT)})},
getFlushableState:function(){return h.flushable},flushNoTransition:function(){h.preventFlushFlag=!1;h.flushable.forEach(function(a){var b=p.spaui.find(a.selector);0<b.length&&c.transitionAsyncElement(b,a.replacement,a.module,!0)})},removeModuleFromFlushQueue:function(a){h.flushable=h.flushable.filter(function(b){return b.module!==a})},preventFlush:function(){h.preventFlushFlag=!0},setTransitionTime:function(a){h.transitionTime=a}};return{init:c.init,getFlushableState:c.getFlushableState,setTransitionTime:c.setTransitionTime,
LOADED_EVENT:h.LOADED_EVENT,COMPLETED_EVENT:h.COMPLETED_EVENT}});ASPP.when("ASPA","spaui-history","spaui-metrics","spaui-session","spaui-state","spaui-triggers","spaui-ui","spaui-util","spaui-content","spaui-search","spaui-feedback","spaui-alerts","spaui-links","spaui-predictive","spaui-shim","spaui-global-nav-search","spaui-hmd","spaui-featured-content","spaui-async","spaui-theming","spaui-forums","spaui-push-notification","spaui-eci-widget","spaui-events","spaui-weblabs","spaui-discovery","spaui-api",
"spaui-help","spaui-linkcopy","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util","spaui-alert-metrics","spaui-expand","spaui-grouped-alerts","spaui-workflows","spaui-rightclick","spaui-notification-card","spaui-instance","ready").register("spaui",function(e,g,k,d,a,b,p,m,f,h,c,q,r,l,n,y,t,B,v,F,G,z,w,x,E,J,L,u,O,P,K,Q,R,S,T,I,U,V,W){var A={$dom:{},preview:{fadeOutTime:400,show:!0,dismiss:null}},M=null,N,D={init:function(e){n.init();g.init(e);a.init(C);m.init(C);m.exposejQuery();J.init();
S.init();D.hydrate();D.bind();E.init(e.weblabs);k.init(e.instrumentation);d.init();W.init(C.sessionStorage);U.init(A.$dom.spaui);p.init(A.$dom.spaui);L.init();u.init(A.$dom.spaui);f.init(A.$dom.spaui,e.serverUrl.url,e.sellerU.ids,e.helpContentJSWhitelist.ids);O.init(A.$dom.spaui,e.serverUrl.url);h.init(A.$dom.spaui,e.enableSearchSuggestions.enabled,e.navSearchWeblab.treatment);z.init(A.$dom.spaui);c.init(A.$dom.spaui);t.init(A.$dom.spaui);G.init(A.$dom.spaui);D.preview(e.preview);b.init({athenaHome:D.home,
footerContactUs:e.footerContactUsWeblab.treatment});F.init();Q.init(A.$dom.spaui);R.init();q.init(A.$dom.spaui);w.init(A.$dom.spaui);r.init(A.$dom.spaui,e.enableForumsCard.enabled);l.init(A.$dom.spaui);B.init(A.$dom.spaui);P.init(A.$dom.spaui);K.init(A.$dom.spaui);T.init(A.$dom.spaui);I.init();V.init(A.$dom.spaui);v.init(A.$dom.spaui,function(){});D.initialState()},hydrate:function(){A.$dom.doc=e.$(document);A.$dom.win=e.$(C);A.$dom.spaui=e.$("#spaui");A.$dom.home=A.$dom.spaui.find("#spaui-home");
A.$dom.pop=A.$dom.spaui.find("#spaui-pop");A.$dom.back=A.$dom.spaui.find("#spaui-content-ui-back");A.preview.dismiss=g.getAthenaUrlPrefix()+"preview-card/dismiss"},bind:function(){A.$dom.home.click(D.home);A.$dom.pop.click(D.pop);A.$dom.back.click(D.back);A.$dom.spaui.delegate(".spaui-go-home","click",D.home);x.subscribe(x.getName("goHome"),function(){D.home()})},preview:function(a){A.preview.show=a.show},initialState:function(){f.initialState();p.initialState();K.initialState();var b=u.initialState();
a.isOnUrl("/hz/productsearch")&&a.isParamPresent("productSearchTourOpen")&&e.$("#tutorial-expander-id").trigger("click");var c=!1;m.isOnArticle()&&a.showBrowseAllHelpOnLoad()?(M=f.getPageType("browseAllHelp"),c=!0,u.displayBrowseAllHelpFromSession()):!d.getTopicID()||a.isAnySummoningParamPresent()||b||(M=f.getPageType("helpTopic"),c=!0,u.displayHelpTopicFromSession(d.getTopicID(),d.getTopicURL()));d.getPinned()?c?x.subscribe(x.getName("newPage"),D.onNewPage):p.summoner({session:!0}):p.isSummoned()||
x.publish(x.getName("initializedWithoutSummon"));D.previewToDataStore();x.publish(x.getName("initialized"))},onNewPage:function(a){a.type===M&&(M=null,x.unsubscribe(x.getName("newPage"),D.onNewPage),p.summoner({session:!0}))},previewToDataStore:function(){d.getPreview()&&A.preview.show&&D.enablePreview();d.getPreview()&&!A.preview.show&&d.setPreview(!1);!d.getPreview()&&A.preview.show&&D.previewUpdate()},previewUpdate:function(){e.$.get(A.preview.dismiss)},enablePreview:function(){e.$("#spaui").append(m.gebi("spaui-template-preview").innerHTML);
d.getPinned()?D.previewMetric(k.getContext("session")):(N=e.$.proxy(D.previewMetric,null,k.getContext("trigger")),x.subscribe(x.getName("summon"),N));A.$dom.spaui.delegate("#spaui-preview-jackpot","click",D.previewDismiss);A.$dom.spaui.delegate("#spaui-preview-modal","click",D.previewDismiss);A.$dom.spaui.delegate("#spaui-preview-map-feedback","click",D.previewFeedback);A.$dom.spaui.delegate("#spaui-preview-map-dismiss","click",D.previewGetAnswers)},previewMetric:function(a){N&&x.unsubscribe(x.getName("summon"),
N);k.send({from:g.getFrom(),where:a,to:k.getPlace("previewCard")})},previewFadeOut:function(a,b,c){a.preventDefault();a.stopPropagation();D.previewUpdate();k.send({from:g.getFrom(),where:b,to:g.getFrom()});e.$("#spaui-preview-modal").fadeOut(A.preview.fadeOutTime,function(a){c&&c()})},previewDismiss:function(a){D.previewFadeOut(a,k.getContext("previewAnywhere"))},previewFeedback:function(a){D.previewFadeOut(a,k.getContext("previewFeedback"),function(){c.launchFeedback()})},previewGetAnswers:function(a){D.previewFadeOut(a,
k.getContext("previewGetAnswers"))},back:function(a,b){a.preventDefault();c.setTyping(!1);f.goBack(!1)},home:function(a){a&&a.preventDefault();A.$dom.home.hasClass("spaui-home-off")||1<g.getFromLength()&&f.goBack(!0)},pop:function(a){a.preventDefault();d.setPinned(!1);k.send({from:g.getFrom(),to:k.getPlace("popPage"),where:k.getContext("header")});m.openInNewWindow(g.getPop())},overrideConfig:function(a){A=e.$.extend(!0,{},A,a)}};return{init:D.init,overrideConfig:D.overrideConfig}});ASPP.register("spaui-browser-support",
function(){return{placeholderIsSupported:function(){return"placeholder"in document.createElement("input")},definePropertyIsSupported:function(){var e={};try{return Object.defineProperty(e,"key",{value:"static"}),"static"===e.key}catch(g){return!1}}}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-ui","spaui-theming","spaui-events","spaui-ajax").register("spaui-content",function(e,g,k,d,a,b,p,m,f){function h(){return e.$.extend({},J)}var c,q,r,l,n,y,t,B,v,F,G=
null,H=0,w=0,x={},E={animation:{visible:!1,active:!1,contentFadeInTime:300,distance:410,backAnimateTime:50,fbConfirmTime:2E3,resizeDuration:250,resizePercentage:.4,closeAffordance:{delay:1E3,fade:1250}},bind:!0,template:{next:'<div id="spaui-next"></div>',prev:'<div id="spaui-prev"></div>',current:'<div id="spaui-content" class="spaui-content spaui-new spaui-hide" tabindex="-1"><div id="spaui-inner-content"></div></div>',loadingAnimation:'<div id="scroll-loader" class="scroll-loader"><div class="spaui-content-loading"></div></div>'},
url:null,sellerUniIds:null,javascriptWhitelistIds:null,specialTitleBarActiveClass:"spaui-special-title-bar-active",pageTypes:{alerts:"alerts",browseAllHelp:"browseAllHelp",getSupportCard:"getSupportCard",error:"error",feedback:"feedback",forums:"forums",helpTopic:"helpTopic",info:"info",loading:"loading",search:"search",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCategory"},HELP_URL_PATH:"/gp/help/",TIME_BEFORE_REVERTING_BACK_MS:18E4},J={backButton:!0,feedbackLink:!0,
resetTopic:!0},L={alerts:h(),browseAllHelp:h(),error:h(),forums:h(),search:h(),loading:h(),notificationCard:h(),notificationCardCategory:h(),getSupportCard:e.$.extend({},J,{backButton:!1}),feedback:e.$.extend({},J,{feedbackLink:!1}),helpTopic:e.$.extend({},J,{feedbackLink:!1,resetTopic:!1}),info:e.$.extend({},J,{backButton:!1})},u={init:function(a,b,c,n){u.hydrate(a);u.bind();E.url=b;E.sellerUniIds=c||[];E.javascriptWhitelistIds=n||[]},hydrate:function(a){c=e.$(C);q=a;r=a.find("#spaui-panel");l=a.find("#spaui-home");
n=a.find(".spaui-head-controls-pop");a.find("#spaui-foot-browse");y=a.find("#spaui-content-ui");t=a.find("#spaui-content-ui-back");B=a.find("#spaui-content-ui-feedback-text");v=a.find(".spaui-footer-forum");F=a.find("#spaui-special-title-bar-container")},bind:function(){m.subscribe(m.getName("summon"),u.onAthenaSummoned);e.$(C).unload(u.onPageUnload)},initialState:function(){u.hideUI(!0);B.show();var a=u.getPageType("info");u.setPage(a);m.publish(m.getName("newPage"),{type:a});a=d.getTimeSellerViewingArticle();
null!==a&&(new Date).getTime()-a>E.TIME_BEFORE_REVERTING_BACK_MS&&(d.revertSellerToInfoCard(),d.setTimeSellerViewingArticle(null))},overrideConfig:function(a){e.$.extend(E,a)},prepNext:function(){var a=r.find("#spaui-next");if(!(0<a.length)){var b=e.$("#spaui-inner-content");u.setPage(u.getPageType("loading"));k.pushScroll(b.scrollTop());r.append(E.template.next);a=r.find("#spaui-next");a.css("height",c.height()+"px");a.animate({right:"+="+E.animation.distance},50,function(){b.scrollTop(0)})}},capturePayloadAndCallPlace:function(a,
b,c){if(!e.$.isPlainObject(a))throw"First argument must be a plain object of the page details";return function(n){a.content=n.data;a.errorStatus=n.errorStatus;b(a,c)}},refreshContent:function(a,b){k.pushDom(g.gebi("spaui-content").innerHTML);e.$("#spaui-content").remove();r.append(E.template.current);a instanceof e.$?e.$("#spaui-inner-content").append(a):b?e.$("#spaui-inner-content").html(a):g.gebi("spaui-inner-content").innerHTML=a},fadeContentIn:function(a,b,c){var n=e.$("#spaui-content"),h=a.type;
n.fadeIn(E.animation.contentFadeInTime,function(){e.$("#spaui-next").remove();n.removeClass("spaui-hide");n.removeClass("spaui-new");u.isErrorDom(a.content)&&(d.revertSellerToInfoCard(),a.isPlatformError=!0,a.attemptedType=a.type,a.type=u.getPageType("platformError"),c.isPlatformError=!0);u.showUI(h,b,c);k.update({to:u.getMetricPlaceFromDetails(a)});n.focus()})},isErrorDom:function(a){return 0<e.$(a).find("#spaui-error").length},displaySpecialTitleBar:function(a){F.append(a);q.addClass(E.specialTitleBarActiveClass)},
removeSpecialTitleBar:function(){F.empty();q.removeClass(E.specialTitleBarActiveClass)},getFailed:function(a,b){var c={errorDetails:g.getErrorDetailsFromAjaxResponse(a.content,a.errorStatus),isError:!0};k.pushPop("");u.refreshContent(g.gebi("spaui-template-error-client").innerHTML);a.attemptedType=a.type;a.type=u.getPageType("error");u.fadeContentIn(a,b,c)},getPageType:function(a){return E.pageTypes[a]},hideBackBar:function(){y.hide();r.addClass("spaui-hidden-backbar")},hideUI:function(a){u.clearAllInFlightRequests();
n.removeClass("spaui-shown");p.isFeedbackDisabledOnInfoCard()&&u.hideBackBar();u.removeSpecialTitleBar();v.removeClass("spaui-active");t.hide();B.hide();l.addClass("spaui-home-off");u.publishEventForLeavingPage(a)},showUI:function(a,c,h){y.show();r.removeClass("spaui-hidden-backbar");"info"!==a&&l.removeClass("spaui-home-off");var f=u.getPageConfig(a);if(null===f){h="Page not supported: "+a;if(c){c({isError:!0,error:h});return}throw h;}f.resetTopic&&d.setTopic(null);f.backButton?t.show():t.hide();
f.feedbackLink?B.show():B.hide();"info"===f.type&&p.isFeedbackDisabledOnInfoCard()&&u.hideBackBar();"helpTopic"===f.type&&(n.toggleClass("spaui-shown",!(h&&h.isPlatformError)),d.setTimeSellerViewingArticle((new Date).getTime()));a=u.getPageDetails(f);a.wentBack=h?h.wentBack:!1;u.setPage(a.type);c(h);m.publish(m.getName("newPage"),a);(new Date).getTime();b.contentChanged()},externalShowUI:function(a,b){b===z&&(b=function(){});u.showUI(u.mapMetricsPlaceToPage(a),b)},prepElement:function(a,b,c){u.hideUI();
u.prepNext();u.placePage(u.getDetails(b,a),c)},prepEndpoint:function(a,b,c,n,h,d,f){u.hideUI();u.prepNext();a=u.getDetails(a,null);a.withScripts=n;n=f&&e.$.isFunction(f)?u.wrapWithFilter(u.placePage,f):u.placePage;u.ajax(b,h,d,u.capturePayloadAndCallPlace(a,n,c),u.capturePayloadAndCallPlace(a,u.getFailed,c))},getTemplateContents:function(a,b){var c=g.gebi("spaui-template-"+a);if(null===c)b({isError:!0,error:"Template '"+a+"' does not exist",errorDetails:"Template '"+a+"' does not exist"});else return c},
prepTemplate:function(a,b){u.hideUI();u.prepNext();var c=u.getTemplateContents(a,b);c&&u.placePage(u.getDetails(a,c.innerHTML),b)},prepEndpointAsAppend:function(a,b,c,n,h){e.$("#spaui-inner-content").append(E.template.loadingAnimation);u.createInFlightRequest();u.ajax(a,n,h,e.$.proxy(function(a,n){u.isInFlightRequestIdActive(a)&&(u.clearInFlightRequest(a),e.$("#spaui-inner-content").find("#scroll-loader").remove(),c?e.$("#spaui-inner-content").append(n.data):g.gebi("spaui-inner-content").innerHTML+=
n.data,m.publish(m.getName("newContentOnPage")),b(!0))},null,w),function(a){b(!1,g.getErrorDetailsFromAjaxResponse(a.data,a.errorResponse))});w++},wrapWithFilter:function(a,b){return function(){b.apply(null,arguments)&&a.apply(null,arguments)}},ajax:function(a,b,c,n,h){b=b?f.post:f.get;if(null===c||c===z)c={};b(a,c,n,h)},getDetails:function(a,b){return{type:a,content:b,requestId:++H}},placePage:function(a,b){a.requestId===H&&(u.refreshContent(a.content,a.withScripts),u.fadeContentIn(a,b,{}))},stripTopicId:function(a){return e.$(a).find(".spaui-help").data("topic")},
prepHelpTopicFromTemplate:function(a){var b=u.getTemplateContents("preloadedHelp",a);if(b){var c=u.stripTopicId(b),b={type:u.getPageType("helpTopic"),topicId:c,content:b.innerHTML};u.placeHelpTopic(b,a)}},prepHelpTopic:function(a,b,c){var n="/gp/help/"+a;g.isNull(b)&&(b=n);g.isSellerULink(a)?(g.openInNewWindow(b),d.setPinned(!1)):(u.hideUI(),u.prepNext(),k.pushPop(n),b={type:u.getPageType("helpTopic"),topicId:a,url:b},f.get(k.getAthenaUrlPrefix()+"help-content/"+a+"/",{},u.capturePayloadAndCallPlace(b,
u.placeHelpTopic,c),u.capturePayloadAndCallPlace(b,u.getFailed,c)))},placeHelpTopic:function(a,c){d.setTopicID(a.topicId);d.setTopicURL(a.url);var n=u.isSellerUVideo(a.topicId),h=u.isJavascriptOverride(a.topicId);u.refreshContent(a.content,n||h);n&&b.makeLarge();u.fadeContentIn(a,c,{})},isSellerUVideo:function(a){return u.isMemberOf(a,E.sellerUniIds)},isJavascriptOverride:function(a){return u.isMemberOf(a,E.javascriptWhitelistIds)},isMemberOf:function(a,b){var c=parseInt(a,10);return-1!==b.indexOf(c)},
prepFeaturedAndPredictive:function(a){var b=e.$("#spaui-featured-content-results"),c=e.$("#spaui-predictive-help"),n=b.height()+c.height(),b=b.add(c),h=!1,d=null,p=null;e.$("#spaui-inner-content").append('<div id="spaui-featured-content-predictive-help-loading" class="spaui-featured-content-predictive-help-loading spaui-new" style="top:-'+n+"px;height:"+n+'px;"></div>');n=e.$("#spaui-featured-content-predictive-help-loading");b.css("display","none");n.css("top","0px");b.remove();var n=function(b){b=
g.getErrorDetailsFromAjaxResponse(b.data,b.errorResponse);a(!1,b)},b=C.location.pathname,c=C.location.hash,l=e.$("title").text(),b="?pageUrl="+b+"&pageHash="+encodeURIComponent(c)+"&pageTitle="+l;f.get(k.getAthenaUrlPrefix()+"featured-content"+b,{},function(b){p=b.data;h?u.placeFeaturedAndPredictive(p+d,a):h=!0},n);f.get(k.getAthenaUrlPrefix()+"predictive-help"+b,{},function(b){d=b.data;h?u.placeFeaturedAndPredictive(p+d,a):h=!0},n)},placeFeaturedAndPredictive:function(a,b){e.$("#spaui-inner-content").append(a);
var c=e.$("#spaui-featured-content-predictive-help-loading");e.$("#spaui-featured-content-results");var n=e.$("#spaui-predictive-help"),h=c.height();n.css("position","relative");n.css("top","-"+h+"px");c.css("display","none");n.css("top","0px");c.remove();e.$("#spaui-content").focus();b(!0)},placeContentAfterHelpArticle:function(a){q.find("#spaui-content .spaui-help").after(a)},placeContentBeforeSelector:function(a,b){q.find(a).before(b)},goBack:function(a){u.hideUI();r.prepend(E.template.prev);e.$("#spaui-prev").css("height",
c.height()+"px");e.$("#spaui-prev").animate({right:"-="+E.animation.distance},E.animation.backAnimateTime,function(){u.revealPreviousContent(a)})},revealPreviousContent:function(b){k.popPop();e.$("#spaui-content").remove();r.append(E.template.current);b&&k.prepForHome();g.gebi("spaui-inner-content").innerHTML=k.popDom();var c=e.$("#spaui-content");c.fadeIn(E.animation.contentFadeInTime,function(){e.$("#spaui-prev").remove();c.removeClass("spaui-hide");c.removeClass("spaui-new");c.focus();c.scrollTop(k.popScroll());
var n=k.getTo(),h=k.getFrom();k.update({isBack:!0});u.showUI(u.mapMetricsPlaceToPage(n),function(){},{wentBack:!0});a.send({from:h,where:b?a.getContext("navHome"):a.getContext("navBack"),to:n})})},onAthenaSummoned:function(){(new Date).getTime()},onPageUnload:function(){u.publishEventForLeavingPage()},publishEventForLeavingPage:function(a){a||(a=u.mapMetricsPlaceToPage(k.getFrom()),a=u.getPageDetails(u.getPageConfig(a)),m.publish("leavingPage",a))},setPage:function(a){G=a},getPage:function(){return G},
getPageDetails:function(a){var b={type:a.type};"helpTopic"===a.type&&(b.topicId=d.getTopicID());return b},getPageConfig:function(a){if(L.hasOwnProperty(a)){var b=L[a];b.type=a;return b}return null},mapMetricsPlaceToPage:function(b){var c={};c[a.getPlace("alerts")]=u.getPageType("alerts");c[a.getPlace("notificationCard")]=u.getPageType("notificationCard");c[a.getPlace("notificationCardCategory")]=u.getPageType("notificationCardCategory");c[a.getPlace("browse")]=u.getPageType("browseAllHelp");c[a.getPlace("getSupportCard")]=
u.getPageType("getSupportCard");c[a.getPlace("feedback")]=u.getPageType("feedback");c[a.getPlace("info")]=u.getPageType("info");c[a.getPlace("search")]=u.getPageType("search");c[a.getPlace("forums")]=u.getPageType("forums");var n=null;c.hasOwnProperty(b)?n=c[b]:(b.substr(0,5)===a.getTopic()&&(n=u.getPageType("helpTopic")),"error-"===b.substr(0,6)&&(n=u.getPageType("error")));return n},getMetricPlaceFromDetails:function(b){var c={};c[u.getPageType("alerts")]=a.getPlace("alerts");c[u.getPageType("notificationCard")]=
a.getPlace("notificationCard");c[u.getPageType("notificationCardCategory")]=a.getPlace("notificationCardCategory");c[u.getPageType("browseAllHelp")]=a.getPlace("browse");c[u.getPageType("getSupportCard")]=a.getPlace("getSupportCard");c[u.getPageType("feedback")]=a.getPlace("feedback");c[u.getPageType("forums")]=a.getPlace("forums");c[u.getPageType("info")]=a.getPlace("info");c[u.getPageType("search")]=a.getPlace("search");var n=null;if(c.hasOwnProperty(b.type))n=c[b.type];else if(b.type===u.getPageType("helpTopic"))n=
a.getTopic()+b.topicId;else if(b.attemptedType)c=e.$.extend({},b,{type:b.attemptedType}),b.type===u.getPageType("error")&&(n="error-"+u.getMetricPlaceFromDetails(c)),b.type===u.getPageType("platformError")&&(n="error-platform-"+u.getMetricPlaceFromDetails(c));else throw"No attempted page type";return n},createInFlightRequest:function(){x[w]={active:!0}},isInFlightRequestIdActive:function(a){return x[a]!==z},clearInFlightRequest:function(a){delete x[a]},clearAllInFlightRequests:function(){x={}}};return{displaySpecialTitleBar:u.displaySpecialTitleBar,
getPageType:u.getPageType,getPage:u.getPage,placeContentAfterHelpArticle:u.placeContentAfterHelpArticle,placeContentBeforeSelector:u.placeContentBeforeSelector,placeElement:u.prepElement,placeEndpoint:u.prepEndpoint,placeTemplate:u.prepTemplate,placeEndpointAsAppend:u.prepEndpointAsAppend,placeHelpTopic:u.prepHelpTopic,placeHelpTopicFromTemplate:u.prepHelpTopicFromTemplate,placeFeaturedAndPredictive:u.prepFeaturedAndPredictive,goBack:u.goBack,showUI:u.externalShowUI,hideUI:u.hideUI,overrideConfig:u.overrideConfig,
initialState:u.initialState,init:u.init}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-util","spaui-events","spaui-shim","spaui-session","spaui-help","spaui-overlay","spaui-state","spaui-ui","spaui-instance").register("spaui-contact-deflection",function(e,g,k,d,a,b,p,m,f,h,c,q,r){var l=d.getPageType("getSupportCard"),n=null,y=!1,t=null,B=[d.getPageType("getSupportCard"),d.getPageType("helpTopic")],v=/contact-us/,F=null,G,H,w={init:function(a){n=r.getDeflectionCardVisitId();
w.hydrate(a);w.bind()},hydrate:function(a){F=a;G=e.$("#spaui-templates #spaui-template-getSupportCard");H=a.find("#spaui-foot-contact")},bind:function(){w.isActive()&&(w.rebindContactUs(),w.delegateBind(),b.subscribe(b.getName("newPage"),w.handleNewPage),b.subscribe(b.getName("summon"),w.handleSummon),b.subscribe(b.getName("dismissed"),w.handleDismiss))},className:function(a){return".spaui-get-support-card-"+a},rebindContactUs:function(){var a=G.find(w.className("header-title")).text(),b=H.find(".spaui-footer-icon");
H.text(a);H.append(b);H.removeAttr("href");H.attr("title",a.trim())},delegateBind:function(){F.delegate(".spaui-open "+w.className("item-header"),"click",w.handleClose);F.delegate(".spaui-closed "+w.className("item-header"),"click",w.handleOpen);F.delegate(w.className("item")+" a","click",w.handleLinkClick)},handleClose:function(a){w.transition(a,"spaui-open","spaui-closed","setItemCollapsed")},handleOpen:function(a){w.transition(a,"spaui-closed","spaui-open","setItemExpanded")},transition:function(a,
b,c,n){a.preventDefault();a=e.$(a.currentTarget);a=w.nearestItem(a);a.removeClass(b);a.addClass(c);b=a.attr("id");n={from:k.getFrom(),where:g.getContext("getSupportCardItem"),to:n,additionalObj:{itemId:b}};w.appendVisitAndSendMetrics(n)},handleNewPage:function(a){t=a.type;a.type===l?F.addClass("spaui-footer-hidden"):F.removeClass("spaui-footer-hidden");w.determineVisitId(a.type)},handleSummon:function(){y=!0;t&&w.determineVisitId(t)},handleDismiss:function(){y=!1;w.clearVisitId()},determineVisitId:function(a){y&&
(B.includes(a)||w.clearVisitId())},handleLinkClick:function(b){var n=b.currentTarget.href,d=a.getTopicIDFromLink(n),p=a.contains(n,v),l={from:k.getFrom(),where:g.getContext("content")},B={groupId:w.getGroupId(e.$(b.currentTarget))};h.removeOverlay();r.setContactUsLinkClicked(!0);d!==z?(b.preventDefault(),B=e.$.extend(B,{articleId:d}),l.additionalObj=B,w.appendVisitId(l),f.displayHelpTopic(d,n,l),a.executeIf(a.isSellerULink,function(a){g.send(e.$.extend(l,{to:g.getTopic()+a}))})(d)):(m.setPinned(!1),
d="launch-unknownPage",p&&(d="launch-contactUs",c.isOnUrl(v)&&w.isNotDeepLink(n)&&(b.preventDefault(),m.isLargeSize()&&q.makeSmall(),q.banisher({where:g.getContext("getSupportCardItem")}))),w.fillLinkMetricsObject(l,d,n,B),w.appendVisitAndSendMetrics(l))},isNotDeepLink:function(b){return a.getPathArguments(b).categoryId===z},fillLinkMetricsObject:function(a,b,c,n){n=e.$.extend(n,{url:c});a.additionalObj=n;a.to=b},getGroupId:function(a){return w.nearestItem(a).attr("id")},nearestItem:function(a){return a.closest(w.className("item"))},
isActive:function(){return 0<G.length},isVisiting:function(){return null!==r.getDeflectionCardVisitId()},displayDeflectionCard:function(a,b){var c={from:k.getFrom(),where:a,to:g.getPlace("getSupportCard")};b!==z&&(c.additionalObj={summoned:b});d.placeTemplate(l,function(){w.appendVisitAndSendMetrics(c);b&&!m.getPinned()&&q.summoner({external:!1})})},appendVisitAndSendMetrics:function(a){w.appendVisitId(a);g.send(a)},appendVisitId:function(a){var b=e.$.extend(a.additionalObj,w.getVisitIdObj());a.additionalObj=
b},getVisitIdObj:function(){null===n&&w.generateNewVisitId();return{visitId:n}},clearVisitId:function(){n=null;r.setDeflectionCardVisitId(null);r.setContactUsLinkClicked(!1)},generateNewVisitId:function(){var b=a.getUid();n=b;r.setDeflectionCardVisitId(b)},initialState:function(){w.isActive()&&w.shouldAutoSummon()&&(m.setTopicID(z),w.displayDeflectionCard("contactUsAutoSummon",!0),h.createFullscreenOverlay())},shouldAutoSummon:function(){var a=!0===G.data("weblab-auto-summon"),b=c.isOnUrl(v),n=c.isParamPresent("categoryId"),
h=r.getContactUsLinkClicked();b||r.setContactUsLinkClicked(!1);return a&&b&&!n&&!h}};return{init:w.init,isActive:w.isActive,isVisiting:w.isVisiting,displayDeflectionCard:w.displayDeflectionCard,initialState:w.initialState}});ASPP.when("ASPA","spaui-shim","spaui-events","spaui-metrics","spaui-history","spaui-expand","spaui-session","spaui-state","spaui-content","spaui-predictive","spaui-alert-util").register("spaui-direct-answer",function(e,g,k,d,a,b,p,m,f,h,c){var q,r=[],l={init:function(a){q=a;l.flushPersistedDA();
l.bindEvents()},bindEvents:function(){k.subscribe(k.getName("newPage"),l.handleNewPage);k.subscribe(k.getName("dismissed"),l.handleDismissal);q.delegate("a","click",l.handleAthenaLinkClick);q.delegate("#spaui-content .spaui-direct-answer","click",l.interactWithDirectAnswer);q.delegate("#spaui-content .spaui-direct-answer "+b.selectors.collapsedElementHeader,"click",l.expand);q.delegate("#spaui-content .spaui-direct-answer "+b.selectors.expandedElementHeader,"click",l.collapse)},handleNewPage:function(){p.clearPersistentDA();
l.scanForDirectAnswer()},handleDismissal:function(){p.clearPersistentDA()},scanForDirectAnswer:function(){q.find("#spaui-content .spaui-direct-answer").each(function(){var a=e.$(this);l.discoverDirectAnswer(a);l.transformDirectAnswer(a);l.transformCollapsing(a)})},handleAthenaLinkClick:function(a){0===e.$(a.target).closest("#spaui-content .spaui-direct-answer").length&&p.clearPersistentDA()},interactWithDirectAnswer:function(a){var b=q.find("#spaui-content .spaui-direct-answer").data("direct-answer-id");
a=e.$(a.target);var c=0<q.find("#spaui-search-results .spaui-direct-answer").length;r.includes(b)||l.adoptDirectAnswer(b,a,c);c&&l.instrument(b,"interacted",a)},discoverDirectAnswer:function(a){var b=0<q.find("#spaui-search-results .spaui-direct-answer").length,c=a.data("direct-answer-id");b&&l.instrument(c,"discovered",a);l.clearAdoptions();l.shouldAdoptImmediately(a)&&l.adoptDirectAnswer(c,a,b)},shouldAdoptImmediately:function(a){return a.hasClass("direct-answer-glance")},transformDirectAnswer:function(a){l.isDirectAnswerTool(a)&&
l.isSearchToolsPresent()&&l.removeToolHeader()},isDirectAnswerTool:function(a){return 0<a.find(".spaui-direct-answer-tools").size()},isSearchToolsPresent:function(){return 0<q.find("#spaui-tools-results").size()},removeToolHeader:function(){q.find("#spaui-tools-results h2").remove()},clearAdoptions:function(){r=[]},adoptDirectAnswer:function(a,b,c){c&&(r.push(a),l.instrument(a,"adopted",b));l.persistDA(b)},instrument:function(b,c,h){b=l.getAdditionalInfo(b,c,h);c={from:a.getFrom(),where:d.getContext("directAnswer"),
to:c,additionalObj:b};d.send(c)},getAdditionalInfo:function(b,c,h){b={id:b,query:a.getSearchQuery()};"discovered"!==c&&"persisted"!==c&&(b.action=h.data("direct-answer-action")||"unspecified");return b},expand:function(a){b.expand(a,l.instrumentExpandCollapse)},collapse:function(a){b.collapse(a,l.instrumentExpandCollapse)},instrumentExpandCollapse:function(b){b={from:a.getFrom(),where:d.getContext("directAnswer"),to:b};d.send(b)},transformCollapsing:function(a){a.find(".spaui-direct-answer-help-collapse").each(function(){b.transformCollapse(e.$(this))})},
persistDA:function(b){var c=b.closest("#spaui-content .spaui-direct-answer");if(c.data("persistence-regex")){b=c[0].outerHTML;c=c.data("persistence-regex");try{p.storePersistentDA({regex:c,html:b})}catch(h){b={from:a.getFrom(),where:d.getContext("directAnswer"),to:"localStorageExceeded"},d.send(b)}}},flushPersistedDA:function(){var a=p.getPersistentDA();a&&(m.isOnUrl(new RegExp(a.regex))&&(f.placeContentBeforeSelector("#spaui-predictive-help, #athena-predictive-help-container",a.html),a=e.$("#spaui-content .spaui-direct-answer").data("direct-answer-id"),
l.instrument(a,"persisted"),h.preventAdoption(),c.hideAllAlerts()),p.clearPersistentDA())}};return{init:l.init,isDirectAnswerTool:l.isDirectAnswerTool}});ASPP.when("ASPA","spaui-events","spaui-util","spaui-async").register("spaui-discovery",function(e,g,k,d){var a={},b={},p={},m=!1,f={init:function(){g.subscribe(g.getName("newPage"),f.pageStateChanged);g.subscribe(g.getName("summon"),f.summonAthena);g.subscribe(g.getName("dismissed"),f.dismissAthena);g.subscribe(g.getName("leavingPage"),f.leftPage)},
register:function(b,c,p,e){a[b]={module:b,page:c,multiplicity:p,discovered:!1,callback:e};g.subscribeAsyncModuleEvent(b,d.COMPLETED_EVENT,function(){f.asyncModuleLoaded(b)})},registerWithoutAsync:function(b,c,d,f){a[b]={module:b,page:c,multiplicity:d,discovered:!1,callback:f};p[b]=!0},asyncModuleLoaded:function(a){p[a]=!0;f.discover()},pageStateChanged:function(a){f.setAllPageStatus(!1);b[a.type]=!0;f.discover()},leftPage:function(){f.setAllPageStatus(!1)},setAllPageStatus:function(a){Object.keys(b).forEach(function(c){b[c]=
a})},summonAthena:function(){m=!0;f.discover()},dismissAthena:function(){m=!1},discover:function(){k.forEachObjectValue(a,f.discoverSingleModule)},discoverSingleModule:function(a){m&&b[a.page]&&p[a.module]&&(!a.discovered||a.multiplicity)&&(a.callback(),a.discovered=!0)}};return{init:f.init,register:f.register,registerWithoutAsync:f.registerWithoutAsync}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-util","spaui-theming","spaui-ajax","spaui-content","spaui-session","spaui-async",
"spaui-alert-util").register("spaui-eci-widget",function(e,g,k,d,a,b,p,m,f,h,c){var q,r={fadeDuration:400,TIME_AFTER_SUBIMT_TO_HIDE:3E3,VALIDATION_ERROR:"validation_error",SUBMIT_TYPE:"SUBMIT"},l={init:function(a){l.hydrate(a);l.bind(a)},hydrate:function(a){q=e.$("#spaui, #sc-quicklinks-top");r.parentRequestId=g.getParentRequestId()},bind:function(){l.contentDelegate(".spaui-eci-verify-yes","click",l.getDetailsAndCall(function(a,b){l.submitPhone(a,b,!0)}));l.contentDelegate(".spaui-eci-verify-no",
"click",l.getDetailsAndCall(l.verifyToChoosePhone));l.contentDelegate(".spaui-eci-submit","click",l.getDetailsAndCall(function(a,b){l.submitPhone(a,b,!1)}));l.contentDelegate(".spaui-eci-remind-me-later","click",l.getDetailsAndCall(l.remindMeLaterClicked,!0))},contentDelegate:function(a,b,c){q.delegate(".spaui-eci-content "+a,b,c)},getDetailsAndCall:function(a,b){return function(h){b&&h.preventDefault();var d=c.getAlertFromInnerEvent(h),d=c.getAlertDetails(d);a(d.id,l.getEciDom(h.target))}},getEciDom:function(a){return e.$(a).closest(".spaui-eci-content")},
registerHandles:function(a){a.simpleRegister(l.isEciAlert,g.getContext("eciNotification"),g.getContext("eciNotification"),{hasMinimizeButton:!0})},isEciAlert:function(a){return 0<a.find(".spaui-eci-content").length},submitPhone:function(b,c,h){var d=c.find(".spaui-eci-choose-phone").data("path").replace(/\{feedbackType\}/,r.SUBMIT_TYPE),f=l.collectParams(b,c,h),d=d+"?"+a.formatObjectAsUrlParams(f);l.instrumentWithVerify(b,"submitted",h);l.submitToLoading(b,c);p.get(d,{},e.$.proxy(l.submitPhoneSuccess,
null,b,c,h),e.$.proxy(l.submitPhoneFailed,null,b,c,h))},remindMeLaterClicked:function(a,b){var c=b.find(".spaui-eci-verify").is(":visible"),h=l.collectParams(a,b,c);p.get(k.getAthenaUrlPrefix()+"alert/LATER?ids="+h.ids+"&prid="+r.parentRequestId,{},function(){l.instrumentWithVerify(a,"remindMeLaterClicked",c)});l.hide(a)},collectParams:function(a,b,c){a={ids:a,prid:r.parentRequestId,sellerVerifysNumber:c};c?(a.country_prefix="",a.phone=b.find(".spaui-eci-verify-phone").val()):(b=b.find(".spaui-eci-choose-phone"),
a.country_prefix=b.find(".spaui-eci-country-prefix").val(),a.phone=b.find(".spaui-eci-phone").val());return a},submitPhoneSuccess:function(a,b,c,h){h.data===r.VALIDATION_ERROR?(l.instrumentWithVerify(a,"validationError",c),l.loadingToValidationFailure(a,b,c)):(l.instrumentWithVerify(a,"submitSuccess",c),l.loadingToSuccess(a,b))},submitPhoneFailed:function(a,b,c){l.instrumentWithVerify(a,"submitFailed",c);l.loadingToFailure(a,b,c)},verifyToChoosePhone:function(a,b){l.instrument(a,"verifyDenied");b.find(".spaui-eci-verify").fadeOut({duration:r.fadeDuration,
complete:function(){b.find(".spaui-eci-choose-phone").show()}})},submitToLoading:function(a,b){b.find(".spaui-eci-choose-phone").hide();b.find(".spaui-eci-verify").hide();b.find(".spaui-eci-validation-failure").hide();b.find(".spaui-eci-submit-failure").hide();b.find(".spaui-eci-form-loading").show()},loadingToSuccess:function(a,b){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-remind-me-later").hide();b.find(".spaui-eci-submit-success").show();setTimeout(function(){l.hide(a)},r.TIME_AFTER_SUBIMT_TO_HIDE)},
hide:function(a){c.hideSingleAlert(a)},showVerifyOrChoose:function(a,b){var c={duration:r.fadeDuration};b?a.find(".spaui-eci-verify").fadeIn(c):a.find(".spaui-eci-choose-phone").fadeIn(c)},loadingToValidationFailure:function(a,b,c){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-validation-failure").show();l.showVerifyOrChoose(b,c)},loadingToFailure:function(a,b,c){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-submit-failure").show();l.showVerifyOrChoose(b,c)},instrumentWithVerify:function(a,
b,c){l.instrument(a,b,{verifying:c})},instrument:function(a,b,c){g.send({from:k.getFrom(),where:g.getContext("eciNotification"),to:b,additionalObj:e.$.extend(c,{eciId:a})})},mockConfig:function(a){e.$.extend(r,a)}};return{init:l.init,mockConfig:l.mockConfig,registerHandles:l.registerHandles}});ASPP.when("ASPA").register("spaui-events",function(e){var g={initialized:"initialized",initializedWithoutSummon:"initializedWithoutSummon",triggerSummon:"triggerSummon",summon:"summon",dismissed:"dismissed",
newPage:"newPage",newContentOnPage:"newContentOnPage",leavingPage:"leavingPage",pushNotificationOpened:"pushNotificationOpened",pushNotificationClosed:"pushNotificationClosed",pushNotificationMinimize:"pushNotificationMinimize",alertsLoaded:"alertsLoaded",goHome:"goHome",featuresChanged:"featuresChanged",notificationListUpdated:"notificationListUpdated",notificationFetchComplete:"notificationFetchComplete"},k={init:function(){},getName:function(d){if(g[d])return g[d];throw"Name '"+d+"' not supported in EVENTS module";
},resolveAuiName:function(d){return"spaui:"+d},subscribe:function(d,a){e.on(k.resolveAuiName(d),a)},unsubscribe:function(d,a){e.off(k.resolveAuiName(d),a)},publish:function(d,a){e.trigger(k.resolveAuiName(d),a)},subscribeAsyncModuleEvent:function(d,a,b){k.subscribe("async"+a+":"+d,b)},publishAsyncModuleEvent:function(d,a,b){k.publish("async"+a+":"+d,b)}};return{init:k.init,getName:k.getName,subscribe:k.subscribe,unsubscribe:k.unsubscribe,publish:k.publish,subscribeAsyncModuleEvent:k.subscribeAsyncModuleEvent,
publishAsyncModuleEvent:k.publishAsyncModuleEvent}});ASPP.when("ASPA").register("spaui-expand",function(e){var g={collapsed:"spaui-collapsed",expanded:"spaui-expanded",duration:400},k={collapsedElementHeader:".spaui-collapsing."+g.collapsed+" .spaui-collapsingHeader",expandedElementHeader:".spaui-collapsing."+g.expanded+" .spaui-collapsingHeader",template:"#spaui-template-collapsing",collapsingContent:".spaui-collapsingContent",anyHeader:":header",elementHeader:".spaui-collapsingHeader"},d,a={init:function(){d=
e.$(k.template)},expand:function(b,d){var e=a.getCollapsingContentObjectFromClick(b);e.body.slideDown(g.duration,function(){a.changeClass(g.collapsed,g.expanded,e.parent,d)})},collapse:function(b,d){var e=a.getCollapsingContentObjectFromClick(b);e.body.slideUp(g.duration,function(){a.changeClass(g.expanded,g.collapsed,e.parent,d)})},getCollapsingContentObjectFromClick:function(a){a.preventDefault();a=e.$(a.currentTarget).parent();var d=a.find(k.collapsingContent);return{parent:a,body:d}},changeClass:function(a,
d,e,f){e.removeClass(a);e.addClass(d);f(d.replace("spaui-",""))},transformCollapse:function(b){var e=a.findHeader(b);if(!(0>=e.size())){e.detach();var m=d.clone();m.removeAttr("id");m.find(k.elementHeader).prepend(e);m.addClass(g.collapsed);b=b.replaceWith(m);m.find(k.collapsingContent).append(b)}},findHeader:function(a){return a.children(k.anyHeader).first()},overrideConfig:function(a){e.$.extend(g,a)}};return{init:a.init,expand:a.expand,collapse:a.collapse,transformCollapse:a.transformCollapse,
overrideConfig:a.overrideConfig,selectors:k}});ASPP.when("ASPA","spaui-metrics","spaui-history").register("spaui-external-metrics",function(e,g,k){var d={register:function(a,b){if(a)return e.$.proxy(d.handle,null,a,b);throw"Register must be given a string to identify your widget or team using our API.";},handle:function(a,b,d,e){b={from:b?"cid-"+b:k.getFrom(),where:a,to:d};e&&(b.additionalObj=e);try{g.validate(b),g.send(b)}catch(f){throw"Error sending metric for '"+a+"': "+f;}}};return{register:d.register}});
ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-discovery","spaui-async","ready").register("spaui-featured-content",function(e,g,k,d,a,b){var p,m,f={init:function(h){p=h;a.register("featured-content","info",!1,f.instrumentDiscover);d.subscribeAsyncModuleEvent("featured-content",b.COMPLETED_EVENT,f.onload)},onload:function(){f.hydrate()},hydrate:function(){m=p.find("#spaui-featured-content-results .spaui-search-results")},getTopicIds:function(){var a=[];m.find("li.spaui-search-result a.spaui-search-result-hot").each(function(){var b=
e.$(this);a.push(b.data("id"))});return a},instrumentDiscover:function(){var a=f.getTopicIds();g.send({from:k.getFrom(),where:g.getContext("featured"),to:"discovered",additionalObj:{featuredTopicIds:a.join(",")}})}};return{getTopicIds:f.getTopicIds,init:f.init}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-metrics","spaui-content").register("spaui-feedback",function(e,g,k,d,a){var b,p,m={active:null,max:1E3,typing:!1,warn:!1},f={init:function(a){f.hydrate(a);f.bind()},hydrate:function(a){b=
a;p=b.find("#spaui-content-ui-back")},bind:function(){b.delegate(".spaui-feedback-link","click",f.giveFeedback);b.delegate("#spaui-feedback-rate-stars","hover",f.starsHover);b.delegate(".spaui-feedback-rate-star","hover",f.starHover);b.delegate(".spaui-feedback-rate-star","click",f.starClick);b.delegate("#spaui-feedback-rate-clear","click",f.starClear);b.delegate("#spaui-feedback-comments-textarea","focus",f.fbTextFocus);b.delegate("#spaui-feedback-comments-textarea","keyup",f.fbTextType);b.delegate("#spaui-feedback-comments-cancel",
"click",f.commentsClear);b.delegate("#spaui-feedback-comments-send","click",f.commentsSend)},giveFeedback:function(a){a.preventDefault();f.launchFeedback()},launchFeedback:function(){a.placeTemplate("feedback",function(a){d.send({from:k.getFrom(),where:d.getContext("navFeedback"),to:d.getPlace("feedback")})})},starsHover:function(a){"mouseenter"===a.type&&(b.find(".spaui-feedback-rate-star").removeClass("on"),b.find("#spaui-feedback-rate-confirm").hide());if("mouseleave"===a.type)for(b.find(".spaui-feedback-rate-star").removeClass("over"),
b.find(".spaui-feedback-rate-text").hide(),m.active&&b.find("#spaui-feedback-rate-confirm").show(),a=1;a<m.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on")},starHover:function(a){if("mouseenter"===a.type){var c=parseInt(a.currentTarget.id.substr(24),10);b.find("#spaui-feedback-rate-confirm").hide();b.find(".spaui-feedback-rate-text").hide();b.find("#spaui-feedback-rate-text"+c).show();var d;for(d=1;d<c+1;d++)b.find("#spaui-feedback-rate-star"+d).addClass("over")}"mouseleave"===a.type&&
(e.$(a.currentTarget).removeClass("over"),e.$(a.currentTarget).removeClass("on"))},starClick:function(a){m.active=parseInt(a.currentTarget.id.substr(24),10);b.find(".spaui-feedback-rate-star").removeClass("on");b.find(".spaui-feedback-rate-star").removeClass("over");b.find(".spaui-feedback-rate-text").hide();for(a=1;a<m.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on");b.find("#spaui-feedback-rate-confirm").show();b.find("#spaui-feedback-rate-comments").show();d.send({from:k.getFrom(),
where:d.getContext("rating"),to:d.getPlace("setFbRate"),payloadObj:{feedbackStarRating:m.active}})},starClear:function(a){a.preventDefault();b.find("#spaui-feedback-rate-confirm").hide();b.find("#spaui-feedback-rate-comments").hide();m.active=null;b.find(".spaui-feedback-rate-star").removeClass("on");b.find("#spaui-feedback-context").show();d.send({from:k.getFrom(),where:d.getContext("rating"),to:d.getPlace("setFbClear")})},fbTextFocus:function(a){a=b.find("#spaui-feedback-comments-textarea");a.addClass("active");
g.textareaFocusPlaceholderFix(a)},fbTextType:function(a){var c=b.find("#spaui-feedback-comments-counter");a=a.currentTarget.value;m.typing||(c.show(),b.find("#spaui-feedback-comments-buttons").show(),b.find("#spaui-feedback-context").hide(),m.typing=!0);var d=m.max-a.length;1>=d&&(a.substr(0,m.max),d=0);g.toggleClassOnCond(c,"asp-color-price",21>d);c.text(d)},commentsSend:function(a){a.preventDefault();a=b.find("#spaui-feedback-comments-textarea").val();""!==a&&(m.typing=!1,p.trigger("click",g.gebi("spaui-feedback-message").innerHTML),
d.send({from:k.getFrom(),to:d.getPlace("setFbSend"),where:d.getContext("rating"),payloadObj:{feedbackText:a}}))},commentsClear:function(a){a.preventDefault();m.typing=!1;b.find("#spaui-feedback-comments-textarea").val("");b.find("#spaui-feedback-comments-textarea").removeClass("active");b.find("#spaui-feedback-comments-counter").hide();b.find("#spaui-feedback-comments-counter").text(m.max);b.find("#spaui-feedback-comments-buttons").hide();b.find("#spaui-feedback-context").show()},setTyping:function(a){m.typing=
a},overrideConfig:function(a){m=e.$.extend({},m,a)}};return{init:f.init,overrideConfig:f.overrideConfig,setTyping:f.setTyping,launchFeedback:f.launchFeedback}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-content","spaui-history","spaui-events","spaui-state").register("spaui-forums",function(e,g,k,d,a,b,p){var m=null,f={},h={init:function(a){h.hydrate(a);h.bind()},hydrate:function(b){f.spaui=b;f.templates=b.find("#spaui-templates");m=a.getAthenaUrlPrefix()+"forums"},bind:function(){b.subscribe(b.getName("newPage"),
h.onNewPage);b.subscribe(b.getName("leavingPage"),h.onLeavingPage);h.bindForums([".spaui-forums-thread",".spaui-forums-thread-subject"],"click",h.openThread);h.bindForums([".spaui-forums-forum",".spaui-forums-forum-name"],"click",h.openForum);h.bindForums(".spaui-forums-browse-link","click",h.openBrowseForum)},getForumSelector:function(a){e.$.isArray(a)||(a=[a]);a.unshift("#spaui-forums");return a.join(" ")},bindForums:function(a,b,d){return f.spaui.delegate(h.getForumSelector(a),b,d)},getForumsElements:function(a){return f.spaui.find(h.getForumSelector(a))},
displayForums:function(){var b=p.enhanceUrl(m);d.placeEndpoint("forums",b,function(){k.send({from:a.getFrom(),where:k.getContext("footer"),to:k.getPlace("forums")})})},onNewPage:function(b){if(b.type===d.getPageType("forums")){b=f.spaui.find("#spaui-forums #spaui-forums-title-bar");0<b.length&&(f.specialTitleBar&&f.specialTitleBar.remove(),f.specialTitleBar=b);d.displaySpecialTitleBar(f.specialTitleBar);var p=[];h.getForumsElements([".spaui-forums-threads-list",".spaui-forums-thread"]).each(function(){p.push(e.$(this).data("thread-id"))});
var g=[];h.getForumsElements([".spaui-forums-forum-list",".spaui-forums-forum"]).each(function(){g.push(e.$(this).data("forum-id"))});k.send({from:a.getFrom(),where:"forumsLinks",to:"discovered",additionalObj:{featuredThreadIds:p.join(","),suggestedForumIds:g.join(",")}})}},onLeavingPage:function(a){a.type===d.getPageType("forums")&&f.templates.append(f.specialTitleBar)},openThread:function(a){h.openInNewTab(a);a=e.$(a.target).closest(".spaui-forums-thread");h.instrumentForums(k.getContext("featuredThreads"),
"ThreadClicked",{threadId:a.data("thread-id"),rank:a.data("rank"),total:h.getForumsElements(".spaui-forums-threads-list").data("total")})},openForum:function(a){h.openInNewTab(a);a=e.$(a.target).closest(".spaui-forums-forum");h.instrumentForums(k.getContext("suggestedForums"),"ForumClicked",{forumId:a.data("forum-id"),rank:a.data("rank"),total:h.getForumsElements(".spaui-forums-forum-list").data("total")})},openBrowseForum:function(a){h.openInNewTab(a);h.instrumentForums(k.getContext("browseForums"),
"BrowseClicked",{})},openInNewTab:function(a){a.preventDefault();g.openInNewWindow(a.target.getAttribute("href"))},instrumentForums:function(b,d,f){k.send({from:a.getFrom(),where:b,to:"forums"+d,additionalObj:f})}};return{init:h.init,displayForums:h.displayForums}});ASPP.when("ASPA","spaui-metrics","spaui-ui","spaui-search-suggestions","spaui-browser-support").register("spaui-global-nav-search",function(e,g,k,d,a){var b,p,m,f,h,c,q={invokeSearchFunc:null,invokeSynchronizeFunction:null,defaultSearchValue:null},
r=!1,l={init:function(a,b){l.hydrate(a,b);l.bind()},hydrate:function(a,d){q.invokeSearchFunc=a;q.invokeSynchronizeFunction=d;b=e.$(document);p=e.$("#sc-global-search");m=p.find("#sc-global-search-form #sc-search-field");f=p.find("#sc-global-search-form .sc-search-button");h=e.$("#spaui-templates #spaui-template-global-nav-search-loading");c=h.find("#spaui-global-nav-loading-tip");0<m.length&&(q.defaultSearchValue=m.val().trim());l.setupPlaceholder()},bind:function(){f.click(l.clickSearch);b.keydown(l.searchKey);
m.keyup(l.synchronizeAthenaSearch);m.focus(l.searchFocused);m.blur(l.searchBlurred);m.bind("paste",q.pasteFunc)},setupPlaceholder:function(){a.placeholderIsSupported()&&!l.placeHolderIsSet(m)?(m.attr("placeholder",q.defaultSearchValue),m.removeAttr("onclick"),m.removeAttr("onblur"),m.val(""),q.placeholderFunc=l.doNothing,q.pasteFunc=l.doNothing):(q.placeholderFunc=l.setPlaceholder,q.pasteFunc=l.onPaste)},placeHolderIsSet:function(a){return a.attr("placeholder")!==z},onPaste:function(){!l.searchTermIsViable()&&
r&&m.val("")},doNothing:function(){},synchronizeAthenaSearch:function(a){q.invokeSynchronizeFunction(m.val())},clickSearch:function(a){a.preventDefault();l.submitSearch()},searchKey:function(a){if(r&&13===(a.keyCode||a.which))return l.submitSearch(),a.preventDefault(),!1},searchFocused:function(a){r=!0;d.newBind(m,l.submitSearch,g.getPlace("globalNav"))},searchBlurred:function(a){r=!1},searchTermIsViable:function(){var a=m.val().trim();return""!==a&&a!==q.defaultSearchValue},submitSearch:function(a){l.searchTermIsViable()&&
(l.showLoading(),d.disable(),d.hide(),q.invokeSearchFunc(m.val(),{from:g.getPlace("globalNav"),where:g.getContext("globalSearch")},a,function(a){"order-redirect"===a?l.changeLoadingToOrderRedirect():"inventory-redirect"===a?l.changeLoadingToInventoryRedirect():(l.hideLoading(),d.enable(),k.summoner({}))}))},showLoading:function(){m.after(c)},changeLoadingToOrderRedirect:function(){c.addClass("spaui-global-nav-redirecting-to-order")},changeLoadingToInventoryRedirect:function(){c.addClass("spaui-global-nav-redirecting-to-inventory")},
hideLoading:function(){c.removeClass("spaui-global-nav-redirecting-to-order");c.removeClass("spaui-global-nav-redirecting-to-inventory");h.append(c)},setSearchBoxValue:function(b){l.isEmpty(b)&&!a.placeholderIsSupported()?q.placeholderFunc():m.val(b)},isEmpty:function(a){return a===z||null===a||0===a.length},setPlaceholder:function(){m.val(q.defaultSearchValue)}};return{init:l.init,setSearchBoxValue:l.setSearchBoxValue}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-alert-metrics","spaui-alert-util",
"spaui-util").register("spaui-grouped-alerts",function(e,g,k,d,a,b){var p=g.getContext("groupedAlert"),m=g.getContext("groupedAlert"),f=null,h={init:function(a){f=a;f.delegate(h.getSelector(".spaui-grouped-alert-item-action"),"click",h.instrumentInteract);f.delegate(h.getSelector(".spaui-grouped-alert-extender"),"click",h.toggleExtender)},registerHandles:function(a){a.customRegister(h.isGroupedAlert,h.alertDiscovered,function(){},function(){},function(){})},isGroupedAlert:function(a){return a.hasClass("spaui-grouped-alert")},
alertDiscovered:function(b){var f=[];h.getRangeOfAlerts(b,0,2).each(function(){var a=e.$(this);f.push(a.data("id"))});b=a.getAlertDetails(b);b.id=f.join(",");d.discover(p,m,b)},toggleExtender:function(a){a.preventDefault();a=e.$(a.currentTarget);b.updateScrollTop(a.closest(".spaui-grouped-alert"),100);a.hasClass("spaui-alert-extender-closed")?(a.removeClass("spaui-alert-extender-closed").addClass("spaui-alert-extender-open"),a.parent().find(".spaui-alert-content").css("display","block"),h.extenderExpanded(a.closest(".spaui-grouped-alert"))):
(a.removeClass("spaui-alert-extender-open").addClass("spaui-alert-extender-closed"),a.parent().find(".spaui-alert-content").css("display","none"),h.extenderCollapsed(a.closest(".spaui-grouped-alert")))},extenderExpanded:function(b){var f=[];h.getRangeOfAlerts(b,2).each(function(){var a=e.$(this);f.push(a.data("id"))});var m=a.getAlertDetails(b),l=f.join(",");d.sendIrisDiscover(l,function(){g.send({from:k.getFrom(),where:p,to:g.getPlace("groupedAlertInnerDiscover"),additionalObj:{isPush:m.isPush},
payloadObj:{notificationId:l,notificationType:m.type,notificationName:m.name}})})},extenderCollapsed:function(b){var f=[];h.getRangeOfAlerts(b,2).each(function(){var a=e.$(this);f.push(a.data("id"))});b=a.getAlertDetails(b);b.id=f.join(",");d.minimize(p,m,b)},instrumentInteract:function(b){var f=a.getAlertFromInnerEvent(b);d.read(p,m,h.getDetailsForAlert(f,h.getAlertFromEvent(b)))},getSelector:function(a){e.$.isArray(a)||(a=[a]);a.unshift(".spaui-grouped-alert");return a.join(" ")},getRangeOfAlerts:function(a,
b,d){return a.map(function(){return e.$(this).find("ul li.spaui-grouped-alert-item").map(function(){return e.$(this)}).get()}).slice(b,d)},getDetailsForAlert:function(b,d){var f=a.getAlertDetails(b);f.id=d.data("id");return f},getAlertFromEvent:function(a){return e.$(a.target).closest(".spaui-grouped-alert-item")}};return{init:h.init,registerHandles:h.registerHandles}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-util","spaui-weblabs","spaui-discovery","spaui-expand","spaui-ui").register("spaui-help",
function(e,g,k,d,a,b,p,m,f){var h=null,c=".spaui-help-content "+m.selectors.collapsedElementHeader,q=".spaui-help-content "+m.selectors.expandedElementHeader,r,l={init:function(a){r=a;l.delegateBind();l.eventBind()},initialState:function(){return a.hasTemplate("preloadedHelp")?(l.displayHelpTopic(null,null,null,null,!1,!0),!0):!1},delegateBind:function(){r.delegate(c,"click",l.expand);r.delegate(q,"click",l.collapse)},eventBind:function(){p.registerWithoutAsync("helpTopic",d.getPageType("helpTopic"),
!0,l.discoverHelpTopic);p.registerWithoutAsync("browseAllHelp",d.getPageType("browseAllHelp"),!0,l.discoverBrowseAllHelp)},bind:function(){e.$(".spaui-help-content .collapsible").each(function(){var a=e.$(this);l.determineCollapse(a)})},expand:function(a){m.expand(a,l.instrumentExpandCollapse)},collapse:function(a){m.collapse(a,l.instrumentExpandCollapse)},determineCollapse:function(a){m.transformCollapse(a)},displayHelpTopic:function(a,b,c,p,m,k){c===z&&(c={});var r=function(b){var d=l.getTopicId(),
r=l.getTrackingData({to:g.getTopic()+d},c,m,k);b.isError?e.$.extend(r,{isError:!0,errorDetails:b.errorDetails}):b.isPlatformError&&(r.isPlatformError=!0);k&&(a=d);h={tracking:r,bookmark:p,actualTopicId:d+"",requestedTopicId:a+""};b.isError||b.isPlatformError||!k||f.summoner({preload:!0})};k?d.placeHelpTopicFromTemplate(r):d.placeHelpTopic(a,b,r)},displayHelpTopicFromSession:function(a,b,c){l.displayHelpTopic(a,b,c,null,!0)},getTopicId:function(a){return r.find(".spaui-help").data("topic")},instrumentRedirects:function(a,
b){g.send({from:"topic"+b,where:"redirect",to:"topic"+a})},discoverHelpTopic:function(){if(h){var b=h.tracking,c=h.bookmark,d=h.actualTopicId,f=h.requestedTopicId;b.isError||b.isPlatformError||(l.bind(),c&&(c=c.slice(1),a.gebi(c)&&a.updateScrollTop(e.$(c),50)));g.validate(b);g.send(b);d!==f&&l.instrumentRedirects(d,f);h=null}},displayBrowseAllHelp:function(a,b){d.placeEndpoint(d.getPageType("browseAllHelp"),k.getAthenaUrlPrefix()+"browse-all-help/",function(c){h={tracking:l.getTrackingData({where:g.getContext("featured"),
to:g.getPlace("browse")},a,b)}})},displayBrowseAllHelpFromSession:function(a){l.displayBrowseAllHelp(a,!0)},getTrackingData:function(a,b,c,d){var f=a.to;a=e.$.extend({from:k.getFrom()},a,b,{to:f});c&&(a.from=a.to,a.where=g.getContext("session"),a.to=g.getPlace("refresh"));d&&(a.where=g.getContext("preload"));return a},discoverBrowseAllHelp:function(){h&&(g.send(h.tracking),h=null)},instrumentExpandCollapse:function(a){g.send({from:k.getFrom(),where:g.getContext("content"),to:a})}};return{init:l.init,
initialState:l.initialState,displayHelpTopic:l.displayHelpTopic,displayHelpTopicFromSession:l.displayHelpTopicFromSession,displayBrowseAllHelp:l.displayBrowseAllHelp,displayBrowseAllHelpFromSession:l.displayBrowseAllHelpFromSession,getTopicId:l.getTopicId}});ASPP.when("ASPA").register("spaui-history",function(e){var g=[],k=[],d=[],a=[],b=[],p=["info"],m=[],f=[],h="/hz/sellerpartner/",c="/hz/augur/",q="any",r=null,l=0,n=null,y=!1,t=!1,B="any",v={init:function(a){a&&(a.athenaUrl&&(h=a.athenaUrl),a.augurUrl&&
(c=a.augurUrl))},getAthenaUrlPrefix:function(){return h},getAugurUrlPrefix:function(){return c},returnFrom:function(){return p[p.length-1]},returnTo:function(){return p[p.length-2]},returnPop:function(){return f[f.length-1]},returnFromLength:function(){return p.length},prepForHome:function(){var a=g[0];g=[];g.push(a);var a=p[0],b=v.returnFrom();p=[];p.push(a);p.push(b);d=[]},pushDom:function(a){g.push(a)},pushPop:function(a){f.push(a)},pushScroll:function(a){m.push(a)},popDom:function(){return g.pop()},
popPop:function(){return f.pop()},popScroll:function(){return m.pop()},update:function(c){c.isBack?(p.pop(),k.pop(),d.pop(),a.pop(),b.pop()):(p.push(c.to),"search"!==c.to&&(q="any",r=null,l=0,n=null),k.push(q),d.push(r),a.push(l),b.push(n))},setSearchStartHistory:function(b){a[a.length-1]=b},returnSearchStartHistory:function(b){return a[a.length-1]},returnSearchTotalHistory:function(){return b[b.length-1]},returnSearchQueryHistory:function(){return d[d.length-1]},setSearchFocused:function(a){y=a},
returnSearchFocused:function(){return y},returnSearchScrollBuffer:function(){return 200},setSearchStart:function(a){l=a},returnSearchStart:function(){return l},returnSearchSize:function(){return 20},setSearchTotal:function(a){n=a},returnSearchTotal:function(){return n},setSearchQuery:function(a){r=a},returnSearchQuery:function(){return r},returnSearchContent:function(){return q},setSearchShowForums:function(a){t=a},returnSearchShowForums:function(){return t},setSearchFilter:function(a){B=a},returnSearchFilter:function(){return B}};
return{init:v.init,getAthenaUrlPrefix:v.getAthenaUrlPrefix,getAugurUrlPrefix:v.getAugurUrlPrefix,update:v.update,prepForHome:v.prepForHome,getFrom:v.returnFrom,getTo:v.returnTo,getPop:v.returnPop,getFromLength:v.returnFromLength,pushDom:v.pushDom,pushPop:v.pushPop,pushScroll:v.pushScroll,popDom:v.popDom,popPop:v.popPop,popScroll:v.popScroll,setSearchStartHistory:v.setSearchStartHistory,getSearchStartHistory:v.returnSearchStartHistory,getSearchTotalHistory:v.returnSearchTotalHistory,getSearchQueryHistory:v.returnSearchQueryHistory,
setSearchRequest:v.setSearchRequest,setSearchFocused:v.setSearchFocused,setSearchStart:v.setSearchStart,setSearchQuery:v.setSearchQuery,getSearchStart:v.returnSearchStart,getSearchContent:v.returnSearchContent,getSearchSize:v.returnSearchSize,getSearchQuery:v.returnSearchQuery,getSearchTotal:v.returnSearchTotal,setSearchTotal:v.setSearchTotal,setSearchShowForums:v.setSearchShowForums,getSearchShowForums:v.returnSearchShowForums,setSearchFilter:v.setSearchFilter,getSearchFilter:v.returnSearchFilter,
getSearchFocused:v.returnSearchFocused,getSearchRequest:v.returnSearchRequest,getSearchScrollBuffer:v.returnSearchScrollBuffer}});ASPP.when("ASPA","spaui-metrics","spaui-util","spaui-history","spaui-session","spaui-contact-deflection","spaui-events","spaui-content","spaui-shim").register("spaui-hmd",function(e,g,k,d,a,b,p,m,f){var h=null,c,q,r={commentFadeInDuration:2E3,completeFadeOutDelay:2E3,fadeOutDuration:400,improvements:{1:!1,2:!1,3:!1,4:!1},commentsMaxChar:1E3,commentsAreForYes:!1},l={init:function(a){l.hydrate(a);
l.bind()},hydrate:function(a){c=a},bind:function(){c.delegate("#spaui-help-hmd-yes","click",l.yes);c.delegate("#spaui-help-hmd-no","click",l.no);c.delegate(".spaui-help-hmd-comments-textarea textarea","click",l.focusTextarea);c.delegate(".spaui-help-hmd-comments-textarea textarea","keyup",l.typeTextarea);c.delegate(".spaui-help-hmd-comments-cancel","click",l.clear);c.delegate(".spaui-help-hmd-comments-send","click",l.send);c.delegate(".spaui-help-hmd-q","change",l.check);c.delegate(".spaui-help-hmd-message a.spaui-external-contact-us-link",
"click",l.contactUsLinkClicked);p.subscribe(p.getName("newPage"),l.onNewPage)},dom:function(a){return c.find("#spaui-help-hmd-"+a)},commentsDom:function(a){return h.find(".spaui-help-hmd-comments-"+a)},allCommentsDom:function(a){return c.find(".spaui-help-hmd-comments-"+a)},getContent:function(){return c.find("#spaui-content")},onNewPage:function(a){a.type===m.getPageType("helpTopic")&&(0>=c.find("#spaui-content #spaui-help-hmd-question").length&&(k.gebi("spaui-content").innerHTML+=k.gebi("spaui-template-help-hmd").innerHTML),
l.allCommentsDom("send").attr("data-topic",a.topicId),l.dom("yes").attr("data-topic",a.topicId),l.dom("no").attr("data-topic",a.topicId))},activateComments:function(a){l.dom("question").addClass("spaui-hide");var d=l.dom("message");d.removeClass("spaui-hide");h=c.find("#spaui-help-hmd-comments-"+a);h.removeClass("spaui-hide");q=h.find(".spaui-help-hmd-comments-textarea textarea");r.commentsAreForYes="yes"===a;l.resetComments();l.getContent().animate({scrollTop:l.getContent()[0].scrollHeight},r.commentFadeInDuration);
!r.commentsAreForYes&&b.isActive()&&b.isVisiting()&&d.find(".spaui-help-hmd-message-inner .asp-alert-content").html(l.dom("negative-get-support-card-message").html())},contactUsLinkClicked:function(b){a.setContactUsLinkClicked(!0);g.send({from:d.getFrom(),where:g.getContext("helpHmd"),to:"getSupportContactUsLink",additionalObj:{topicId:l.dom("no").data("topic")}})},yes:function(a){a.preventDefault();l.activateComments("yes");k.textareaFocusPlaceholderFix(q);l.instrument(a,!0,!1)},no:function(a){a.preventDefault();
l.activateComments("no");k.textareaFocusPlaceholderFix(q);l.instrument(a,!1,!1)},focusTextarea:function(a){q.addClass("active");k.textareaFocusPlaceholderFix(q)},typeTextarea:function(a){1>=r.commentsMaxChar-a.currentTarget.value.length&&(a.currentTarget.value=a.currentTarget.value.substr(0,r.commentsMaxChar));a=r.commentsMaxChar-a.currentTarget.value.length;l.commentsDom("counter").text(a);k.toggleClassOnCond(l.commentsDom("counter"),"asp-color-price",21>a)},clear:function(a){a.preventDefault();
l.resetComments()},resetComments:function(){Object.keys(r.improvements).forEach(function(a){r.improvements[a]=!1;c.find("#spaui-help-hmd-q-"+a).attr("checked",!1)});q.val("");q.removeClass("active");l.commentsDom("counter").text(r.commentsMaxChar)},send:function(a){a.preventDefault();if(null!==h){k.textareaFocusPlaceholderFix(q);l.instrument(a,r.commentsAreForYes,!0);l.resetComments();h.addClass("spaui-hide");h=null;l.dom("message").addClass("spaui-hide");l.dom("message-again").removeClass("spaui-hide");
var b=setTimeout(function(){l.dom("message-again").fadeOut(r.fadeOutDuration,function(){l.dom("message-again").remove()});clearTimeout(b);b=null},r.fadeOutDuration)}},check:function(a){var b=k.gda(a.currentTarget,"aInputName");a=e.$(a.currentTarget).find("input");r.improvements[b]=a.prop("checked")},instrument:function(a,b,c){a=k.gda(a.currentTarget,"topic");var f="",h=[],f=q.val();!b&&c&&Object.keys(r.improvements).forEach(function(a){r.improvements[a]&&h.push(e.$("#spaui label[for=spaui-help-hmd-q-"+
a+"]").find(".asp-checkbox-label").html())});b=b?"1":"0";g.sendHmd({from:d.getFrom(),where:"HMD",to:"topic"+a,payloadObj:{source:"Athena",helpHmd:b,helpNodeId:a,helpHmdSuggestions:h.join("|"),helpFeedback:f}})},overrideConfig:function(a){r=e.$.extend({},r,a)}};return{init:l.init,overrideConfig:l.overrideConfig}});ASPP.when("ASPA","spaui-metrics").register("spaui-instance",function(e,g){var k=null,d={id:null,data:{deflectionVisitId:null,contactUsLinkClicked:!1}},a={init:function(b){k=b;d.id=g.getSession();
try{var e=JSON.parse(k.getItem("spaui"));a.updateCfgData(e)}catch(m){}},updateCfgData:function(a){a.id&&a.id===d.id?d.data=e.$.extend(!0,{},d.data,a.data):k.removeItem("spaui")},update:function(){k.setItem("spaui",JSON.stringify(d))},setDeflectionCardVisitId:function(b){d.data.deflectionVisitId=b;a.update()},getDeflectionCardVisitId:function(){return d.data.deflectionVisitId},setContactUsLinkClicked:function(b){d.data.contactUsLinkClicked=b;a.update()},getContactUsLinkClicked:function(){return d.data.contactUsLinkClicked}};
return{init:a.init,setDeflectionCardVisitId:a.setDeflectionCardVisitId,getDeflectionCardVisitId:a.getDeflectionCardVisitId,setContactUsLinkClicked:a.setContactUsLinkClicked,getContactUsLinkClicked:a.getContactUsLinkClicked}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-async").register("spaui-linkcopy",function(e,g,k,d,a){var b,p=null,m={init:function(a,d){g.getData()&&"true"===g.getSpoofer()&&(b=a,b.delegate(".spaui-url-icon","click",m.linkCopyOpen),b.delegate(".spaui-url-input-close-icon",
"click",m.linkCopyClose),b.delegate(".spaui-link-copy-container","click",m.stopClickBubbling),p=d,m.bind())},bind:function(){d.subscribe(d.getName("newPage"),m.showURLIconIfPresent);d.subscribe(d.getName("newContentOnPage"),m.showURLIconIfPresent);d.subscribeAsyncModuleEvent("featured-content",a.COMPLETED_EVENT,m.showURLIconIfPresent)},showURLIconIfPresent:function(){b.find(".spaui-url-icon").removeClass("spaui-hide");b.find(".spaui-search-results-title").addClass("spaui-inline")},linkCopyOpen:function(a){a.preventDefault();
var b=e.$(a.currentTarget),c=b.parent();a=c.find(".spaui-url-input");c=c.find(".spaui-url-input-close-icon");b=m.generateLink(b);a.val(b).removeClass("spaui-hide");c.removeClass("spaui-hide");a.select();g.send({from:k.getFrom(),to:g.getPlace("setLinkCopyOpen"),where:g.getContext("content")})},linkCopyClose:function(a){a.preventDefault();a=e.$(a.currentTarget);a.parent().find(".spaui-url-input").addClass("spaui-hide");a.addClass("spaui-hide");g.send({from:k.getFrom(),to:g.getPlace("setLinkCopyClosed"),
where:g.getContext("content")})},stopClickBubbling:function(a){a.preventDefault();a.stopPropagation()},generateLink:function(a){a=a.data("url");return 0===a.indexOf("http")?a:p+a}};return{init:m.init}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-metrics","spaui-history","spaui-session","spaui-forums","spaui-ui","spaui-events","spaui-ajax","spaui-help","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util").register("spaui-links",function(e,g,k,d,a,b,p,m,f,h,c,q,r,l){var n,y,t=
{init:function(a,b){t.hydrate(a,b);t.bind()},hydrate:function(a,b){n=a;n.find("#spaui-link-browse");y=b},bind:function(){n.delegate(".spaui-help-content a","click",t.helpContent);n.delegate(".spaui-ph-item-content-inner a","click",t.helpContent);n.delegate("#spaui-content .spaui-direct-answer a","click",t.directAnswer);n.delegate(".spaui-link-alerts-internal","click",t.alertsInternal);n.delegate(".spaui-link-alerts-external","click",t.alertsExternal);n.delegate(".spaui-link-ph-policy-internal","click",
t.phPolicyInternal);n.delegate(".spaui-link-fc-internal","click",t.fcInternal);n.delegate(".spaui-link-fc-external","click",t.fcExternal);n.delegate(".spaui-link-tool-external","click",t.toolExternal);n.delegate(".spaui-link-search-internal","click",t.searchInternal);n.delegate(".spaui-link-search-external","click",t.searchExternal);n.delegate(".spaui-link-no-results-external","click",t.searchNoResultsExternal);n.delegate(".spaui-link-breadcrumb-help","click",t.bcHelp);n.delegate(".spaui-link-breadcrumb-su",
"click",t.bcSellerU);n.delegate(".spaui-link-breadcrumb-forum","click",t.bcForum);n.delegate("#spaui-link-browse","click",t.browse);n.delegate(".spaui-link-browse-internal","click",t.browseInternal);n.delegate(".spaui-link-browse-parent","click",t.browseParent);n.delegate("#spaui-foot-caselog","click",t.caseLog);n.delegate("#spaui-foot-forums","click",t.forums);n.delegate("#spaui-foot-contact","click",t.contact);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-internal","click",
t.pushNotificationInternal);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-external","click",t.pushNotificationExternal);f.subscribe(f.getName("featuresChanged"),t.updateContactUsState)},updateContactUsState:function(){var a=n.find("#spaui-foot-contact");a.data("href")&&(a.attr("href",a.data("href")),n.removeClass("spaui-disable-contact-us-weblab"))},directAnswer:function(a){var c=e.$(a.currentTarget);0<c.parents(".spaui-help-content").size()||(q.isDirectAnswerTool(c)&&b.setPinned(!1),
t.contentLink(a,d.getContext("directAnswer")))},helpContent:function(a){t.contentLink(a,d.getContext("content"))},contentLink:function(f,h){var l=f.currentTarget.href,p=e.$(f.currentTarget),n=f.currentTarget.getAttribute("target");g.isOnArticle();var k=g.startsWith(l,"mailto:"),r=l.match(/\.[0-9a-z]{1,5}$/i),q=f.currentTarget.hash&&t.isLinkToCurrentArticle(l),y=g.getTopicIDFromLink(l),z=g.contains(l,/(seller-?central|.*\.desktop).*\.amazon\./),u=g.contains(l,"www.amazon."),C=g.contains(l,"/hz/productsearch/"),
n=-1!==["_self","_blank","_parent","_top","",null].indexOf(n),I=g.isHashOnCurrentPage(l);if(k)d.send({from:a.getFrom(),where:h,to:d.getPlace("mailtoLink"),additionalObj:{email:l.substr(7)}});else if(z&&!q&&!y)(p.hasClass("augur-wf-primary-button")||p.hasClass("augur-wf-secondary-link"))&&b.setPinned(!1),d.send({from:a.getFrom(),where:h,to:d.getPlace("launchGenericPage"),additionalObj:{url:t.cleanUrl(l)}});else if(!I)if((r||q||y||u||n||C)&&f.preventDefault(),r)d.send({from:a.getFrom(),where:h,to:d.getPlace("fileDownload"),
additionalObj:{filename:l.substr(l.lastIndexOf("/")+1)}}),g.openInNewWindow(l);else if(q)m.scrollToHash(f.currentTarget.hash.substr(1));else if(y)c.displayHelpTopic(g.getTopicIDFromLink(l),l,{where:h});else if(u)d.send({from:a.getFrom(),where:h,to:d.getPlace("retailLink"),additionalObj:{url:l}}),g.openInNewWindow(l);else if(C)b.setPinned(!1),g.openInNewWindow(l);else if(n)g.openInNewWindow(l);else{var l=e.$.extend({},f.target.attributes),p={},K;for(K in l)l.hasOwnProperty(K)&&(p[l[K].name]=l[K].value);
d.send({from:a.getFrom(),where:h,to:d.getAction("unhandledLink"),additionalObj:p})}},cleanUrl:function(a){return a.split("?")[0]},isLinkToCurrentArticle:function(a){a=g.getTopicIDFromLink(a);var b=c.getTopicId()+"";return a===b},phPolicyInternal:function(a){a.preventDefault();c.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where")})},fcInternal:function(a){a.preventDefault();c.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,
"href"),{where:g.gda(a.currentTarget,"where"),payloadObj:{resultRank:g.gda(a.currentTarget,"rank"),resultTotal:g.gda(a.currentTarget,"total")}})},fcExternal:function(b){b.preventDefault();d.send({from:a.getFrom(),where:g.gda(b.currentTarget,"where"),to:"launch-"+g.gda(b.currentTarget,"to")+"-"+g.gda(b.currentTarget,"id"),payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},searchInternal:function(b){b.preventDefault();
var d=parseInt(g.gda(b.currentTarget,"rank"),10)+a.getSearchStart();c.displayHelpTopic(g.gda(b.currentTarget,"id"),g.gda(b.currentTarget,"href"),{where:g.gda(b.currentTarget,"where"),payloadObj:{resultRank:d,resultTotal:g.gda(b.currentTarget,"total")}})},searchExternal:function(c){c.preventDefault();b.setPinned(!1);var f=parseInt(g.gda(c.currentTarget,"rank"),10)+a.getSearchStart();d.send({from:a.getFrom(),where:g.gda(c.currentTarget,"where"),to:"launch-"+g.gda(c.currentTarget,"to")+"-"+g.gda(c.currentTarget,
"id"),payload:"&resultRank="+f+"&resultTotal="+g.gda(c.currentTarget,"total")});g.openInNewWindow(c.currentTarget.href)},searchNoResultsExternal:function(b){d.send({from:a.getFrom(),where:d.getContext("noResults"),to:d.getPlace("launchNoSearchResults")})},bcHelp:function(b){b.preventDefault();var f=b.currentTarget.href,h=g.getTopicIDFromLink(f),l=parseInt(g.gda(b.currentTarget,"rank"),10)+a.getSearchStart();c.displayHelpTopic(h,f,{where:d.getContext("breadcrumb"),payloadObj:{resultRank:l,resultTotal:g.gda(b.currentTarget,
"total")}})},bcForum:function(b){b.preventDefault();d.send({from:a.getFrom(),where:d.getContext("breadcrumb"),to:"launch-Forum",payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},bcSellerU:function(b){b.preventDefault();d.send({from:a.getFrom(),where:d.getContext("breadcrumb"),to:"launch-SU",payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},
browse:function(a){a.preventDefault();c.displayBrowseAllHelp()},browseInternal:function(a){a.preventDefault();c.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where")})},browseParent:function(b){b.preventDefault();var c=e.$(b.currentTarget).find("a");b=e.$(b.currentTarget).next();var f="";b.is(":hidden")?(c.addClass("spaui-browse-parent-open"),b.show(),f=d.getPlace("setAhOpen")):(c.removeClass("spaui-browse-parent-open"),b.hide(),f=d.getPlace("setAhClose"));
d.send({from:a.getFrom(),where:d.getContext("content"),to:f+d.sanitizeEventPart(c.attr("id"))})},alertsInternal:function(a,b){a.preventDefault();m.getVisible()||m.summoner({});var f=l.getAlertDetails(l.getAlertFromInnerEvent(a)),h=g.gda(a.currentTarget,"item"),e=g.gda(a.currentTarget,"rank"),p=g.gda(a.currentTarget,"topic"),n=g.gda(a.currentTarget,"total"),k=a.currentTarget.getAttribute("href"),k=null===k?"":k,r=a.currentTarget.innerHTML;c.displayHelpTopic(p,k,{where:b?d.getContext("pushNotification"):
d.getContext("alert"),additionalObj:{item:h,rank:e,total:n,itemUrl:k,itemText:r},payloadObj:{notificationId:f.id,notificationType:f.type,notificationName:f.name}})},alertsExternal:function(c,f){var e=l.getAlertDetails(l.getAlertFromInnerEvent(c)),p=g.gda(c.currentTarget,"item"),n=g.gda(c.currentTarget,"rank"),k=g.gda(c.currentTarget,"total"),m=c.currentTarget.getAttribute("href"),m=null===m?"":m,r=c.currentTarget.innerHTML;-1!==c.currentTarget.href.toLowerCase().indexOf("gp/site-metrics/report.html")&&
h.get(a.getAthenaUrlPrefix()+"alert/REDIRECT_TO_BIZ_REP?ids="+e.id);b.setPinned(!1);d.send({from:a.getFrom(),where:f?d.getContext("pushNotification"):d.getContext("alert"),to:"launch-tool",additionalObj:{item:p,rank:n,total:k,itemUrl:m,itemText:r},payloadObj:{notificationId:e.id,notificationType:e.type,notificationName:e.name}})},toolExternal:function(c){b.setPinned(!1);c=c.currentTarget;c.hasAttribute("data-tool")&&d.send({from:a.getFrom(),where:d.getContext("tools"),to:d.sanitizeEventPart(g.gda(c,
"tool"))})},pushNotificationInternal:function(a){t.alertsInternal(a,!0)},pushNotificationExternal:function(a){t.alertsExternal(a,!0)},caseLog:function(c){b.setPinned(!1);d.send({from:a.getFrom(),where:d.getContext("footer"),to:d.getPlace("caseLog")})},forums:function(b){y?(b.preventDefault(),p.displayForums()):d.send({from:a.getFrom(),where:d.getContext("footer"),to:d.getPlace("forums")})},contact:function(c){r.isActive()?(c.preventDefault(),r.displayDeflectionCard(d.getContext("footer"))):(b.setPinned(!1),
d.send({from:a.getFrom(),where:d.getContext("footer"),to:d.getPlace("contact")}))}};return{init:t.init}});ASPP.when("ASPA","spaui-util","spaui-shim").register("spaui-metrics",function(e,g,k){var d={data:null,DROPPED_METRIC:"droppedMetric",MAXIMUM_SIZE:64,METRIC_FAILURE:"metricFailure",FIRST_REQUEST_FAILED:"firstRequestFailed",ALL_RETRIES_FAILED:"allRetriesFailed",MAX_RETRIES:3,RETRY_DELAY:300,endpoint:{protocol:"https://",host:"fls-na.amazon.com",path:"/1/action-impressions/1/OP/sp-athena/action/athena:",
pathHmd:"/1/action-impressions/1/OP/sp-athena/action/help_hmd:",params:"",requestId:0},map:{context:{alert:"alert",alertShinyObject:"alertShinyObject",allAlerts:"allAlerts",async:"async",autoSummonParam:"autoSummonParam",autoSummonHelpParam:"autoSummonHelpParam",breadcrumb:"breadcrumb",browseForums:"browseForums",content:"content",getSupportCardItem:"getSupportCardItem",directAnswer:"direct-answer",eciNotification:"eciNotification",externalApi:"externalApi",externalTrigger:"externalTrigger",featured:"featured",
featuredThreads:"featuredThreads",footer:"footer",globalSearch:"globalSearch",groupedAlert:"groupedAlert",header:"header",helpHmd:"helpHmd",navBack:"navBack",navFeedback:"navFeedback",navHome:"navHome",navSearch:"navSearch",noHelpResults:"noHelpResults",noResults:"noResults",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCat",predictive:"predictive",preload:"preload",previewFeedback:"previewFeedback",previewGetAnswers:"previewGetAnswers",previewAnywhere:"previewAnywhere",
pushNotification:"pushNotification",results:"results",rating:"rating",rightClick:"rightClick",scFooter:"scFooter",searchSuggestions:"search-suggestions",session:"session",suggestedForums:"suggestedForums",tools:"tools",trigger:"trigger"},place:{alerts:"alerts",async:"async",browse:"browse",caseLog:"caseLog",contact:"contact",getSupportCard:"getSupportCard",globalNav:"globalNav",info:"info",external:"external",feedback:"feedback",forums:"forums",search:"search",searchMore:"searchMore",topic:{id:null,
text:"topic"},refresh:"refresh",fileDownload:"fileDownload",mailtoLink:"mailtoLink",retailLink:"retailLink",popPage:"popPage",previewCard:"previewCard",launchGenericPage:"launch-genericPage",launchNoSearchResults:"launch-noSearchResults",loadPushNotification:"loadPushNotification",dismissPushNotification:"dismissPushNotification",openPushNotification:"openPushNotification",setAlertRead:"setAlertRead",setAlertAbort:"setAlertAbort",setFeaturedContentAndPredictiveHelp:"setFeaturedContentAndPredictiveHelp",
setForumsVisible:"setForumsVisible",setForumsVisibleViaConfig:"setForumsVisibleViaConfig",setForumsHidden:"setForumsHidden",setContactUsFooter:"setContactUsFooter",setLaunchContactUs:"setLaunchContactUs",disabledGetSupportClick:"disabledGetSupportClick",setLinkCopyOpen:"setLinkCopyOpen",setLinkCopyClosed:"setLinkCopyClosed",searchRedirect:"searchRedirect",searchErrorClient:"search-error-client",setAthenaSummoned:"setAthenaSummoned",setAthenaBanished:"setAthenaBanished",setAhOpen:"setAhOpen-",setAhClose:"setAhClose-",
setFbRate:"setFbRate",setFbClear:"setFbClear",setFbSend:"setFbSend",setPhAdopt:"setPhAdopt",setPhOpen:"setPhOpen",setPhClose:"setPhClose",setPhDismiss:"setPhDismiss",setPhYes:"setPhYes",setPhNo:"setPhNo",setSizeActive:"",setSizeLarge:"setSizeLarge",setSizeSmall:"setSizeSmall",alertDiscovered:"alertDiscovered",alertMassDiscovered:"alertMassDiscovered",alertMassRead:"alertMassRead",alertSuppressed:"alertSuppressed",minimized:"minimized",noAlertToShow:"noAlertToShow",groupedAlertInnerDiscover:"groupedAlertInnerDiscover",
notificationCard:"notificationCard",notificationsCount:"notificationsCount",notificationCardDiscoverd:"notificationCardDiscoverd",notificationCardCategory:"notificationCardCat",notificationCategoryDiscovered:"notificationCatDiscovered"},action:{unhandledLink:"unhandledLink"}},ADDITIONAL_METADATA:"&additionalMetadata="},a={init:function(b){d.endpoint.host=b.host;b.hasOwnProperty("path")&&""!==b.path&&(d.endpoint.path=b.path);d.data=e.state("spaui-state");d.data||(d.data={},e.state.bind("spaui-state",
function(b){d.data=b;a.initDataObj()}));a.initDataObj()},initDataObj:function(){var a="",e;for(e in d.data)d.data.hasOwnProperty(e)&&(a+="&"+e+"="+d.data[e]);d.endpoint.params=a},send:function(b,e,m){a.sendMetric(b,e,m,function(b,h,c,e,p){c=g.getErrorDetailsFromAjaxResponse(c,e);a.sendMetricFailure(d.FIRST_REQUEST_FAILED,h,c);a.sendRetry(b,h,0)})},sendMetric:function(b,p,g,f){if(d.data){var h=d.endpoint.protocol+d.endpoint.host+(p===z?d.endpoint.path:p),c=d.endpoint.params+"&requestId="+d.data.parentRequestId+
"_"+d.endpoint.requestId;a.encodeAdditionalObj(b);a.encodePayloadObj(b);b.errorDetails&&(b.additional=a.appendToAdditional(b.additional,"errorType",b.errorDetails.type),b.additional=a.appendToAdditional(b.additional,"errorJqueryStatus",b.errorDetails.jqueryStatus),b.additional=a.appendToAdditional(b.additional,"errorHttpStatus",b.errorDetails.httpStatus),b.additional=a.appendToAdditional(b.additional,"errorReadyState",b.errorDetails.readyState));b.isError?b.to="error-"+b.to:b.isPlatformError&&(b.to=
"error-platform-"+b.to);p=[b.from,b.where,b.to].join("_");a.oversized(p)&&a.sendDroppedMetric(p,b);c+=b.additional?b.additional:"";c+=b.payload?b.payload:"";h=h+p+"?"+c;e.$.isFunction(f)&&(f=e.$.proxy(f,null,h,p));p={url:h};b.timeout&&(p.timeout=b.timeout);b=e.$.ajax(p).always(function(){g!==z&&e.$.isFunction(g)&&g()});e.$.isFunction(f)&&b.fail(f)}d.endpoint.requestId++},sendRetry:function(b,p,g){g<d.MAX_RETRIES?setTimeout(function(){e.$.ajax({url:b,timeout:d.TIMEOUT}).fail(function(d,h,c){a.sendRetry(b,
p,g+1)})},d.RETRY_DELAY):a.sendMetricFailure(d.ALL_RETRIES_FAILED,p)},sendHmd:function(b,e){a.send(b,d.endpoint.pathHmd,e)},oversized:function(a){return a.length>=d.MAXIMUM_SIZE},sendDroppedMetric:function(b,e){a.sendMetric({from:d.DROPPED_METRIC,where:d.DROPPED_METRIC,to:d.DROPPED_METRIC,additionalObj:{attempted:b}})},sendMetricFailure:function(b,e,g){b={from:d.METRIC_FAILURE,where:d.METRIC_FAILURE,to:b,additionalObj:{attempted:e}};g!==z&&(b.errorDetails=g);a.sendMetric(b)},encodeAdditionalObj:function(a){if(a.additionalObj){var e=
[];Object.keys(a.additionalObj).forEach(function(d){e.push(d+":"+a.additionalObj[d])});a.additional=d.ADDITIONAL_METADATA+encodeURIComponent(e.join("|"))}},encodePayloadObj:function(a){a.payloadObj&&(a.payload=g.formatObjectAsUrlParams(a.payloadObj,!0))},appendToAdditional:function(a,e,g){e=e+":"+g;return a=a===z||null===a||""===a?d.ADDITIONAL_METADATA+e:a+("|"+e)},validate:function(b){if(b)try{a.validOrThrownForEventPart(b,"from");a.validOrThrownForEventPart(b,"where");a.validOrThrownForEventPart(b,
"to");if(b.additionalObj&&!e.$.isPlainObject(b.additionalObj))throw"METRICS.validate failed, additionalObj must be an object if set";return!0}catch(d){throw d;}else throw"METRICS.validate failed, tracking is empty";},validOrThrownForEventPart:function(a,d){if(a[d]){if(-1!==a[d].indexOf("_"))throw"Failed to validate field '"+d+"' it should not contain underscores (_)";}else throw"Failed to validate field '"+d+"' it was empty";},sanitizeEventPart:function(a){return a.split("_").join("-")},overrideConfig:function(a){d=
e.$.extend({},d,a)},returnRequestId:function(){return d.endpoint.requestId},returnParentRequestId:function(){return d.data.parentRequestId},returnSession:function(){return d.data.session},returnIsSpoofer:function(){return d.data.isSpoofer},returnRegionId:function(){return d.data.regionId},returnAllData:function(){return d.data},returnAllParams:function(){return d.endpoint.params},returnNextChildRequestId:function(){var a=d.data.parentRequestId+"_"+d.endpoint.requestId;d.endpoint.requestId++;return a},
returnAction:function(a){return d.map.action[a]},returnPlace:function(a){return d.map.place[a]},returnContext:function(a){return d.map.context[a]},setSizeActive:function(a){d.map.place.setSizeActive=a},returnTopic:function(){return d.map.place.topic.text},returnTopicID:function(){return d.map.place.topic.id}};return{init:a.init,send:a.send,sendHmd:a.sendHmd,validate:a.validate,sanitizeEventPart:a.sanitizeEventPart,overrideConfig:a.overrideConfig,getSession:a.returnSession,getSpoofer:a.returnIsSpoofer,
getRegionId:a.returnRegionId,getData:a.returnAllData,getParams:a.returnAllParams,getRequestId:a.returnRequestId,getParentRequestId:a.returnParentRequestId,incrementChildRequestId:a.returnNextChildRequestId,getAction:a.returnAction,getPlace:a.returnPlace,getContext:a.returnContext,setSizeActive:a.setSizeActive,getTopic:a.returnTopic,getTopicID:a.returnTopicID}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-notification-card-category","spaui-events","spaui-alerts",
"spaui-ui").register("spaui-notification-card",function(e,g,k,d,a,b,p,m,f){var h,c=null,q=[],r={init:function(a){r.hydrate(a);r.bind();p.subscribe(p.getName("notificationListUpdated"),r.onNotificationListUpdated);p.subscribe(p.getName("notificationFetchComplete"),r.onNotificationFetchComplete);p.subscribe(p.getName("newPage"),r.onNewPage)},hydrate:function(a){h=a},bind:function(){h.delegate(".spaui-alert-load-all-node-outside","click",r.loadCardHandle);h.delegate(".spaui-notification-card-list-item",
"click",r.loadCategoryPageHandle);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-view-notification-card","click",r.pushNotificationLoadAll)},pushNotificationLoadAll:function(a){r.loadCardHandle(a,!0)},onNotificationListUpdated:function(a){r.updateNotificationsCount(a)},onNotificationFetchComplete:function(a){h.find(".spaui-notification-card-list").find('.spaui-content-loading[data-category-name="categoryName"]'.replace("categoryName",a)).hide()},onNewPage:function(a){a.type===
d.getPageType("notificationCard")&&q.forEach(function(a){r.updateNotificationsCount(a);if(b.isFetchComplete(a))r.onNotificationFetchComplete(a)})},updateNotificationsCount:function(a){var c=h.find(".spaui-notification-card-list").find('.spaui-notification-card-count-bang[data-category-name="categoryName"]'.replace("categoryName",a));a=b.getNotificationsCount(a);c&&(c.html(a),0<a?c.show():c.hide())},loadCardHandle:function(a,b){a.preventDefault();r.displayNotificationCard(b)},loadCategoryPageHandle:function(a){a.preventDefault();
a=e.$(this).data("category-name");r.displayNotificationCategoryPage(a)},displayNotificationCard:function(b){f.getVisible()||f.summoner({});c=h.find(".spaui-alert").clone();var e=k.getAthenaUrlPrefix()+"athena-notification-card?requestId="+g.incrementChildRequestId();d.placeEndpoint("notificationCard",a.enhanceUrl(e),function(){r.loadSingleAlert();r.initializeNotificationCategoryPage();g.send({from:k.getFrom(),where:b?g.getContext("pushNotification"):g.getContext("notificationCard"),to:g.getPlace("notificationCardDiscoverd"),
additionalObj:{categories:q}})})},initializeNotificationCategoryPage:function(){var a=h.find(".spaui-notification-category-page-list").children();q=[];a.each(function(a,c){var d=e.$(c).clone();e.$(c).remove();var f=d.data("category-name");q.push(f);b.init(d,f)})},displayNotificationCategoryPage:function(a){d.placeElement(b.getTemplate(a),"notificationCardCategory",function(){g.send({from:k.getFrom(),where:g.getContext("notificationCardCategory"),to:g.getPlace("notificationCategoryDiscovered"),additionalObj:{categoryName:a}});
m.onLoadAllAlerts({categoryName:a})})},loadSingleAlert:function(){h.find(".spaui-notification-card-single-alert").append(c);m.dynamicHydrate()}};return{init:r.init}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-ajax","spaui-util","spaui-events","spaui-alerts","spaui-alert-util","spaui-alert-metrics").register("spaui-notification-card-category",function(e,g,k,d,a,b,p,m,f,h,c){var q={maxRetry:5,timeBetweenRetries:5E3,contentFadeIn:300},r={},l={$categoryPageTemplate:null,
fetchComplete:!1,moreNotificationsPresent:!0,$notifications:null,notificationIdList:[],retry:0},n={init:function(a,b){n.setContext(b,e.$.extend(!0,{},l));n.getContext(b).$categoryPageTemplate=a;n.fetchNotificationsByCategories(b)},fetchNotificationsByCategories:function(c){var d=k.getAthenaUrlPrefix()+"athena-notification-card/"+c+"?requestId="+g.incrementChildRequestId();b.get(a.enhanceUrl(d),{},function(a){n.onUpdatedNotificationResponse(e.$(a.data),c)},function(a){n.retryFetch(c)})},onUpdatedNotificationResponse:function(a,
b){var c=a.find(".spaui-alerts-all");n.processNotifications(c,b);n.getContext(b).moreNotificationsPresent=p.stringToBool(a.find("input#spaui-alerts-more-alerts-present")[0].value);m.publish(m.getName("notificationListUpdated"),b);f.dynamicHydrate();n.recordMetricsForNotificationsCountByCategory(b);n.retryFetch(b)},retryFetch:function(a){n.getContext(a).retry++;if(n.shouldRetryFetch(a))e.delay(n.fetchNotificationsByCategories,q.timeBetweenRetries,a);else n.onFetchComplete(a)},processNotifications:function(a,
b){var c=a.find(".spaui-alert"),d=n.getContext(b);null===d.$notifications&&(d.$notifications=a.empty(),d.$categoryPageTemplate.find(".spaui-notification-card-body").append(d.$notifications.clone()));if(!(0>=c.length)){var f=p.selectorToClass(".spaui-alert-animate");c.each(function(a,c){var l=e.$(c),g=h.getAlertDetails(l).id;n.isNotificationNew(b,g)&&(l.hide(),l.addClass(f),d.notificationIdList.push(g),d.$notifications.append(l.clone()))});c=d.$notifications.find(".spaui-alert-animate").clone();d.$notifications.find(".spaui-alert-animate").removeClass(f);
d.$categoryPageTemplate.find(".spaui-alerts-all").append(c);d.$categoryPageTemplate.find(".spaui-alert-animate").removeClass(f).fadeIn(q.contentFadeIn);n.onNotificationsPartialLoad(b,c)}},onNotificationsPartialLoad:function(a,b){var d={categoryName:a},f=[],h=[];b.find(".spaui-alert-info:visible").each(function(){f.push(p.gda(this,"id"))});b.find(".spaui-alert-info.spaui-alert-fixed:visible").each(function(){h.push(p.gda(this,"id"))});0<f.length&&c.massDiscover(g.getContext("allAlerts"),f,d);0<h.length&&
c.massRead(g.getContext("allAlerts"),h,d)},onFetchComplete:function(a){var b=n.getContext(a),c=b.$categoryPageTemplate;b.fetchComplete=!0;0>=n.getNotificationsCount(a)&&(c.find(".spaui-no-notification").fadeIn(q.contentFadeIn),c.find(".spaui-notification-card-footer").fadeIn(q.contentFadeIn));c.find(".spaui-notification-card-head-loader").hide();m.publish("notificationFetchComplete",a)},recordMetricsForNotificationsCountByCategory:function(a){0===n.getContext(a).retry&&(a=e.$.extend(!0,{categoryName:a,
notificationsCount:n.getNotificationsCount(a)},n.getNotificationCountByType(a)),g.send({from:k.getFrom(),where:g.getContext("notificationCardCategory"),to:g.getPlace("notificationsCount"),additionalObj:a}))},getNotificationCountByType:function(a){var b={};n.getVisibleNotifications(a).each(function(a,c){var d=e.$(c),d=h.getAlertDetails(d).type;b[d]===z&&(b[d]=0);b[d]++});return b},isNotificationNew:function(a,b){return 0>n.getContext(a).notificationIdList.lastIndexOf(b)},shouldRetryFetch:function(a){a=
n.getContext(a);return a.moreNotificationsPresent&&a.retry<=q.maxRetry},isFetchComplete:function(a){return n.getContext(a).fetchComplete},getNotificationsCount:function(a){return n.getVisibleNotifications(a).length},getVisibleNotifications:function(a){return n.getContext(a).$categoryPageTemplate.find(".spaui-alert").not(".spaui-alert-dismissed")},getTemplate:function(a){return n.getContext(a).$categoryPageTemplate},overrideConfig:function(a){q=e.$.extend({},q,a)},getContext:function(a){return r[a]},
setContext:function(a,b){r[a]=b}};return{init:n.init,getTemplate:n.getTemplate,isFetchComplete:n.isFetchComplete,getNotificationsCount:n.getNotificationsCount,overrideConfig:n.overrideConfig}});ASPP.when("ASPA","spaui-ui","spaui-session").register("spaui-overlay",function(e,g,k){var d=e.$(C),a={overlayActive:!1,fadeTime:200},b={createFullscreenOverlay:function(){a.overlayActive||(a.overlayActive=!0,b.bindWindowResize(),b.recomputeSize(),g.hideClose(),g.hideResizer(),g.contentChanged())},removeOverlay:function(){a.overlayActive&&
(a.overlayActive=!1,b.unbindWindowResize(),g.showClose(),g.showResizer(),k.isLargeSize()?g.makeLarge():g.makeSmall(),g.contentChanged())},bindWindowResize:function(){d.bind("resize",b.recomputeSize)},unbindWindowResize:function(){d.unbind("resize",b.recomputeSize)},recomputeSize:function(){var a=d.width();g.setSpecialSize(a,!0)},overrideConfig:function(b){a=e.$.extend(a,b)},isActive:function(){return a.overlayActive}};return{createFullscreenOverlay:b.createFullscreenOverlay,removeOverlay:b.removeOverlay,
overrideConfig:b.overrideConfig,isActive:b.isActive}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-discovery","spaui-ajax").register("spaui-predictive",function(e,g,k,d,a,b){var p,m=!0,f=null,h={init:function(a){h.hydrate(a);h.bind()},hydrate:function(b){p=b;a.register("predictive","info",!1,h.adoptionCheck);f=d.getAugurUrlPrefix()+"execute-workflow?"},bind:function(){p.delegate(".spaui-ph-expand-closed","click",h.show);p.delegate(".spaui-ph-expand-open","click",h.hide);p.delegate(".spaui-ph-dismiss",
"click",h.dismiss);p.delegate(".spaui-ph-item-feedback-yes","click",h.yes);p.delegate(".spaui-ph-item-feedback-no","click",h.no);p.delegate("#spaui-ph-dismiss-legal","mouseenter mouseleave",h.legal);p.delegate("#spaui-ph-view-legal","mouseenter mouseleave",h.legal)},getDetails:function(a){a=e.$(a.currentTarget).closest(".spaui-ph-item");return{qid:a.data("question"),pid:e.$("#spaui-ph-header").attr("data-prediction"),rank:a.data("rank"),total:a.data("total"),workflowId:a.data("workflow")}},show:function(a){a.preventDefault();
var b=h.getDetails(a);a=e.$(a.currentTarget);e.$("#spaui-ph-item-"+b.qid+"-closed").hide();e.$("#spaui-ph-item-"+b.qid+"-open").show();if(b.workflowId){var d=e.$("#spaui-ph-workflow-"+b.qid);0<d.length&&"N"===d.attr("spaui-ph-workflowdisplayed")&&(d.attr("spaui-ph-workflowdisplayed","Y"),h.displayWorkflow(b))}"true"!==a.attr("data-logged")&&(a.attr("data-logged","true"),e.$.post("/help/track/api/send-user-action?"+h.getIdParams(b)));h.instrument(b,k.getPlace("setPhOpen"))},displayWorkflow:function(a){b.post(f+
"workflowId="+a.workflowId+"&client=AthenaPH",{dataType:"html"},function(b){h.flush(a,b.data,!0)},function(b){h.flush(a,b.data,!1)})},flush:function(a,b,d){d?(e.$("#spaui-ph-workflow-"+a.qid).html(b),e.$("#spaui-ph-item-"+a.qid+"-feedback").show()):e.$("#spaui-ph-workflow-"+a.qid).parent().remove()},hide:function(a){a.preventDefault();a=h.getDetails(a);e.$("#spaui-ph-item-"+a.qid+"-open").hide();e.$("#spaui-ph-item-"+a.qid+"-closed").show();h.instrument(a,k.getPlace("setPhClose"))},dismiss:function(a){a.preventDefault();
a=h.getDetails(a);e.$.post("/help/track/api/send-feedback-text?feedbackText=dismissed&"+h.getIdParams(a));h.instrument(a,k.getPlace("setPhDismiss"));e.$("#spaui-ph-item-"+a.qid).remove()},yes:function(a){a.preventDefault();a=h.getDetails(a);e.$.post("/help/track/api/send-feedback?feedback=true&"+h.getIdParams(a));e.$("#spaui-ph-item-"+a.qid+"-feedback").hide();e.$("#spaui-ph-item-"+a.qid+"-feedback-ui-yes").show();h.instrument(a,k.getPlace("setPhYes"))},no:function(a){a.preventDefault();a=h.getDetails(a);
e.$.post("/help/track/api/send-feedback?feedback=false&"+h.getIdParams(a));e.$("#spaui-ph-item-"+a.qid+"-feedback").hide();e.$("#spaui-ph-item-"+a.qid+"-feedback-ui-yes").show();h.instrument(a,k.getPlace("setPhNo"))},getIdParams:function(a){return"id="+a.qid+"&prediction="+a.pid},instrument:function(a,b){k.send({from:d.getFrom(),to:b,where:k.getContext("predictive"),payloadObj:{resultRank:a.rank,resultTotal:a.total},additionalObj:{questionId:a.qid,topicId:a.pid,workflowId:a.workflowId}})},legal:function(a){"mouseenter"===
a.type&&(p.find("#spaui-ph-dismiss-legal-icon").addClass("on"),p.find("#spaui-ph-view-legal").addClass("on"));"mouseleave"===a.type&&(p.find("#spaui-ph-dismiss-legal-icon").removeClass("on"),p.find("#spaui-ph-view-legal").removeClass("on"))},adoptionCheck:function(){if(m){var a=g.gebi("spaui-ph-header");if(a=a?g.gda(a,"prediction"):null)e.$.post("/help/track/api/send-adoption?predictionId="+a),m=!1}},preventAdoption:function(){m=!1}};return{init:h.init,preventAdoption:h.preventAdoption}});ASPP.when("ASPA",
"spaui-events","spaui-util","spaui-alert-util").register("spaui-push-notification",function(e,g,k,d){var a,b,p,m,f=!1,h={duration:{show:400,hide:300,minimize:300},severities:{HIGH:"urgent",MEDIUM:"alert",OPPORTUNITY:"opp",INFORMATION:"info"},showDismissClass:"spaui-pn-show-dismiss",showMinimizeClass:"spaui-pn-show-minimize"},c={init:function(a){c.hydrate(a);c.bind()},hydrate:function(c){a=e.$("#spaui-templates");b=a.find("#spaui-push-notification");p=e.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");
m=e.$("#sc-quicklinks-top")},bind:function(){C.addEventListener("resize",function(){f&&c.adjust()})},create:function(a,d,e,g,p){if(!f)return b.find("#spaui-pn-title").text(a),b.find("#spaui-pn-content").append(d),b.find(".spaui-alert-dismiss").remove(),b.attr("class",""),b.addClass(c.getClassName(e)),g?b.addClass(h.showMinimizeClass):b.addClass(h.showDismissClass),p?(c.bindExpand(),b.removeClass("spaui-inline-alert")):(b.addClass("spaui-inline-alert"),c.expandPushNotification()),m.prepend(b),c.adjust(),
f=!0,b},bindExpand:function(){b.click(c.expandPushNotification);b.removeClass("expanded")},bindDismissOrMinimize:function(){b.hasClass(h.showMinimizeClass)?b.find("#spaui-pn-title-bar").click(c.collapsePushNotification):b.hasClass(h.showDismissClass)&&b.find("#spaui-pn-close-icon").click(c.hidePushNotification)},hide:function(){var a=b.data("id");d.hideSingleAlert(a,c.afterHideNotification)},isActive:function(){return f},expandPushNotification:function(){g.publish(g.getName("pushNotificationOpened"));
b.unbind("click",c.expandPushNotification);b.addClass("expanded");var a=b.find("#spaui-pn-content");a.css("top",-1*a.height());a.animate({top:0},{duration:h.duration.show,complete:c.bindDismissOrMinimize})},collapsePushNotification:function(){g.publish(g.getName("pushNotificationMinimize"));b.find("#spaui-pn-title-bar").unbind("click",c.collapsePushNotification);var a=b.find("#spaui-pn-content");a.animate({top:-1*a.height()},{duration:h.duration.minimize,complete:c.bindExpand})},hidePushNotification:function(){g.publish(g.getName("pushNotificationClosed"));
c.hide()},afterHideNotification:function(){f=!1;b.removeClass("expanded");a.append(b)},adjust:function(){b.css("top",m.height());b.css("right",-k.getElementRightOffset(m));var a=b.find("#spaui-pn-arrow"),c=p.offset().left-b.offset().left,c=c+p.width()/2,c=parseInt(c-10,10);a.css("left",c)},isValidSeverity:function(a){switch(a){case h.severities.HIGH:case h.severities.MEDIUM:case h.severities.OPPORTUNITY:case h.severities.INFORMATION:return!0}return!1},getClassName:function(a){if(a)return"spaui-pn-"+
a.toLowerCase();throw"severity is not set!";}};return{init:c.init,create:c.create,hide:c.hide,isActive:c.isActive,HIGH:h.severities.HIGH,MEDIUM:h.severities.MEDIUM,OPPORTUNITY:h.severities.OPPORTUNITY,INFORMATION:h.severities.INFORMATION,overrideConfig:function(a){h=e.$.extend(h,a)}}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util").register("spaui-rightclick",function(e,g,k,d){var a=null,b=null,p=null,m={init:function(a){m.populate(a);m.enhance();m.bind()},populate:function(f){a=f;
b=e.$("#sc-quicklink-help");p=d.getContactUsFooterLink()},enhance:function(){b.attr("data-feature-name","scHelpLink");p.attr("data-feature-name","scGetSupportLink")},bind:function(){var d=function(a){a=e.$(a.target);m.handleRightClick(a)};a.bind("contextmenu",d);b.delegate("a","contextmenu",d);p.bind("contextmenu",d);e.$(C).delegate("#spaui-push-notification","contextmenu",d)},handleRightClick:function(a){var b=a.closest("[data-feature-name]").data("feature-name");a=a.closest("a").attr("href");a=
a!==z?d.getTopicIDFromLink(a):z;b={from:k.getFrom(),where:g.getContext("rightClick"),to:b};a!==z&&(b.additionalObj={helpTopicId:a});g.send(b)}};return{init:m.init}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-content","spaui-search-suggestions","spaui-help","spaui-global-nav-search","spaui-events").register("spaui-search",function(e,g,k,d,a,b,p,m,f,h){var c={},q=!1,r="Search",l=!1,n=null,y=!1,t={init:function(a,b,d){t.hydrate(a);t.bind();t.subscribe();r=c.search.attr("placeholder");
(q=d)&&f.init(t.externalSubmitSearch,t.externalSynchronizeSearchBoxValue);p.init(b,r)},hydrate:function(a){c.doc=e.$(document);c.spaui=a;c.search=a.find("#spaui-search-box");c.searchSection=a.find(".spaui-head-controls-search");c.searchIcon=a.find("#spaui-search-icon");c.searchFilter=a.find(".spaui-search-filter-wrapper");c.searchFilterSelect=a.find(".spaui-search-filter");n=k.getAthenaUrlPrefix()+"athena-search"},bind:function(){c.searchIcon.click(t.clickSearch);c.search.focus(t.focusSearch);c.search.blur(t.blurSearch);
c.doc.keydown(t.keyDown);c.search.keyup(t.synchronizeGlobalNavSearch);c.spaui.delegate("#spaui-toggle-forums","click",t.toggleForumsResultsClick);c.spaui.delegate(".spaui-search-trigger","click",t.handleSearchTriggerClick)},subscribe:function(){h.subscribe(h.getName("newPage"),t.handleNewPage)},toggleForumsResultsClick:function(b){b.preventDefault();t.toggleForumResults(a.getContext("navSearch"))},toggleForumResults:function(b){var c=e.$("#spaui-toggle-forums"),d=(l=!l)?"exclude-label":"include-label",
d=c.find("input").data(d);t.toggleForumsClasses(l);c.toggleClass("asp-button-selected",l);k.setSearchShowForums(l);a.send({from:k.getFrom(),to:l?a.getPlace("setForumsVisible"):a.getPlace("setForumsHidden"),where:b});c.find("input").val(d);c.find(".asp-button-text").html(d)},toggleForumsClasses:function(a){c.spaui.find(".spaui-search-results").toggleClass("showForums",a)},clickSearch:function(a){a.preventDefault();c.search.trigger("focus");t.keyDown({keyCode:13})},focusSearch:function(){k.setSearchFocused(!0);
c.searchSection.addClass("on");c.searchIcon.addClass("on");p.newBind(c.search,t.suggestionsSearch,z,c.searchSection.width())},blurSearch:function(){k.setSearchFocused(!1);c.searchSection.removeClass("on");c.searchIcon.removeClass("on")},synchronizeGlobalNavSearch:function(){if(q){var a=c.search.val();f.setSearchBoxValue(a)}},keyDown:function(a){k.getSearchFocused()&&""!==e.$.trim(c.search.val())&&13===(a.keyCode||a.which)&&t.submitSearch()},suggestionsSearch:function(a){t.submitSearch(null,a)},submitSearch:function(f,
h,l){l===z&&(l=function(){});var g=c.search.val();d.storeSearchQuery(g);f===z&&(f={});f=e.$.extend({from:k.getFrom(),where:a.getContext("navSearch")},f,{to:a.getPlace("search")});h?(l("help"),m.displayHelpTopic(h,null,f)):(k.setSearchQuery(g),k.setSearchStart(0),k.setSearchFilter(c.searchFilterSelect.val()||"any"),k.pushPop(""),t.placeSearch(e.$.proxy(b.placeEndpoint,null,b.getPageType("search")),e.$.proxy(t.searchCompleted,null,l,f),e.$.proxy(t.redirectFilter,null,l,f)))},searchCompleted:function(b,
d,f){f.isError?(d.isError=!0,d.errorDetails=f.errorDetails):f.isPlatformError?(d.isPlatformError=!0,e.$("#spaui-error-search-retry").bind("click",function(a){g.gebi("spaui-search-icon").click()})):(k.setSearchTotal(e.$("#spaui-content").find("#spaui-search-total").data("total")),t.applyStandardMetricMetadata(d),l=!1,0<c.spaui.find(".spaui-search-result-help").length?t.toggleForumsClasses(l):(f=g.gebi("spaui-template-only-forum-results").innerHTML,c.spaui.find(".spaui-search-results").before(f),t.toggleForumResults(a.getContext("noHelpResults"))),
b("search"),t.attemptToFillSearchPage());a.send(d)},handleSearchTriggerClick:function(a){a.preventDefault();var b=g.gda(a.currentTarget,"search");a=g.gda(a.currentTarget,"filter");a!==z&&c.searchFilterSelect.val(a);b!==z&&(c.search.val(b),t.submitSearch())},externalSubmitSearch:function(a,b,d,f){c.search.val(a);t.submitSearch(b,d,f)},externalSynchronizeSearchBoxValue:function(a){c.search.val(a)},setSearchBoxValue:function(a){if(a===z||null===a)a="";a=decodeURIComponent(a);c.search.val(a);t.synchronizeGlobalNavSearch()},
searchScroll:function(c){if(!y&&g.gebi("spaui-results")){c=e.$("#spaui-content").scrollTop();var d=e.$("#spaui-content").innerHeight(),f=e.$("#spaui-content").prop("scrollHeight");c+d>=f-k.getSearchScrollBuffer()&&(k.setSearchStart(k.getSearchStart()+k.getSearchSize()),k.setSearchStartHistory(k.getSearchStart()),k.setSearchQuery(k.getSearchQueryHistory()),k.setSearchTotal(k.getSearchTotalHistory()),k.getSearchStart()+k.getSearchSize()>k.getSearchTotal()||(y=!0,t.placeSearch(b.placeEndpointAsAppend,
function(b,c){var d={isError:!b,errorDetails:c,from:k.getFrom(),where:a.getContext("results"),to:a.getPlace("searchMore")};t.applyStandardMetricMetadata(d);a.send(d);y=!1;t.toggleForumsClasses(l);t.attemptToFillSearchPage()})))}},redirectFilter:function(b,c,f){if(t.isSearchRedirectDom(f.content)){f=e.$(f.content).find("#spaui-redirect");var h=f.data("url"),l="unknown";h.match(/\/hz\/inventory/)?l="inventory":h.match(/\/gp\/orders/)&&(l="order");b(l+"-redirect");b=f.data("type").split("_").join("-");
d.setPinned(!1);a.send({from:c&&c.from!==z?c.from:k.getFrom(),where:a.getContext("results"),to:a.getPlace("searchRedirect"),additionalObj:{searchRedirect:b,query:k.getSearchQuery()},timeout:300},z,function(){C.location.href=h});return!1}return!0},placeSearch:function(a,b,c){var d=g.formEncode(k.getSearchQuery());a(n,b,!0,!0,{data:"query="+d+"&start="+k.getSearchStart()+"&size="+k.getSearchSize()+"&content="+k.getSearchFilter(),contentType:"application/x-www-form-urlencoded; charset=UTF-8"},c)},attemptToFillSearchPage:function(){setTimeout(function(){t.searchScroll()},
100)},handleNewPage:function(a){"search"===a.type&&t.rebindScroll();a.wentBack&&t.setSearchBoxValue(k.getSearchQueryHistory());t.blurSearch();y=!1},rebindScroll:function(){c.spaui.find("#spaui-content").unbind("scroll");c.spaui.find("#spaui-content").bind("scroll",t.searchScroll)},isSearchRedirectDom:function(a){return 0<e.$(a).find("#spaui-redirect").length},applyStandardMetricMetadata:function(a){var b=["content="+k.getSearchFilter(),"start="+k.getSearchStart(),"size="+k.getSearchSize(),"query="+
k.getSearchQuery()];a.payloadObj={queryString:b.join("|"),resultTotal:k.getSearchTotal()};b=g.truncateString(k.getSearchQuery(),100,"...");a.additionalObj=e.$.extend(a.additionalObj,{query:b})}};return{setSearchBoxValue:t.setSearchBoxValue,externalSubmitSearch:t.externalSubmitSearch,externalKeyDown:t.externalKeyDown,bindGlobalNav:t.bindGlobalNav,init:t.init}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-session","spaui-ajax","spaui-shim","spaui-weblabs").register("spaui-search-suggestions",
function(e,g,k,d,a,b,p,m){var f={name:"spaui-search-suggestions",serviceUrl:null,lastRequestId:0,someResults:!1,selectedResult:null,lastSearchQuery:null,searchIconMargin:27,dontHideOnNextBlur:!1,weblabActive:!1,enabled:!0,invokeSearchFunc:null,externalPlace:null,defaultWidth:300,enabledSearchSuggestions:!1,searchPlaceholder:null,requestTypingDelay:300,visible:!1,inPHWeblab:!1},h={tools:{resultKind:"SellerCentralTool",kind:"tool",title:null,number:3,lineBreak:!0,priority:3},history:{resultKind:"History",
kind:"history",title:null,number:3,lineBreak:!0,priority:1},ngram:{resultKind:"NGram",kind:"ngram",title:null,number:0,lineBreak:!0,priority:1},merged:{resultKind:"Merged",kind:"merged",title:null,number:0,lineBreak:!0,priority:1},help:{resultKind:"PredictiveHelp",kind:"help",title:null,number:3,priority:2},autohelp:{resultKind:"PredictiveHelpAuto",kind:"autohelp",title:null,number:0,lineBreak:!0,priority:2},previous:{resultKind:"previous",kind:"previous-search",title:null,number:3,priority:0}},c=
{},q={init:function(a,b){g.gebi("spaui-search-suggestions")&&(f.weblabActive=!0);f.enabledSearchSuggestions=a;f.searchPlaceholder=b;f.inPHWeblab=m.isAnyTreatment(m.SEARCH_SUGGEST_PH);f.inNgramWeblab=m.doesTreatmentEqual(m.SEARCH_SUGGEST_NGRAM,"T1");f.inMergedWeblab=m.doesTreatmentEqual(m.SEARCH_SUGGEST_NGRAM,"T2");f.serviceUrl=d.getAthenaUrlPrefix()+"suggest-search/";q.hydrate()},hydrate:function(){c.templateHolder=e.$("#spaui-template-search-suggestions");c.widget=e.$("#spaui-search-suggestions");
c.list=e.$("#spaui-search-suggestions-list");c.loadingGif=e.$('<span class="spaui-loading-gif-medium spaui-suggestions-loading">');Object.keys(h).forEach(function(a){h[a].title=c.widget.data(a+"-title")});f.inPHWeblab&&(h.autohelp.number=h.help.number,h.help.number=0,h.tools.lineBreak=!1);f.inNgramWeblab&&(h.ngram.number=h.history.number,h.history.number=0);f.inMergedWeblab&&(h.merged.number=h.history.number,h.history.number=0)},newBind:function(a,b,d,h){q.isDisabled()||(h===z&&(h=f.defaultWidth),
q.resize(h),q.unbind(c.input),q.bind(a),a.after(c.widget),c.widget.css("top",a.outerHeight()-1),f.invokeSearchFunc=b,f.externalPlace=d,q.show())},unbind:function(a){a&&(c.templateHolder.append(c.widget),a.unbind("focus",q.show),a.unbind("blur",q.onBlur),a.unbind("keydown",q.onKeyDown),a.unbind("input",q.onChange),f.invokeSearchFunc=null,f.currentPlace=null)},bind:function(a){c.input=a;c.input.attr("autocomplete","off");c.input.focus(q.show);c.input.blur(q.onBlur);c.input.keydown(q.onKeyDown);c.input.bind("input",
null,q.onChange)},onBlur:function(a){f.dontHideOnNextBlur||q.hide();f.dontHideOnNextBlur=!1},onKeyDown:function(a){if(!q.isDisabled()&&(40===a.keyCode||38===a.keyCode||13===a.keyCode)){var b=!0;switch(a.keyCode){case 40:q.moveSelectionDown();break;case 38:q.moveSelectionUp();break;case 13:q.hide();var b=!1,c=q.getSelectedSuggestion();c&&(b=q.handleSpecialSuggestionSelection(c,a))}return b?(a.preventDefault(),a.stopImmediatePropagation(),!1):!0}},onChange:function(a){q.resetSelection(!1);g.delayFunc(function(){var a=
c.input.val();q.search(a)},f.requestTypingDelay)},resize:function(a){q.isDisabled()||c.widget.width(a-f.searchIconMargin)},show:function(a){a=c.input.val();f.visible=!0;""===a||a===f.searchPlaceholder?q.loadPreviousSearchSuggestions():f.someResults?c.widget.addClass("shown"):(a=c.input.val(),q.search(a))},hide:function(){c.widget.removeClass("shown");f.visible=!1},showLoading:function(){c.widget.addClass("shown");c.list.empty();c.widget.append(c.loadingGif)},hideLoading:function(){c.loadingGif.remove()},
enable:function(){f.enabled=!0},disable:function(){f.enabled=!1},isDisabled:function(){return!f.enabled||!f.weblabActive},search:function(a){a=a.trim();if(!q.invalid(a)){var c=++f.lastRequestId;""===a?q.showSearchResults(c,!1,[],a):(q.showLoading(),q.instrumentRequest(),b.get(f.serviceUrl+encodeURIComponent(a)+"/",{dataType:"json"},e.$.proxy(function(a,b,c){q.showSearchResults(a,!0,b,c.data)},null,c,a),function(a){q.hide();q.instrumentFailure()}))}},invalid:function(a){return q.isDisabled()||!f.enabledSearchSuggestions||
a===f.lastQuery||a===f.searchPlaceholder},showSearchResults:function(a,b,c,d){q.isDisabled()||a!==f.lastRequestId||(q.hideLoading(),f.lastQuery=c,q.displayResults(d,b))},displayResults:function(a,b){if(!q.isDisabled())if(b&&q.instrumentResponse(a.length),a&&0!==a.length){f.someResults=!0;var d=c.input.val();c.list.empty();var e=1,g=Object.keys(h).map(function(a){return h[a]});f.inPHWeblab&&g.sort(function(a,b){return a.priority-b.priority});g.forEach(function(b){var f=q.getFilteredResults(b,a);f.forEach(function(a,
f){b.title&&0===f&&c.list.append('<span class="suggestion-group-title">'+b.title+('<span class="spaui-sprite spaui-suggestion-icon spaui-suggestion-icon-'+b.kind+'"></span>')+"</span>");c.list.append(q.generateSearchSuggestionItem(d,a,b,a.link,a.topicId,e));e++});b.lineBreak&&0<f.length&&c.list.append('<div class="suggestion-group-separator">')});f.lastSearchQuery=d;f.lastNumResults=e-1;q.determineShow();q.resetSelection();q.rebindList(e)}else c.list.empty(),c.widget.removeClass("shown"),f.someResults=
!1},determineShow:function(){f.visible?c.widget.addClass("shown"):c.widget.removeClass("shown")},getFilteredResults:function(a,b){return b.filter(function(b){return b.kind===a.resultKind}).slice(0,a.number).map(function(b){var c=q.getTopicIDFromResult(b),d=q.generateLinkText(a,b,c);return e.$.extend(b,{topicId:c,link:d})}).filter(function(a){return null!==a.link})},getTopicIDFromResult:function(a){try{var b=null,c=JSON.parse(a.data);e.$.isArray(c)?b=c[0].HELP_TOPIC_ID:"number"===typeof c&&(b=c);return b}catch(d){return null}},
generateLinkText:function(a,b,c){var d="/hz/help/search?query="+b.text;if("SellerCentralTool"===a.resultKind)try{d=JSON.parse(b.data).ToolPath}catch(f){return null}else if(q.isHelpArticle(a))if(c)d="/gp/help/"+c;else return null;return d},generateSearchSuggestionItem:function(a,b,c,d,f,h){a=q.getHighlightedContent(a,b.text);d=e.$('<a class="spaui-suggestion-'+c.kind+'" href="'+d+'">'+a+"</a>");d.addClass("result-link");d.attr("data-name",b.text);d.attr("data-kind",c.kind);d.attr("data-rank",h);null!==
f&&q.isHelpArticle(c)&&d.attr("data-topic-id",f);return d},isHelpArticle:function(a){return"PredictiveHelp"===a.resultKind||"PredictiveHelpAuto"===a.resultKind},handleSpecialSuggestionSelection:function(b,c){var d=!1;if(b.hasClass("spaui-suggestion-tool"))g.redirect(b.attr("href")),a.setPinned(!1),c.preventDefault(),d=!0;else if(b.hasClass("spaui-suggestion-help")||b.hasClass("spaui-suggestion-autohelp"))d=g.gda(b,"topic-id"),f.invokeSearchFunc(d),q.hide(),c.preventDefault(),d=!0;return d},rebindList:function(a){c.list.find(".result-link").each(function(){e.$(this).attr("data-total",
a-1)});c.list.find("a").mousedown(function(a){f.dontHideOnNextBlur=!0});c.list.find("a").click(function(a){q.instrumentClick(this);var b=e.$(this);if(b.hasClass("spaui-suggestion-history")||b.hasClass("spaui-suggestion-previous-search")||b.hasClass("spaui-suggestion-ngram")||b.hasClass("spaui-suggestion-merged"))return c.input.val(g.gda(b,"name")),f.invokeSearchFunc(),q.hide(),a.stopImmediatePropagation(),!1;q.handleSpecialSuggestionSelection(b,a)})},getHighlightedContent:function(a,b){a=a.replace(/\W+/g,
" ");a=a.replace(/\s+/g," ");var c=a.split(" "),d={},f;for(f in c)if(c.hasOwnProperty(f)){var h=c[f];d.hasOwnProperty(h)||""===h||(d[h]=!0)}c=Object.keys(d).join("|");return b.replace(new RegExp("("+c+")","gi"),'<span class="highlight_text">$1</span>')},instrumentClick:function(a){a&&q.instrumentSend("result-selected",{query:c.input.val(),name:g.gda(a,"name"),kind:g.gda(a,"kind"),rank:g.gda(a,"rank"),total:g.gda(a,"total")})},instrumentRequest:function(){q.instrumentSend("request",{query:c.input.val()})},
instrumentResponse:function(a){q.instrumentSend("response",{query:c.input.val(),total:a})},instrumentFailure:function(){q.instrumentSend("request-error",{query:c.input.val()})},instrumentSend:function(a,b){k.send({from:f.externalPlace?f.externalPlace:d.getFrom(),to:a,where:k.getContext("searchSuggestions"),additionalObj:b})},resetSelection:function(a){f.selectedResult=null;q.changeSelection(a)},moveSelectionDown:function(){null===f.selectedResult?f.selectedResult=0:(f.selectedResult++,f.selectedResult>=
f.lastNumResults&&(f.selectedResult=null));q.changeSelection()},moveSelectionUp:function(){null===f.selectedResult?f.selectedResult=f.lastNumResults-1:(f.selectedResult--,0>f.selectedResult&&(f.selectedResult=null));q.changeSelection()},changeSelection:function(a){a=a===z?!0:a;c.list.find("a").removeClass("selected-result");var b=c.input.val(),d=f.lastSearchQuery;null!==f.selectedResult&&0<=f.selectedResult&&f.selectedResult<f.lastNumResults&&(d=q.getSelectedSuggestion(),d.addClass("selected-result"),
d=g.gda(d,"name"));a&&b!==d&&c.input.val(d)},getSelectedSuggestion:function(){return null===f.selectedResult?null:c.list.find("a").eq(f.selectedResult)},loadPreviousSearchSuggestions:function(){var b=[];a.getLastSearches().forEach(function(a){b.push({kind:"previous",text:g.stripHtmlTags(a)})});q.displayResults(b,!1)},overrideConfig:function(a){f=e.$.extend({},f,a)}};return{overrideConfig:q.overrideConfig,hide:q.hide,showLoading:q.showLoading,hideLoading:q.hideLoading,enable:q.enable,disable:q.disable,
newBind:q.newBind,resize:q.resize,init:q.init}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util","spaui-events").register("spaui-session",function(e,g,k,d,a){var b={storage:localStorage,JSON:JSON,numOfSearchesToTrack:3,MAX_ATHENA_SIZE:51200},p={id:null,data:{article:{topicID:null,link:null},closeAffordance:{show:!0},pinned:{is:!1},preview:{show:!0},size:{large:!1},lastSearches:[],dismissed:!1,timeSellerViewingArticle:null,persistentDA:null}},m={init:function(){g.getSession()&&(p.id=
g.getSession());if("undefined"===typeof b.JSON||"undefined"===typeof b.storage)g.send({from:k.getFrom(),to:"localStorage",where:"info",additional:"&additionalMetadata=no-session-storage-support"});else try{var a=b.JSON.parse(b.storage.getItem("spaui"));m.updateCfgData(a)}catch(d){}},updateCfgData:function(a){a.id&&a.id===p.id?p.data=e.$.extend(!0,{},p.data,a.data):localStorage.removeItem("spaui")},returnTopicID:function(){return p.data.article.topicID},returnTopicURL:function(){return p.data.article.link},
isLargeSize:function(){return p.data.size.large},returnPinned:function(){return p.data.pinned.is},returnPreview:function(){return p.data.preview.show},setPreview:function(a){p.data.preview.show=a;m.update()},setPinned:function(a){p.data.pinned.is=a;m.update()},setTopicID:function(a){p.data.article.topicID=a;m.update()},setTopicURL:function(a){p.data.article.link=a;m.update()},returnCloseAffordance:function(){return p.data.closeAffordance.show},setCloseAffordance:function(a){p.data.closeAffordance.show=
a;m.update()},setIsLarge:function(a){p.data.size.large=a;m.update()},setTopic:function(a){m.setTopicID(a);m.setTopicURL(a)},update:function(){if("undefined"===typeof b.storage||"undefined"===typeof b.JSON)return!1;var a=b.JSON.stringify(p);if(a.length>b.MAX_ATHENA_SIZE)return!1;try{b.storage.setItem("spaui",a)}catch(d){return!1}return!0},getLastSearches:function(){return p.data.lastSearches},getWasDismissed:function(){return p.data.dismissed},setWasDismissed:function(a){p.data.dismissed=a;m.update()},
getTimeSellerViewingArticle:function(){return p.data.timeSellerViewingArticle},setTimeSellerViewingArticle:function(a){p.data.timeSellerViewingArticle=a;m.update()},revertSellerToInfoCard:function(){m.setTopic(null)},storeSearchQuery:function(a){p.data.lastSearches.unshift(a);p.data.lastSearches=d.getUniqueArray(p.data.lastSearches);p.data.lastSearches.splice(b.numOfSearchesToTrack,p.data.lastSearches.length);m.update()},storePersistentDA:function(a){p.data.persistentDA=a;if(!m.update())throw m.clearPersistentDA(),
"Storage Space Exceeded or Not Available.";},getPersistentDA:function(){return p.data.persistentDA},clearPersistentDA:function(){p.data.persistentDA=null;m.update()},mockConfig:function(a){Object.keys(a).forEach(function(d){b[d]=a[d]})}};return{setTopic:m.setTopic,setCloseAffordance:m.setCloseAffordance,getCloseAffordance:m.returnCloseAffordance,setTopicID:m.setTopicID,setIsLarge:m.setIsLarge,setTopicURL:m.setTopicURL,setPinned:m.setPinned,setPreview:m.setPreview,getPreview:m.returnPreview,getPinned:m.returnPinned,
isLargeSize:m.isLargeSize,getTopicID:m.returnTopicID,getTopicURL:m.returnTopicURL,getLastSearches:m.getLastSearches,getWasDismissed:m.getWasDismissed,setWasDismissed:m.setWasDismissed,getTimeSellerViewingArticle:m.getTimeSellerViewingArticle,setTimeSellerViewingArticle:m.setTimeSellerViewingArticle,revertSellerToInfoCard:m.revertSellerToInfoCard,storeSearchQuery:m.storeSearchQuery,storePersistentDA:m.storePersistentDA,getPersistentDA:m.getPersistentDA,clearPersistentDA:m.clearPersistentDA,updateCfgData:m.updateCfgData,
mockConfig:m.mockConfig,init:m.init}});ASPP.when("spaui-browser-support").register("spaui-shim",function(e){var g={init:function(){e.definePropertyIsSupported()&&(g.objectKeys(),g.trim(),g.endsWith(),g.arrayIndexOf(),g.foreach(),g.filter(),g.include(),g.map())},objectKeys:function(){Object.keys||(Object.keys=function(e){var d=[],a;for(a in e)e.hasOwnProperty(a)&&d.push(a);return d})},trim:function(){"function"!==typeof String.prototype.trim&&Object.defineProperty(String.prototype,"trim",{value:function(){return this.replace(/^\s+|\s+$/g,
"")}})},endsWith:function(){String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,d){var a=this.toString();if("number"!==typeof d||!isFinite(d)||Math.floor(d)!==d||d>a.length)d=a.length;d-=e.length;a=a.indexOf(e,d);return-1!==a&&a===d}})},arrayIndexOf:function(){Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function(e,d){var a;if(null===this||this===z)throw new TypeError('"this" is null or not defined');var b=Object(this),
g=Math.abs(b.length);if(0===g)return-1;a=+d||0;Infinity===Math.abs(a)&&(a=0);if(a>=g)return-1;for(a=Math.max(0<=a?a:g-Math.abs(a),0);a<g;){if(a in b&&b[a]===e)return a;a++}return-1}})},foreach:function(){Array.prototype.forEach||Object.defineProperty(Array.prototype,"forEach",{value:function(e,d){var a,b;if(null===this)throw new TypeError(" this is null or not defined");var g=Object(this),m=g.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");1<arguments.length&&(a=d);
for(b=0;b<m;){var f;b in g&&(f=g[b],e.call(a,f,b,g));b++}}})},filter:function(){Array.prototype.filter||Object.defineProperty(Array.prototype,"filter",{value:function(e){if(void 0===this||null===this)throw new TypeError;var d=Object(this),a=d.length>>>0;if("function"!==typeof e)throw new TypeError;for(var b=[],g=2<=arguments.length?arguments[1]:void 0,m=0;m<a;m++)if(m in d){var f=d[m];e.call(g,f,m,d)&&b.push(f)}return b}})},include:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,
"includes",{value:function(e,d){var a=Object(this),b=parseInt(a.length,10)||0;if(0===b)return!1;var g=parseInt(d,10)||0;0<=g||(g=b+g,0>g&&(g=0));for(var m;g<b;){m=a[g];if(e===m||e!==e&&m!==m)return!0;g++}return!1}})},map:function(){Array.prototype.map||Object.defineProperty(Array.prototype,"map",{value:function(e,d){var a,b,g;if(null===this)throw new TypeError(" this is null or not defined");var m=Object(this),f=m.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");1<arguments.length&&
(a=d);b=Array(f);for(g=0;g<f;){var h;g in m&&(h=m[g],h=e.call(a,h,g,m),b[g]=h);g++}return b}})}};return{init:g.init}});ASPP.when("ASPA","spaui-util","spaui-theming").register("spaui-state",function(e,g,k){var d,a,b,p,m,f,h,c={showBrowseAllHelpOnLoad:!0},q={autoSummonParam:"spaui-auto-summon",helpSummonParam:"spaui-help-topic"},r={init:function(a){r.initCfg(a);r.override()},initCfg:function(c){d=c.location.search.split(/[\?&]+/);a=encodeURIComponent(document.getElementsByTagName("title")[0].innerHTML);
b=c.location.pathname.split(/\/ref=/)[0];p=encodeURIComponent(c.location.hash);m="";f={title:"spaui",url:"spaui-url",spauiDebug:"spauiDebug",auiDebug:"1",stringDebug:"true",auiReset:"1",athenaNotificationMockType:z};h=c.location.search},override:function(){var c=d.length,e,h={};for(e=0;e<c;e++){var p=d[e].split(/\=/);p[0]===f.title&&(a=p[1]);p[0]===f.url&&(b=p[1]);p[0]===f.spauiDebug?(h.spauiDebug="1",h.auiDebug="1",h.auiReset="1"):p[0]in f&&(h[p[0]]=f[p[0]]||p[1])}m=g.formatObjectAsUrlParams(h,!0)},
getState:function(a){return c[a]},setState:function(a,b){c[a]=b},isParamPresent:function(a){return-1!==h.indexOf(a)},isOnUrl:function(a){return a instanceof RegExp?a.test(b):-1!==b.indexOf(a)},isAnySummoningParamPresent:function(){for(var a=Object.keys(q),b=0;b<a.length;b++)if(r.isParamPresent(q[a[b]]))return!0;return!1},getParamValue:function(a){var b=h,c=b.indexOf(a);if(0>c)return z;a=b.indexOf("=",c);c=b.indexOf("&",c);return 0>a||a>c&&-1<c?z:0>c?b.substring(a+1):b.substring(a+1,c)},enhanceUrl:function(c){c=
c.split("#");-1!==c[0].indexOf("?")?c[0]+=c[0].endsWith("&")?"":"&":c[0]+="?";c[0]=c[0]+"pageTitle="+a+"&pageUrl="+b+"&pageHash="+p+m+"&theme="+k.getTheme();return c.join("#")}};return{init:r.init,showBrowseAllHelpOnLoad:e.$.proxy(r.getState,null,"showBrowseAllHelpOnLoad"),setShowBrowseAllHelpOnLoad:e.$.proxy(r.setState,null,"showBrowseAllHelpOnLoad"),isParamPresent:r.isParamPresent,isAnySummoningParamPresent:r.isAnySummoningParamPresent,getParamValue:r.getParamValue,summoningParams:q,enhanceUrl:r.enhanceUrl,
isOnUrl:r.isOnUrl}});ASPP.when("ASPA").register("spaui-theming",function(e){var g="",k=!1,d=!1,a=999;return{init:function(){var b=e.state("spaui-theming-state");g=b.theme;k="true"===b.hideFeedbackOnInfoCard;d="true"===b.hideAllAlerts;a=parseInt(b.hideAlertLevel,10)},getTheme:function(){return g},isFeedbackDisabledOnInfoCard:function(){return k},shouldHideAlerts:function(b){return d||b>a}}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-history","spaui-metrics","spaui-ui","spaui-content","spaui-events",
"spaui-search","spaui-help","spaui-alerts","spaui-contact-deflection").register("spaui-triggers",function(e,g,k,d,a,b,p,m,f,h,c,q){var r=null,l=null,n={},y={init:function(a){n.athenaHome=a.athenaHome;y.checkForAutoSummonParam();y.checkForPinRequest(g.gebi("spaui-pin-request"));y.checkForTabbedContent(g.gebi("spaui-hash"));y.addLegacyLinkClickListener(a);e.$("body ").delegate(".spaui-trigger","click",y.handleClick);C.ATHENA_DISABLE_EXTERNAL_LINK_ONCLICK=!0;a.footerContactUs&&y.bindContactUsLinks()},
bindContactUsLinks:function(){var a=g.getContactUsFooterLink();1===a.length&&(a.addClass("spaui-trigger"),a.attr("data-spaui",'{"type":"contact-us","data":{"page":"sx-athena","context":"contactusfooter"}}'),a.attr("data-href",a.attr("href")),a.removeAttr("href"))},checkForAutoSummonParam:function(){if(k.isParamPresent(k.summoningParams.autoSummonParam))b.summoner({where:a.getContext("autoSummonParam")});else if(k.isParamPresent(k.summoningParams.helpSummonParam)){var c=k.getParamValue(k.summoningParams.helpSummonParam);
h.displayHelpTopic(c,null,{where:a.getContext("autoSummonHelpParam")});b.summoner({where:a.getContext("autoSummonHelpParam"),additionalObj:{topicID:c}})}},checkForPinRequest:function(a){a&&b.summoner({external:!0})},checkForTabbedContent:function(a){a&&(r=a,l=g.gda(r,"regex"),"onhashchange"in C&&(C.onhashchange=y.hashChange))},hashChange:function(b){var c=C.location.hash;c.match(l)&&p.placeFeaturedAndPredictive(function(b,e){a.send({isError:!b,errorDetails:e,from:d.getFrom(),where:a.getContext("externalTrigger"),
to:a.getPlace("setFeaturedContentAndPredictiveHelp"),additionalObj:{action:"tabSwitch",hash:c}})})},handleClick:function(a){if("undefined"!==typeof JSON)try{var c=JSON.parse(g.gda(a.currentTarget,"spaui"));c.data.href=a.currentTarget.href;"topic"===c.type&&(a.preventDefault(),y.placeTopic(c.data));"page"===c.type&&(a.preventDefault(),y.placePage(c.data));"search"===c.type&&(a.preventDefault(),y.placeSearch(c.data));if("forum"===c.type)return{error:"forums are not yet supported."};"contact-us"===c.type&&
y.handleContactUs(a,c.data);b.getVisible()||b.summoner({external:!0})}catch(d){}},handleContactUs:function(c,e){var f;c.preventDefault();var h=b.getVisible(),g=q.isActive();h||g?f=a.getPlace("disabledGetSupportClick"):(n.athenaHome({preventDefault:function(){}}),f=a.getPlace("setContactUsFooter"));h||b.summoner({external:!1});g?q.displayDeflectionCard(a.getContext("scFooter"),!h):a.send({from:d.getFrom(),to:f,where:a.getContext("trigger")})},placeTopic:function(b){h.displayHelpTopic(b.id,b.href,{where:a.getContext("externalTrigger"),
additionalObj:{client:b.page,context:b.context}},b.bookmark)},placePage:function(d){var e=d.id.toLowerCase();if("home"===e)if(b.isSummoned())m.publish(m.getName("goHome"));else{var f=function(){m.publish(m.getName("goHome"));m.unsubscribe("summon",f)};m.subscribe("summon",f)}else d={where:a.getContext("externalTrigger"),additionalObj:{page:d.page,context:d.context}},"browse"===e&&h.displayBrowseAllHelp(d),"alerts"===e&&c.displayAllAlerts(d)},placeSearch:function(b){f.externalSubmitSearch(decodeURIComponent(b.query),
{where:a.getContext("externalTrigger"),additionalObj:{client:b.page,context:b.context}})},parseLinkHref:function(){var a=/openModalDialog\('(.*)'\)/,b=/itemID=?([0-9]+)/,c=[C.location.protocol,"//",C.location.hostname,"/"].join("");return function(d){d=(a.exec(d)||[])[1];var e=(b.exec(d)||[])[1];return d&&e?{href:[c,"gp/help/help-popup.html?itemID=",e].join(""),id:e}:!1}}(),handleLegacyLinkClick:function(a){if("object"!==typeof a||!a.target)return!1;a=y.parseLinkHref(a.target.href);if("object"!==
typeof a)return!1;y.placeTopic({id:a.id,page:"campaign-manager",context:"page",href:a.href,bookmark:""});b.getVisible()||b.summoner({external:!0});return!0},addLegacyLinkClickListener:function(a){a=a||{};a.location=a.location||{};var b=a.location.pathname||C.location.pathname;a=0===(a.location.hash||C.location.hash).indexOf("#/hz/cm");if(0!==b.indexOf("/hz/cm")&&!a)return!1;e.$(document).bind("click",function(a){y.handleLegacyLinkClick(a)&&a.preventDefault()});return!0}};return{init:y.init}});ASPP.when("ASPA",
"spaui-util","spaui-session","spaui-history","spaui-metrics","spaui-predictive","spaui-search-suggestions","spaui-featured-content","spaui-events","spaui-theming").register("spaui-ui",function(e,g,k,d,a,b,p,m,f,h){var c,q,r,l,n,y,t,z,v,F,G,H,w={active:!1,closeAffordance:{delay:1E3,fade:1250},duration:{show:200,hide:300,fbConfirm:2E3,spooferDelay:300,contentFadeIn:300},distance:null,regularSize:410,externalSquishee:"#athena-controlled-width-area",ph:{adopt:!0},resize:{duration:250,percentage:.4,maximum:575},
spooferHeight:0,squish:!1,visible:!1,specialSizeStyleMin:500},x={init:function(a){x.hydrate(a);x.bind();x.handleSpooferBar()},hydrate:function(a){c=e.$(C);q=a;r=a.find(".spaui-head-controls-search");l=a.find(".spaui-head-controls-search #spaui-search-icon");n=a.find(".spaui-head-controls-pop");a.find("#spaui-head-controls");y=a.find("#spaui-close");t=a.find("#spaui-head-controls-close-affordance");z=e.$("#sc-quicklink-help").find("a");v=e.$("#helpMenuID").find("a");F=a.find("#spaui-resize");G=e.$(w.externalSquishee);
H=e.$("#globalActionBar");0!==G.length&&(w.squish=!0);w.distance=w.regularSize},bind:function(){z.click(x.summon);v.click(x.summon);y.click(x.banish);t.hover(x.closeAffordHover);z.hover(x.triggerHover);F.click(x.resize);0!==H.length&&c.scroll(x.windowScroll)},initialState:function(){k.isLargeSize()?x.makeLarge():x.makeSmall()},summon:function(a){a.preventDefault();f.publish(f.getName("triggerSummon"));x.summoner({})},summoner:function(a){x.isSummoned()||(w.active=!0,q.css("display","block"),x.setSize(w.distance),
w.squish&&G.animate({width:w.distance},w.duration.show),q.animate({marginRight:0},w.duration.show,function(){x.summoned(a)}))},summoned:function(b){k.setPinned(!0);k.setPreview(!1);var c="";b.where?c=b.where:(c=b.session?a.getContext("session"):a.getContext("trigger"),b.external&&(c=a.getContext("externalTrigger")),b.preload&&(c=a.getContext("preload")));var g={theme:h.getTheme()};b.additionalObj&&e.$.extend(g,b.additionalObj);a.send({from:d.getFrom(),to:a.getPlace("setAthenaSummoned"),where:c,additionalObj:g});
w.visible=!0;w.active=!1;x.closeAffordance();f.publish(f.getName("summon"))},banish:function(a){a.preventDefault();k.setWasDismissed(!0);x.banisher()},banisher:function(a){f.publish(f.getName("dismissed"));w.active||(w.active=!0,w.squish&&G.animate({width:0},w.duration.hide),q.animate({marginRight:"-="+w.distance},w.duration.hide,function(){x.banished(a)}))},banished:function(b){q.css("display","none");k.setPinned(!1);b=e.$.extend({from:d.getFrom(),where:a.getContext("header"),to:a.getPlace("setAthenaBanished")},
b);a.send(b);w.visible=!1;w.active=!1},isSummoned:function(){return w.active||w.visible},resize:function(a){a.preventDefault();x.resizer(a)},resizer:function(a){k.isLargeSize()?x.makeSmall(!0):x.makeLarge(!0)},makeSmall:function(b){b&&k.isLargeSize()&&a.setSizeActive(a.getPlace("setSizeSmall"));k.setIsLarge(!1);x.resetSpecialClasses();F.removeClass("spaui-resize-large");x.setSize(w.regularSize)},makeLarge:function(b){b&&!k.isLargeSize()&&a.setSizeActive(a.getPlace("setSizeLarge"));k.setIsLarge(!0);
x.resetSpecialClasses();F.addClass("spaui-resize-large");x.setSize(x.calculateLargeWidth())},setSpecialSize:function(a,b){a>w.specialSizeStyleMin?q.addClass("spaui-special-sizing"):x.resetSpecialClasses();x.setSize(a,!1,b)},resetSpecialClasses:function(){q.removeClass("spaui-special-sizing")},setSize:function(a,b,c){w.distance=a;a=x.getSearchSize(w.distance);w.visible&&!c?(w.squish&&G.animate({width:w.distance},w.resize.duration),b||q.animate({width:w.distance},w.resize.duration,x.resized),r.animate({width:a},
w.resize.duration,x.searchResized)):(q.width(w.distance),r.width(a));w.visible||q.css("margin-right","-"+w.distance+"px");p.resize(a+l.width()-1)},searchResized:function(){e.$(this).css("overflow","visible")},resized:function(){var b;b="<style>"+("#spaui {width:"+w.distance+"px;}");b+="#spaui-next {right:-"+w.distance+"px;}";b+="#spaui-prev {right:"+w.distance+"px;}";b+="</style>";g.gebi("spaui-css-override").innerHTML=b;b=a.getPlace("setSizeActive");""!==b&&a.send({from:d.getFrom(),to:b,where:a.getContext("header")})},
getSearchSize:function(a){a-=30;"none"!==n.css("display")&&(a-=26);a-=26;a-=x.getCloseIconSize();return a-=8},closeAffordance:function(){k.getCloseAffordance()&&(k.setCloseAffordance(!1),t.show(),setTimeout(x.closeAffordStartFade,w.closeAffordance.delay))},closeAffordStartFade:function(){t.addClass("spaui-fade");setTimeout(x.closeAffordAfterFade,w.closeAffordance.fade)},closeAffordAfterFade:function(){t.remove()},closeAffordHover:function(a){t.remove()},triggerHover:function(a){"mouseenter"===a.type&&
(a.currentTarget.style.color="#e47911",a.currentTarget.style.cursor="pointer");"mouseleave"===a.type&&(a.currentTarget.style.color="",a.currentTarget.style.cursor="auto")},calculateLargeWidth:function(){var a=Math.min(parseInt((c.width()-w.regularSize)*w.resize.percentage+w.regularSize,10),w.resize.maximum);a<=w.regularSize&&(a=w.regularSize+1);return a},returnVisible:function(){return w.visible},handleSpooferBar:function(){g.gebi("spooferDiv")&&setTimeout(function(){w.spooferHeight=e.$("#spooferDiv").outerHeight();
q.css("top",w.spooferHeight)},w.duration.spooferDelay)},windowScroll:function(a){a=0;a=0!==H.length&&"fixed"===H.css("position")?H.outerHeight():w.spooferHeight;q.css("top",a)},scrollToHash:function(a){var b;"top"===a.toLowerCase()?e.$("#spaui-content").scrollTop(0):(b=e.$("#spaui"),g.gebi(a)&&0<e.$("#spaui-content").find('a[name="'+a+'"]').length?g.updateScrollTop(b.find("#"+a),55):(g.gebi(a)&&g.updateScrollTop(b.find("#"+a),55),0<e.$("#spaui-content").find('a[name="'+a+'"]').length&&g.updateScrollTop(b.find('a[name="'+
a+'"]'),70)))},contentChanged:function(){var a=x.getSearchSize(w.distance);r.animate({width:a},w.resizeDuration,x.searchResized)},hideClose:function(){y.css("display","none");r.css("right","auto")},showClose:function(){y.css("display","");r.css("right","")},hideResizer:function(){F.hide()},showResizer:function(){F.show()},getCloseIconSize:function(){return"none"!==y.css("display")?44:13},overrideConfig:function(a){w=e.$.extend(!0,{},w,a)}};return{scrollToHash:x.scrollToHash,summon:x.summon,summoner:x.summoner,
banish:x.banish,banisher:x.banisher,resize:x.resize,getVisible:x.returnVisible,getLargeWidth:x.calculateLargeWidth,makeSmall:x.makeSmall,makeLarge:x.makeLarge,setSpecialSize:x.setSpecialSize,isSummoned:x.isSummoned,initialState:x.initialState,contentChanged:x.contentChanged,hideClose:x.hideClose,showClose:x.showClose,hideResizer:x.hideResizer,showResizer:x.showResizer,overrideConfig:x.overrideConfig,init:x.init}});ASPP.when("ASPA","spaui-shim").register("spaui-util",function(e,g){var k=null,d={init:function(a){k=
a},textareaFocusPlaceholderFix:function(a){a.attr("placeholder")===a.val()&&a.val("")},returnTopicIDFromLocation:function(){return d.returnTopicIDFromLink(k.location.href)},returnTopicIDFromLink:function(a){var b,d=/\/help\/([\d]+)/;a.match(d)&&a.match(d)[1]&&(b=a.match(d)[1]);var d=a.split(/[\?&]+/),e=d.length;for(a=0;a<e;a++){var f=d[a].split("=");"itemID"===f[0]&&(f=f[1].match(/^([0-9]+).*/),null!==f&&(b=f[1]))}return b},updateScrollTop:function(a,b){e.$("#spaui").find("#spaui-content").scrollTop(a.offset().top-
b)},isOnArticle:function(){var a=!1,b=k.location.href,d=/\/help\/([\d]+)/;b.match(d)&&b.match(d)[1]&&(a=!0);for(var d=b.split(/[\?&]+/),e=d.length,b=0;b<e;b++)"itemID"===d[b].split("=")[0]&&(a=!0);return a},exposejQuery:function(){"function"!==typeof k.$&&(k.$=e.$)},gda:function(a,b){return a.attr?a.attr("data-"+b):a.data?a.data(b):a.dataset?a.dataset[b]:a.getAttribute("data-"+b)},gebi:function(a){return document.getElementById(a)},delayInit:function(){var a=0;return function(b,d){clearTimeout(a);
a=setTimeout(b,d)}},startsWith:function(a,b){var d=!1;a.substr(0,b.length)===b&&(d=!0);return d},contains:function(a,b){if("string"===typeof a){if(b instanceof RegExp)return b.test(a);if(-1!==a.indexOf(b))return!0}return!1},handleSigninRedirect:function(a){return 403===a?(k.location.reload(),!0):!1},openInNewWindow:function(a){k.open(a,"_blank").focus()},redirect:function(a){k.location=a},getUniqueArray:function(a){for(var b={},d=[],e=0,f=a.length;e<f;++e)b.hasOwnProperty(a[e])||(d.push(a[e]),b[a[e]]=
1);return d},isString:function(a){return"string"===typeof a||a instanceof String},isNumber:function(a){return!isNaN(a-0)&&null!==a&&""!==a&&!1!==a},isNull:function(a){return null===a||a===z},formatObjectAsUrlParams:function(a,b){if(e.$.isPlainObject(a)){var d=[];Object.keys(a).forEach(function(e){var f=a[e];!0===f?f="true":!1===f&&(f="false");b&&(f=encodeURIComponent(f));d.push(e+"="+f)});return 0<d.length?"&"+d.join("&"):""}return null},getErrorDetailsFromAjaxResponse:function(a,b){var d="none";
"error"===b?d=0===a.status&&0===a.readyState?"abort":500===a.status?"server-error":"unknown-error":"abort"===b&&(d="abort");return{type:d,jqueryStatus:b,httpStatus:a.status,readyState:a.readyState}},getUid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},truncateString:function(a,b,e){e===z&&(e="");if(a===z||!d.isString(a)||!d.isString(e)||!d.isNumber(b))return"";b===z&&(b=100);return a.length>b?a.substr(0,
b-e.length)+e:a},isParamPresent:function(a){return-1!==k.location.search.indexOf(a)},forEachObjectValue:function(a,b){for(var d in a)a.hasOwnProperty(d)&&b(a[d])},getElementRightOffset:function(a){var b=a.offset();return null===b?0:document.body.clientWidth-b.left-a.width()},ensureId:function(a){if(0!==a.length&&a instanceof e.$){var b=a.attr("id");""!==b&&b!==z||a.attr("id",d.getUid())}},resetJqueryAnimation:function(a){0!==a.length&&a instanceof e.$&&(a.css("height",""),a.css("margin-top",""),a.css("margin-bottom",
""),a.css("padding-top",""),a.css("padding-bottom",""),a.css("overflow",""))},isHashOnCurrentPage:function(a){var b=d.removeHashFromUrl(d.escape(k.location.href));return(new RegExp(b+"#.*$")).test(a)},escape:function(a){return a.replace(/[-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")},removeHashFromUrl:function(a){return a.split("#")[0]},isHtmlElement:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:!1},isSellerULink:function(a){return"201047930"===a},executeIf:function(a,b){return function(d){if(e.$.isFunction(a)&&
a(d)||!e.$.isFunction(a)&&a)return b(d)}},executeIfElse:function(a,b,d){return function(g){return e.$.isFunction(a)&&a(g)||!e.$.isFunction(a)&&a?b(g):d(g)}},getPathArguments:function(a){var b={};a=a&&a.split("?");if(!a||2<a.length)return b;(a[1]?a[1].split("&"):[]).forEach(function(a){a=a.split("=");b[a[0]]=2>a.length?"":a[1]});return b},getContactUsFooterLink:function(){return e.$(".sc-footer, #sc_footer").find('a[href*="contact-"]').filter(function(){var a=e.$(this).attr("href");return 0>a.indexOf("?")||
a.indexOf("contact-")<a.indexOf("?")})},toggleClassOnCond:function(a,b,d){var e=a.hasClass(b);d&&!e?a.addClass(b):!d&&e&&a.removeClass(b)},stringToBool:function(a){return"true"===(a+"").toLowerCase()},selectorToClass:function(a){return 0===a.indexOf(".")?a.substring(1):a},formEncode:function(a){return encodeURIComponent(a).replace(/%20/g,"+")},hasTemplate:function(a){return null!==d.gebi("spaui-template-"+a)},stripHtmlTags:function(a){var b=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi,
d;do d=a,a=a.replace(b,"");while(a!==d);return a.replace(/</g,"&lt;")}};return{init:d.init,startsWith:d.startsWith,contains:d.contains,delayFunc:d.delayInit(),exposejQuery:d.exposejQuery,gda:d.gda,gebi:d.gebi,getTopicIDFromLink:d.returnTopicIDFromLink,getTopicIDFromLocation:d.returnTopicIDFromLocation,handleSigninRedirect:d.handleSigninRedirect,isOnArticle:d.isOnArticle,openInNewWindow:d.openInNewWindow,textareaFocusPlaceholderFix:d.textareaFocusPlaceholderFix,updateScrollTop:d.updateScrollTop,getUniqueArray:d.getUniqueArray,
isString:d.isString,isNumber:d.isNumber,isNull:d.isNull,formatObjectAsUrlParams:d.formatObjectAsUrlParams,truncateString:d.truncateString,isParamPresent:d.isParamPresent,getErrorDetailsFromAjaxResponse:d.getErrorDetailsFromAjaxResponse,getUid:d.getUid,forEachObjectValue:d.forEachObjectValue,getElementRightOffset:d.getElementRightOffset,ensureId:d.ensureId,resetJqueryAnimation:d.resetJqueryAnimation,redirect:d.redirect,isHashOnCurrentPage:d.isHashOnCurrentPage,isHtmlElement:d.isHtmlElement,isSellerULink:d.isSellerULink,
executeIf:d.executeIf,executeIfElse:d.executeIfElse,getPathArguments:d.getPathArguments,getContactUsFooterLink:d.getContactUsFooterLink,toggleClassOnCond:d.toggleClassOnCond,stringToBool:d.stringToBool,selectorToClass:d.selectorToClass,formEncode:d.formEncode,hasTemplate:d.hasTemplate,stripHtmlTags:d.stripHtmlTags}});ASPP.when("ASPA","spaui-shim","spaui-util").register("spaui-weblabs",function(e,g,k){var d={contactDeflection:"C",searchSuggestionPHRefactor:"C"},a={init:function(a){e.$.extend(d,a);
Object.keys(d).forEach(function(a){d[a]=d[a].toUpperCase()})},doesTreatmentEqual:function(b,e){return a.executeWithWeblab(b,function(a){return d[a]===e.toUpperCase()},function(){return!1})},getTreatment:function(b){return a.executeWithWeblab(b,function(a){return d[a]},function(){return"C"})},isControl:function(b){return a.doesTreatmentEqual(b,"C")},isAnyTreatment:function(b){return a.executeWithWeblab(b,function(a){return d[a].match(/^T[0-9]+$/)},function(){return!1})},executeWithWeblab:function(a,
e,g){return k.executeIfElse(d.hasOwnProperty(a),function(a){return e(a)},function(a){return g(a)})(a)}};return e.$.extend({init:a.init,doesTreatmentEqual:a.doesTreatmentEqual,getTreatment:a.getTreatment,isControl:a.isControl,isAnyTreatment:a.isAnyTreatment},{CONTACT_DEFLECTION:"contactDeflection",SEARCH_SUGGEST_PH:"searchSuggestionPHRefactor",SEARCH_SUGGEST_NGRAM:"searchSuggestionNGram"})});ASPP.when("ASPA","spaui-ajax","spaui-events","spaui-shim","spaui-util","spaui-history").register("spaui-workflows",
function(e,g,k,d,a,b){var p={},m={ID_REGEX:/workflow-id_(\S*)($|\s)/,WORKFLOW_URL:null,WORKFLOW_ID:"workflowId=",CLIENT_ID:"&clientId=",TRANSITION_TIME:400,AUGUR_POPULATE_DELAY:25},f={init:function(){m.WORKFLOW_URL=b.getAthenaUrlPrefix()+"workflow?";f.bind();f.initializeClientMapping()},bind:function(){k.subscribe(k.getName("newPage"),f.handleNewPage)},initializeClientMapping:function(){p["#_modules .workflow-placeholder"]="FullPageHelp";p[".spaui-help .workflow-placeholder"]="AthenaHelp"},handleNewPage:function(){var a=
f.scanForWorkflows();0<a.length&&a.forEach(f.replace)},scanForWorkflows:function(){var a=[],b=function(b){return function(c,d){var g=e.$(d),g=f.stripReplacementElement(g,b);null!==g&&a.push(g)}};e.$("#_modules .workflow-placeholder").each(b(p["#_modules .workflow-placeholder"]));e.$(".spaui-help .workflow-placeholder").each(b(p[".spaui-help .workflow-placeholder"]));return a},stripReplacementElement:function(a,b){var d=f.getIdFromPossibleReplacement(a),e=f.getSelectorOrCreateForElement(a);return null!==
d?{id:d,client:b,selector:e}:null},getSelectorOrCreateForElement:function(b){b.attr("id")||b.attr("id",a.getUid());return"#"+b.attr("id")},getIdFromPossibleReplacement:function(a){a=a.attr("class");a=m.ID_REGEX.exec(a);return null===a?null:a[1]},replace:function(a){g.get(m.WORKFLOW_URL+m.WORKFLOW_ID+a.id+m.CLIENT_ID+a.client,{dataType:"html"},function(b){f.flush(a.selector,b.data,!0)},function(b){f.flush(a.selector,b.data,!1)})},flush:function(a,b,d){a=e.$(a);var f=e.$(b);d&&0<f.children().size()?
"none"!==a.css("display")&&(f.hide(),a.replaceWith(f),setTimeout(function(){f.slideDown(m.TRANSITION_TIME)},m.AUGUR_POPULATE_DELAY)):a.remove()},overrideConfig:function(a){e.$.extend(m,a)}};return{init:f.init,overrideConfig:f.overrideConfig}})});